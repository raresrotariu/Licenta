(self.webpackChunksucd=self.webpackChunksucd||[]).push([[179],{8255:dt=>{function xe(x){return Promise.resolve().then(()=>{var s=new Error("Cannot find module '"+x+"'");throw s.code="MODULE_NOT_FOUND",s})}xe.keys=()=>[],xe.resolve=xe,xe.id=8255,dt.exports=xe},7716:(dt,xe,x)=>{"use strict";x.d(xe,{deG:()=>nD,tb:()=>XI,AFp:()=>KI,ip1:()=>su,CZH:()=>ou,hGG:()=>pO,z2F:()=>Zm,sBO:()=>Fr,Sil:()=>Hd,_Vd:()=>Uf,EJc:()=>$v,SBq:()=>bo,qLn:()=>zh,vpe:()=>Ya,gxx:()=>td,tBr:()=>ea,XFs:()=>ut,OlP:()=>vi,zs3:()=>$n,ZZ4:()=>ym,aQg:()=>Zf,soG:()=>Bv,YKP:()=>pv,v3s:()=>Xx,h0i:()=>Fl,PXZ:()=>fV,R0b:()=>Co,FiY:()=>Fa,Lbi:()=>JI,g9A:()=>QI,Qsj:()=>sC,FYo:()=>Hf,JOm:()=>$a,Tiy:()=>mm,q3G:()=>Gi,tp0:()=>ur,EAV:()=>iO,Rgc:()=>Id,dDg:()=>sA,DyG:()=>Ro,q4F:()=>cC,GfV:()=>lC,s_b:()=>gv,ifc:()=>Ye,eFA:()=>aA,G48:()=>_E,Gpc:()=>j,f3M:()=>Ph,X6Q:()=>mE,_c5:()=>Wm,VLi:()=>Bo,c2e:()=>eA,zSh:()=>nd,wAp:()=>kt,vHH:()=>Le,EiD:()=>ug,mCW:()=>ra,qzn:()=>w,JVY:()=>v,pB0:()=>pe,eBb:()=>N,L6k:()=>D,LAX:()=>$,cg1:()=>Xy,Tjo:()=>oO,kL8:()=>fS,yhl:()=>_,dqk:()=>on,sIi:()=>mo,CqO:()=>Cf,QGY:()=>zg,F4k:()=>By,RDi:()=>zo,AaK:()=>X,z3N:()=>na,qOj:()=>od,TTD:()=>ti,_Bn:()=>iC,xp6:()=>UD,uIk:()=>ff,Tol:()=>zy,DjV:()=>qw,ekj:()=>qy,Suo:()=>LI,Xpm:()=>Qe,lG2:()=>Gt,Yz7:()=>Nt,cJS:()=>un,oAB:()=>Ue,Yjl:()=>vn,Y36:()=>Ei,_UZ:()=>xw,GkF:()=>md,BQk:()=>gd,ynx:()=>Fo,qZA:()=>wf,TgZ:()=>kl,EpF:()=>Ow,n5z:()=>Wp,Ikx:()=>wd,SDv:()=>LS,QtT:()=>Is,pQV:()=>av,LFG:()=>Yn,$8M:()=>W_,NdJ:()=>Wg,CRH:()=>JC,kcU:()=>Jb,O4$:()=>J1,oxw:()=>qr,ALo:()=>Vd,lcZ:()=>Rv,Hsn:()=>HT,F$t:()=>di,Q6J:()=>Gg,s9C:()=>$y,MGl:()=>Bc,VKq:()=>zC,WLB:()=>Nv,kEZ:()=>Ld,iGM:()=>QC,MAs:()=>RT,CHM:()=>Au,LSH:()=>y0,kYT:()=>bt,Udp:()=>zs,WFA:()=>Yg,d8E:()=>Af,YNc:()=>Sw,W1O:()=>BI,_uU:()=>XT,Oqu:()=>jw,hij:()=>Pi,AsE:()=>Tf,Gf:()=>FI});var s=x(9765),H=x(5319),O=x(7574),ue=x(6682),me=x(8819);function oe(o){for(let a in o)if(o[a]===oe)return a;throw Error("Could not find renamed property on target object.")}function ie(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function X(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(X).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function K(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const P=oe({__forward_ref__:oe});function j(o){return o.__forward_ref__=j,o.toString=function(){return X(this())},o}function q(o){return ce(o)?o():o}function ce(o){return"function"==typeof o&&o.hasOwnProperty(P)&&o.__forward_ref__===j}class Le extends Error{constructor(a,c){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,c)),this.code=a}}function ae(o){return"string"==typeof o?o:null==o?"":String(o)}function ke(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ae(o)}function xt(o,a){const c=a?` in ${a}`:"";throw new Le("201",`No provider for ${ke(o)} found${c}`)}function Ot(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}function Nt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function un(o){return{providers:o.providers||[],imports:o.imports||[]}}function Tn(o){return Ai(o,Mi)||Ai(o,Ni)}function Ai(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ji(o){return o&&(o.hasOwnProperty(Zn)||o.hasOwnProperty(ar))?o[Zn]:null}const Mi=oe({\u0275prov:oe}),Zn=oe({\u0275inj:oe}),Ni=oe({ngInjectableDef:oe}),ar=oe({ngInjectorDef:oe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Vt;function Gn(o){const a=Vt;return Vt=o,a}function yt(o,a,c){const d=Tn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ut.Optional?null:void 0!==a?a:void xt(X(o),"Injector")}function Yt(o){return{toString:o}.toString()}var Bt=(()=>((Bt=Bt||{})[Bt.OnPush=0]="OnPush",Bt[Bt.Default=1]="Default",Bt))(),Ye=(()=>((Ye=Ye||{})[Ye.Emulated=0]="Emulated",Ye[Ye.None=2]="None",Ye[Ye.ShadowDom=3]="ShadowDom",Ye))();const nt="undefined"!=typeof globalThis&&globalThis,mi="undefined"!=typeof window&&window,ts="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,on=nt||"undefined"!=typeof global&&global||mi||ts,Q={},W=[],ee=oe({\u0275cmp:oe}),Oe=oe({\u0275dir:oe}),de=oe({\u0275pipe:oe}),it=oe({\u0275mod:oe}),le=oe({\u0275loc:oe}),De=oe({\u0275fac:oe}),Ve=oe({__NG_ELEMENT_ID__:oe});let Xe=0;function Qe(o){return Yt(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||W,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ye.Emulated,id:"c",styles:o.styles||W,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,p=o.features,m=o.pipes;return d.id+=Xe++,d.inputs=$t(o.inputs,c),d.outputs=$t(o.outputs),p&&p.forEach(b=>b(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(G):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(z):null,d})}function G(o){return Sn(o)||function(o){return o[Oe]||null}(o)}function z(o){return function(o){return o[de]||null}(o)}const Ie={};function Ue(o){return Yt(()=>{const a={type:o.type,bootstrap:o.bootstrap||W,declarations:o.declarations||W,imports:o.imports||W,exports:o.exports||W,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Ie[o.id]=o.type),a})}function bt(o,a){return Yt(()=>{const c=Qn(o,!0);c.declarations=a.declarations||W,c.imports=a.imports||W,c.exports=a.exports||W})}function $t(o,a){if(null==o)return Q;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}const Gt=Qe;function vn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Sn(o){return o[ee]||null}function Qn(o,a){const c=o[it]||null;if(!c&&!0===a)throw new Error(`Type ${X(o)} does not have '\u0275mod' property.`);return c}function io(o){return Array.isArray(o)&&"object"==typeof o[1]}function lr(o){return Array.isArray(o)&&!0===o[1]}function Cu(o){return 0!=(8&o.flags)}function Go(o){return 2==(2&o.flags)}function yi(o){return 1==(1&o.flags)}function Ri(o){return null!==o.template}function Ir(o){return 0!=(512&o[2])}function ro(o,a){return o.hasOwnProperty(De)?o[De]:null}class dh{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ti(){return ec}function ec(o){return o.type.prototype.ngOnChanges&&(o.setInput=Tu),Aa}function Aa(){const o=tc(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Q)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Tu(o,a,c,d){const h=tc(o)||function(o,a){return o[hh]=a}(o,{previous:Q,current:null}),p=h.current||(h.current={}),m=h.previous,b=this.declaredInputs[c],C=m[b];p[b]=new dh(C&&C.currentValue,a,m===Q),o[d]=a}ti.ngInherit=!0;const hh="__ngSimpleChanges__";function tc(o){return o[hh]||null}const qo="http://www.w3.org/2000/svg";let hl;function zo(o){hl=o}function nc(){return void 0!==hl?hl:"undefined"!=typeof document?document:void 0}function Xn(o){return!!o.listen}const so={createRenderer:(o,a)=>nc()};function Wn(o){for(;Array.isArray(o);)o=o[0];return o}function B(o,a){return Wn(a[o])}function re(o,a){return Wn(a[o.index])}function Ge(o,a){return o.data[a]}function ot(o,a){return o[a]}function pt(o,a){const c=a[o];return io(c)?c:c[0]}function Bi(o){return 4==(4&o[2])}function qt(o){return 128==(128&o[2])}function Bn(o,a){return null==a?null:o[a]}function is(o){o[18]=0}function vs(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Dt={lFrame:Yb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ma(){return Dt.bindingsEnabled}function Be(){return Dt.lFrame.lView}function _n(){return Dt.lFrame.tView}function Au(o){return Dt.lFrame.contextLView=o,o[8]}function ci(){let o=Mu();for(;null!==o&&64===o.type;)o=o.parent;return o}function Mu(){return Dt.lFrame.currentTNode}function gl(){const o=Dt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Ls(o,a){const c=Dt.lFrame;c.currentTNode=o,c.isParent=a}function ac(){return Dt.lFrame.isParent}function gh(){Dt.lFrame.isParent=!1}function mh(){return Dt.isInCheckNoChangesMode}function lc(o){Dt.isInCheckNoChangesMode=o}function cr(){const o=Dt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function bs(){return Dt.lFrame.bindingIndex}function ao(){return Dt.lFrame.bindingIndex++}function lo(o){const a=Dt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function L_(o){Dt.lFrame.inI18n=o}function _h(o,a){const c=Dt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Nu(a)}function Nu(o){Dt.lFrame.currentDirectiveIndex=o}function Up(o){const a=Dt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function V_(){return Dt.lFrame.currentQueryIndex}function cc(o){Dt.lFrame.currentQueryIndex=o}function yh(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function U_(o,a,c){if(c&ut.SkipSelf){let h=a,p=o;for(;!(h=h.parent,null!==h||c&ut.Host||(h=yh(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;a=h,o=p}const d=Dt.lFrame=Bp();return d.currentTNode=a,d.lView=o,!0}function Wo(o){const a=Bp(),c=o[1];Dt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Bp(){const o=Dt.lFrame,a=null===o?null:o.child;return null===a?Yb(o):a}function Yb(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function B_(){const o=Dt.lFrame;return Dt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Kb=B_;function Ru(){const o=B_();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function $r(){return Dt.lFrame.selectedIndex}function ml(o){Dt.lFrame.selectedIndex=o}function $i(){const o=Dt.lFrame;return Ge(o.tView,o.selectedIndex)}function J1(){Dt.lFrame.currentNamespace=qo}function Jb(){Dt.lFrame.currentNamespace=null}function vh(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:M}=p;m&&(o.contentHooks||(o.contentHooks=[])).push(-c,m),b&&((o.contentHooks||(o.contentHooks=[])).push(c,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,b)),C&&(o.viewHooks||(o.viewHooks=[])).push(-c,C),S&&((o.viewHooks||(o.viewHooks=[])).push(c,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,S)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(c,M)}}function uc(o,a,c){wh(o,a,3,c)}function bh(o,a,c,d){(3&o[2])===c&&wh(o,a,c,d)}function Hp(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function wh(o,a,c,d){const p=null!=d?d:-1,m=a.length-1;let b=0;for(let C=void 0!==d?65535&o[18]:0;C<m;C++)if("number"==typeof a[C+1]){if(b=a[C],null!=d&&b>=d)break}else a[C]<0&&(o[18]+=65536),(b<p||-1==p)&&(jp(o,c,a,C),o[18]=(4294901760&o[18])+C+2),C++}function jp(o,a,c,d){const h=c[d]<0,p=c[d+1],b=o[h?-c[d]:c[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class yl{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Ch(o,a,c){const d=Xn(o);let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const m=c[h++],b=c[h++],C=c[h++];d?o.setAttribute(a,b,C,m):a.setAttributeNS(m,b,C)}else{const m=p,b=c[++h];rs(m)?d&&o.setProperty(a,m,b):d?o.setAttribute(a,m,b):a.setAttribute(m,b),h++}}return h}function Gp(o){return 3===o||4===o||6===o}function rs(o){return 64===o.charCodeAt(0)}function Eh(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Hi(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Hi(o,a,c,d,h){let p=0,m=o.length;if(-1===a)m=-1;else for(;p<o.length;){const b=o[p++];if("number"==typeof b){if(b===a){m=-1;break}if(b>a){m=p-1;break}}}for(;p<o.length;){const b=o[p];if("number"==typeof b)break;if(b===c){if(null===d)return void(null!==h&&(o[p+1]=h));if(d===o[p+1])return void(o[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==m&&(o.splice(m,0,a),p=m+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==h&&o.splice(p++,0,h)}function Dh(o){return-1!==o}function Yo(o){return 32767&o}function vl(o,a){let c=function(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let H_=!0;function Th(o){const a=H_;return H_=o,a}let r0=0;function Ra(o,a){const c=dn(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,Z_(d.data,o),Z_(a,null),Z_(d.blueprint,null));const h=ct(o,a),p=o.injectorIndex;if(Dh(h)){const m=Yo(h),b=vl(h,a),C=b[1].data;for(let S=0;S<8;S++)a[p+S]=b[m+S]|C[m+S]}return a[p+8]=h,p}function Z_(o,a){o.push(0,0,0,0,0,0,0,0,a)}function dn(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ct(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){const p=h[1],m=p.type;if(d=2===m?p.declTNode:1===m?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Tt(o,a,c){!function(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ve)&&(d=c[Ve]),null==d&&(d=c[Ve]=r0++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,c)}function ri(o,a,c){if(c&ut.Optional)return o;xt(a,"NodeInjector")}function dc(o,a,c,d){if(c&ut.Optional&&void 0===d&&(d=null),0==(c&(ut.Self|ut.Host))){const h=o[9],p=Gn(void 0);try{return h?h.get(a,d,c&ut.Optional):yt(a,d,c&ut.Optional)}finally{Gn(p)}}return ri(d,a,c)}function bl(o,a,c,d=ut.Default,h){if(null!==o){const p=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ve)?o[Ve]:void 0;return"number"==typeof a?a>=0?255&a:q_:a}(c);if("function"==typeof p){if(!U_(a,o,d))return d&ut.Host?ri(h,c,d):dc(a,c,d,h);try{const m=p(d);if(null!=m||d&ut.Optional)return m;xt(c)}finally{Kb()}}else if("number"==typeof p){let m=null,b=dn(o,a),C=-1,S=d&ut.Host?a[16][6]:null;for((-1===b||d&ut.SkipSelf)&&(C=-1===b?ct(o,a):a[b+8],-1!==C&&zp(d,!1)?(m=a[1],b=Yo(C),a=vl(C,a)):b=-1);-1!==b;){const M=a[1];if(hc(p,b,M.data)){const k=z_(b,a,c,m,d,S);if(k!==ji)return k}C=a[b+8],-1!==C&&zp(d,a[1].data[b+8]===S)&&hc(p,b,a)?(m=M,b=Yo(C),a=vl(C,a)):b=-1}}}return dc(a,c,d,h)}const ji={};function q_(){return new Ko(ci(),Be())}function z_(o,a,c,d,h,p){const m=a[1],b=m.data[o+8],M=Ah(b,m,c,null==d?Go(b)&&H_:d!=m&&0!=(3&b.type),h&ut.Host&&p===b);return null!==M?Pn(a,m,M,b):ji}function Ah(o,a,c,d,h){const p=o.providerIndexes,m=a.data,b=1048575&p,C=o.directiveStart,M=p>>20,L=h?b+M:o.directiveEnd;for(let Y=d?b:b+M;Y<L;Y++){const ne=m[Y];if(Y<C&&c===ne||Y>=C&&ne.type===c)return Y}if(h){const Y=m[C];if(Y&&Ri(Y)&&Y.type===c)return C}return null}function Pn(o,a,c,d){let h=o[c];const p=a.data;if(function(o){return o instanceof yl}(h)){const m=h;m.resolving&&function(o,a){throw new Le("200",`Circular dependency in DI detected for ${o}`)}(ke(p[c]));const b=Th(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?Gn(m.injectImpl):null;U_(o,d,ut.Default);try{h=o[c]=m.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const m=ec(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],a)}finally{null!==C&&Gn(C),Th(b),m.resolving=!1,Kb()}}return h}function hc(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function zp(o,a){return!(o&ut.Self||o&ut.Host&&a)}class Ko{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return bl(this._tNode,this._lView,a,d,c)}}function Wp(o){return Yt(()=>{const a=o.prototype.constructor,c=a[De]||Yp(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const p=h[De]||Yp(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Yp(o){return ce(o)?()=>{const a=Yp(q(o));return a&&a()}:ro(o)}function W_(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Gp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(ci(),o)}const Qo="__parameters__";function Jo(o,a,c){return Yt(()=>{const d=function(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const m=new h(...p);return b.annotation=m,b;function b(C,S,M){const k=C.hasOwnProperty(Qo)?C[Qo]:Object.defineProperty(C,Qo,{value:[]})[Qo];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(m),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class vi{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Nt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nD=new vi("AnalyzeForEntryComponents"),Ro=Function;function Us(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Us(d,a)):a!==o&&a.push(d)}return a}function Bs(o,a){o.forEach(c=>Array.isArray(c)?Bs(c,a):a(c))}function pc(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function wl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Pa(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function tr(o,a,c){let d=gc(o,a);return d>=0?o[1|d]=c:(d=~d,function(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function Ci(o,a){const c=gc(o,a);if(c>=0)return o[1|c]}function gc(o,a){return function(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const p=d+(h-d>>1),m=o[p<<c];if(a===m)return p<<c;m>a?h=p:d=p+1}return~(h<<c)}(o,a,1)}const Pu={},Fu="__NG_DI_FLAG__",bc="ngTempTokenPath",xh=/\n/gm,Lu="__source",wc=oe({provide:String,useValue:oe});let Cl;function Kt(o){const a=Cl;return Cl=o,a}function o0(o,a=ut.Default){if(void 0===Cl)throw new Error("inject() must be called from an injection context");return null===Cl?yt(o,void 0,a):Cl.get(o,a&ut.Optional?null:void 0,a)}function Yn(o,a=ut.Default){return(Vt||o0)(q(o),a)}const Ph=Yn;function El(o){const a=[];for(let c=0;c<o.length;c++){const d=q(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,p=ut.Default;for(let m=0;m<d.length;m++){const b=d[m],C=ig(b);"number"==typeof C?-1===C?h=b.token:p|=C:h=b}a.push(Yn(h,p))}else a.push(Yn(d))}return a}function Cc(o,a){return o[Fu]=a,o.prototype[Fu]=a,o}function ig(o){return o[Fu]}function co(o,a,c,d){const h=o[bc];throw a[Lu]&&h.unshift(a[Lu]),o.message=function(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=X(a);if(Array.isArray(a))h=a.map(X).join(" -> ");else if("object"==typeof a){let p=[];for(let m in a)if(a.hasOwnProperty(m)){let b=a[m];p.push(m+":"+("string"==typeof b?JSON.stringify(b):X(b)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(xh,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[bc]=null,o}const ea=Cc(Jo("Inject",o=>({token:o})),-1),Fa=Cc(Jo("Optional"),8),ur=Cc(Jo("SkipSelf"),4);let $u;function ta(o){var a;return(null===(a=function(){if(void 0===$u&&($u=null,on.trustedTypes))try{$u=on.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return $u}())||void 0===a?void 0:a.createHTML(o))||o}class Sl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ry extends Sl{getTypeName(){return"HTML"}}class sy extends Sl{getTypeName(){return"Style"}}class Bh extends Sl{getTypeName(){return"Script"}}class d0 extends Sl{getTypeName(){return"URL"}}class h0 extends Sl{getTypeName(){return"ResourceURL"}}function na(o){return o instanceof Sl?o.changingThisBreaksApplicationSecurity:o}function w(o,a){const c=_(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function _(o){return o instanceof Sl&&o.getTypeName()||null}function v(o){return new ry(o)}function D(o){return new sy(o)}function N(o){return new Bh(o)}function $(o){return new d0(o)}function pe(o){return new h0(o)}function Ze(o){const a=new Pt(o);return function(){try{return!!(new window.DOMParser).parseFromString(ta(""),"text/html")}catch(o){return!1}}()?new ft(a):a}class ft{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(ta(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Pt{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ta(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=ta(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let h=c.length-1;0<h;h--){const m=c.item(h).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&a.removeAttribute(m)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const ni=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ra(o){return(o=String(o)).match(ni)||o.match(uo)?o:"unsafe:"+o}function Gu(o){return(o=String(o)).split(",").map(a=>ra(a.trim())).join(", ")}function Cs(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Va(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const qu=Cs("area,br,col,hr,img,wbr"),$h=Cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sc=Cs("rp,rt"),lg=Va(qu,Va($h,Cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Va(Sc,Cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Va(Sc,$h)),Ua=Cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Il=Cs("srcset"),p0=Va(Ua,Il,Cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HN=Cs("script,style,template");class g0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!lg.hasOwnProperty(c))return this.sanitizedSomething=!0,!HN.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),m=p.name,b=m.toLowerCase();if(!p0.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;Ua[b]&&(C=ra(C)),Il[b]&&(C=Gu(C)),this.buf.push(" ",m,'="',cD(C),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();lg.hasOwnProperty(c)&&!qu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(cD(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const jN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZN=/([^\#-~ |!])/g;function cD(o){return o.replace(/&/g,"&amp;").replace(jN,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ZN,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cg;function ug(o,a){let c=null;try{cg=cg||Ze(o);let d=a?String(a):"";c=cg.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=cg.getInertBodyElement(d)}while(d!==p);return ta((new g0).sanitizeChildren(m0(c)||c))}finally{if(c){const d=m0(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function m0(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Gi=(()=>((Gi=Gi||{})[Gi.NONE=0]="NONE",Gi[Gi.HTML=1]="HTML",Gi[Gi.STYLE=2]="STYLE",Gi[Gi.SCRIPT=3]="SCRIPT",Gi[Gi.URL=4]="URL",Gi[Gi.RESOURCE_URL=5]="RESOURCE_URL",Gi))();function y0(o){const a=function(){const o=Be();return o&&o[12]}();return a?a.sanitize(Gi.URL,o)||"":w(o,"URL")?na(o):ra(ae(o))}const Zh="__ngContext__";function Ar(o,a){o[Zh]=a}function w0(o){const a=function(o){return o[Zh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function zu(o){return o.ngOriginalError}function QN(o,...a){o.error(...a)}class zh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=this._findContext(a),h=(o=a)&&o.ngErrorLogger||QN;var o;h(this._console,"ERROR",a),c&&h(this._console,"ORIGINAL ERROR",c),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(a){return a?a.ngDebugContext||this._findContext(zu(a)):null}_findOriginalError(a){let c=a&&zu(a);for(;c&&zu(c);)c=zu(c);return c||null}}const eR=/^>|^->|<!--|-->|--!>|<!-$/g,S0=/(<|>)/;const bD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(on))();function Ba(o){return o instanceof Function?o():o}var $a=(()=>(($a=$a||{})[$a.Important=1]="Important",$a[$a.DashCase=2]="DashCase",$a))();let I0;function hy(o,a){return I0(o,a)}function gg(o){const a=o[3];return lr(a)?a[3]:a}function fy(o){return A0(o[13])}function TD(o){return A0(o[4])}function A0(o){for(;null!==o&&!lr(o);)o=o[4];return o}function Wu(o,a,c,d,h){if(null!=d){let p,m=!1;lr(d)?p=d:io(d)&&(m=!0,d=d[0]);const b=Wn(d);0===o&&null!==c?null==h?ND(a,c,b):Mc(a,c,b,h||null,!0):1===o&&null!==c?Mc(a,c,b,h||null,!0):2===o?O0(a,b,m):3===o&&a.destroyNode(b),null!=p&&function(o,a,c,d,h){const p=c[7];p!==Wn(c)&&Wu(a,o,d,p,h);for(let b=10;b<c.length;b++){const C=c[b];Qu(C[1],C,o,a,d,p)}}(a,o,p,c,h)}}function py(o,a){return Xn(o)?o.createText(a):o.createTextNode(a)}function SD(o,a,c){Xn(o)?o.setValue(a,c):a.textContent=c}function aR(o,a){return o.createComment(function(o){return o.replace(eR,a=>a.replace(S0,"\u200b$1\u200b"))}(a))}function M0(o,a,c){return Xn(o)?o.createElement(a,c):null===c?o.createElement(a):o.createElementNS(c,a)}function gy(o,a){const c=o[9],d=c.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,vs(h,-1)),c.splice(d,1)}function my(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const h=d[17];null!==h&&h!==o&&gy(h,d),a>0&&(o[c-1][4]=d[4]);const p=wl(o,10+a);!function(o,a){Qu(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const m=p[19];null!==m&&m.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ID(o,a){if(!(256&a[2])){const c=a[11];Xn(c)&&c.destroyNode&&Qu(o,a,c,3,null,null),function(o){let a=o[13];if(!a)return Ac(o[1],o);for(;a;){let c=null;if(io(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)io(a)&&Ac(a[1],a),a=a[3];null===a&&(a=o),io(a)&&Ac(a[1],a),c=a&&a[4]}a=c}}(a)}}function Ac(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof yl)){const p=c[d+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const b=h[p[m]],C=p[m+1];try{C.call(b)}finally{}}else try{p.call(h)}finally{}}}}(o,a),function(o,a){const c=o.cleanup,d=a[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const m=c[p+1],b="function"==typeof m?m(a):Wn(a[m]),C=d[h=c[p+2]],S=c[p+3];"boolean"==typeof S?b.removeEventListener(c[p],C,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),p+=2}else{const m=d[h=c[p+1]];c[p].call(m)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();a[7]=null}}(o,a),1===a[1].type&&Xn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&lr(a[3])){c!==a[3]&&gy(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function AD(o,a,c){return MD(o,a.parent,c)}function MD(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Ye.None||h===Ye.Emulated)return null}return re(d,c)}function Mc(o,a,c,d,h){Xn(o)?o.insertBefore(a,c,d,h):a.insertBefore(c,d,h)}function ND(o,a,c){Xn(o)?o.appendChild(a,c):a.appendChild(c)}function RD(o,a,c,d,h){null!==d?Mc(o,a,c,d,h):ND(o,a,c)}function _y(o,a){return Xn(o)?o.parentNode(a):a.parentNode}function vy(o,a,c){return Ku(o,a,c)}function Yu(o,a,c){return 40&o.type?re(o,c):null}let R0,Ku=Yu;function kD(o,a){Ku=o,R0=a}function Yh(o,a,c,d){const h=AD(o,d,a),p=a[11],b=vy(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)RD(p,h,c[C],b,!1);else RD(p,h,c,b,!1);void 0!==R0&&R0(p,d,a,c,h)}function by(o,a){if(null!==a){const c=a.type;if(3&c)return re(a,o);if(4&c)return x0(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return by(o,d);{const h=o[a.index];return lr(h)?x0(-1,h):Wn(h)}}if(32&c)return hy(a,o)()||Wn(o[a.index]);{const d=k0(o,a);return null!==d?Array.isArray(d)?d[0]:by(gg(o[16]),d):by(o,a.next)}}return null}function k0(o,a){return null!==a?o[16][6].projection[a.projection]:null}function x0(o,a){const c=10+o+1;if(c<a.length){const d=a[c],h=d[1].firstChild;if(null!==h)return by(d,h)}return a[7]}function O0(o,a,c){const d=_y(o,a);d&&function(o,a,c,d){Xn(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}function wy(o,a,c,d,h,p,m){for(;null!=c;){const b=d[c.index],C=c.type;if(m&&0===a&&(b&&Ar(Wn(b),d),c.flags|=4),64!=(64&c.flags))if(8&C)wy(o,a,c.child,d,h,p,!1),Wu(a,o,h,b,p);else if(32&C){const S=hy(c,d);let M;for(;M=S();)Wu(a,o,h,M,p);Wu(a,o,h,b,p)}else 16&C?Nc(o,a,d,c,h,p):Wu(a,o,h,b,p);c=m?c.projectionNext:c.next}}function Qu(o,a,c,d,h,p){wy(c,d,o.firstChild,a,h,p,!1)}function Nc(o,a,c,d,h,p){const m=c[16],C=m[6].projection[d.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Wu(a,o,h,C[S],p);else wy(o,a,C,m[3],h,p,!0)}function OD(o,a,c){Xn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function P0(o,a,c){Xn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function F0(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||o.charCodeAt(h+p)<=32)return h}c=h+1}}const PD="ng-template";function mR(o,a,c){let d=0;for(;d<o.length;){let h=o[d++];if(c&&"class"===h){if(h=o[d],-1!==F0(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function L0(o){return 4===o.type&&o.value!==PD}function _R(o,a,c){return a===(4!==o.type||c?o.value:PD)}function yR(o,a,c){let d=4;const h=o.attrs||[],p=function(o){for(let a=0;a<o.length;a++)if(Gp(o[a]))return a;return o.length}(h);let m=!1;for(let b=0;b<a.length;b++){const C=a[b];if("number"!=typeof C){if(!m)if(4&d){if(d=2|1&d,""!==C&&!_R(o,C,c)||""===C&&1===a.length){if(sa(d))return!1;m=!0}}else{const S=8&d?C:a[++b];if(8&d&&null!==o.attrs){if(!mR(o.attrs,S,c)){if(sa(d))return!1;m=!0}continue}const k=V0(8&d?"class":C,h,L0(o),c);if(-1===k){if(sa(d))return!1;m=!0;continue}if(""!==S){let L;L=k>p?"":h[k+1].toLowerCase();const Y=8&d?L:null;if(Y&&-1!==F0(Y,S,0)||2&d&&S!==L){if(sa(d))return!1;m=!0}}}}else{if(!m&&!sa(d)&&!sa(C))return!1;if(m&&sa(C))continue;m=!1,d=C|1&d}}return sa(d)||m}function sa(o){return 0==(1&o)}function V0(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const m=a[h];if(m===o)return h;if(3===m||6===m)p=!0;else{if(1===m||2===m){let b=a[++h];for(;"string"==typeof b;)b=a[++h];continue}if(4===m)break;if(0===m){h+=4;continue}}h+=p?1:2}return-1}return function(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function FD(o,a,c=!1){for(let d=0;d<a.length;d++)if(yR(o,a[d],c))return!0;return!1}function f2(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Me(o,a){return o?":not("+a.trim()+")":a}function VD(o){let a=o[0],c=1,d=2,h="",p=!1;for(;c<o.length;){let m=o[c];if("string"==typeof m)if(2&d){const b=o[++c];h+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+m:4&d&&(h+=" "+m);else""!==h&&!sa(m)&&(a+=Me(p,h),h=""),d=m,p=p||!sa(d);c++}return""!==h&&(a+=Me(p,h)),a}const Zt={};function UD(o){BD(_n(),Be(),$r()+o,mh())}function BD(o,a,c,d){if(!d)if(3==(3&a[2])){const p=o.preOrderCheckHooks;null!==p&&uc(a,p,c)}else{const p=o.preOrderHooks;null!==p&&bh(a,p,0,c)}ml(c)}function oa(o,a){return o<<17|a<<2}function aa(o){return o>>17&32767}function HD(o){return 2|o}function la(o){return(131068&o)>>2}function xi(o,a){return-131069&o|a<<2}function fo(o){return 1|o}function j0(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],p=c[d+1];if(-1!==p){const m=o.data[p];cc(h),m.contentQueries(2,a[p],p)}}}function kc(o,a,c,d,h,p,m,b,C,S){const M=a.blueprint.slice();return M[0]=h,M[2]=140|d,is(M),M[3]=M[15]=o,M[8]=c,M[10]=m||o&&o[10],M[11]=b||o&&o[11],M[12]=C||o&&o[12]||null,M[9]=S||o&&o[9]||null,M[6]=p,M[16]=2==a.type?o[16]:M,M}function xc(o,a,c,d,h){let p=o.data[a];if(null===p)p=vg(o,a,c,d,h),Dt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const m=gl();p.injectorIndex=null===m?-1:m.injectorIndex}return Ls(p,!0),p}function vg(o,a,c,d,h){const p=Mu(),m=ac(),C=o.data[a]=function(o,a,c,d,h,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=C),null!==p&&(m?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}function Oc(o,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function bg(o,a,c){Wo(a);try{const d=o.viewQuery;null!==d&&Al(1,d,c);const h=o.template;null!==h&&G0(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&j0(o,a),o.staticViewQueries&&Al(2,o.viewQuery,c);const p=o.components;null!==p&&function(o,a){for(let c=0;c<a.length;c++)Ig(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Ru()}}function Xh(o,a,c,d){const h=a[2];if(256==(256&h))return;Wo(a);const p=mh();try{is(a),function(o){Dt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&G0(o,a,c,2,d);const m=3==(3&h);if(!p)if(m){const S=o.preOrderCheckHooks;null!==S&&uc(a,S,null)}else{const S=o.preOrderHooks;null!==S&&bh(a,S,0,null),Hp(a,0)}if(function(o){for(let a=fy(o);null!==a;a=TD(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const h=c[d],p=h[3];0==(1024&h[2])&&vs(p,1),h[2]|=1024}}}(a),function(o){for(let a=fy(o);null!==a;a=TD(a))for(let c=10;c<a.length;c++){const d=a[c],h=d[1];qt(d)&&Xh(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&j0(o,a),!p)if(m){const S=o.contentCheckHooks;null!==S&&uc(a,S)}else{const S=o.contentHooks;null!==S&&bh(a,S,1),Hp(a,1)}!function(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)ml(~h);else{const p=h,m=c[++d],b=c[++d];_h(m,p),b(2,a[p])}}}finally{ml(-1)}}(o,a);const b=o.components;null!==b&&function(o,a){for(let c=0;c<a.length;c++)aT(o,a[c])}(a,b);const C=o.viewQuery;if(null!==C&&Al(2,C,d),!p)if(m){const S=o.viewCheckHooks;null!==S&&uc(a,S)}else{const S=o.viewHooks;null!==S&&bh(a,S,2),Hp(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,vs(a[3],-1))}finally{Ru()}}function Z0(o,a,c,d){const h=a[10],p=!mh(),m=Bi(a);try{p&&!m&&h.begin&&h.begin(),m&&bg(o,a,d),Xh(o,a,c,d)}finally{p&&!m&&h.end&&h.end()}}function G0(o,a,c,d,h){const p=$r(),m=2&d;try{ml(-1),m&&a.length>20&&BD(o,a,20,mh()),c(d,h)}finally{ml(p)}}function XD(o,a,c){if(Cu(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const m=o.data[p];m.contentQueries&&m.contentQueries(1,c[p],p)}}}function q0(o,a,c){!Ma()||(function(o,a,c,d){const h=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||Ra(c,a),Ar(d,a);const m=c.initialInputs;for(let b=h;b<p;b++){const C=o.data[b],S=Ri(C);S&&J0(a,c,C);const M=Pn(a,o,b,c);Ar(M,a),null!==m&&ew(0,b-h,M,C,0,m),S&&(pt(c.index,a)[8]=M)}}(o,a,c,re(c,a)),128==(128&c.flags)&&function(o,a,c){const d=c.directiveStart,h=c.directiveEnd,m=c.index,b=Dt.lFrame.currentDirectiveIndex;try{ml(m);for(let C=d;C<h;C++){const S=o.data[C],M=a[C];Nu(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Tg(S,M)}}finally{ml(-1),Nu(b)}}(o,a,c))}function Nr(o,a,c=re){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const m=d[p+1],b=-1===m?c(a,o):o[m];o[h++]=b}}}function ef(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Ty(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Ty(o,a,c,d,h,p,m,b,C,S){const M=20+d,k=M+h,L=function(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:Zt);return c}(M,k),Y="function"==typeof S?S():S;return L[1]={type:o,blueprint:L,template:c,queries:null,viewQuery:b,declTNode:a,data:L.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:Y,incompleteFirstPass:!1}}function Eg(o,a,c,d){const h=ow(a);null===c?h.push(d):(h.push(c),o.firstCreatePass&&tf(o).push(d,h.length-1))}function Sy(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,h):c[d]=[a,h]}return c}function Hs(o,a,c,d,h,p,m,b){const C=re(a,c);let M,S=a.inputs;!b&&null!=S&&(M=S[d])?(lw(o,c,M,d,h),Go(a)&&function(o,a){const c=pt(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=m?m(h,a.value||"",d):h,Xn(p)?p.setProperty(C,d,h):rs(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function Dg(o,a,c,d){let h=!1;if(Ma()){const p=function(o,a,c){const d=o.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const m=d[p];FD(c,m.selectors,!1)&&(h||(h=[]),Tt(Ra(c,a),o,m.type),Ri(m)?(nT(o,c),h.unshift(m)):h.push(m))}return h}(o,a,c),m=null===d?null:{"":-1};if(null!==p){h=!0,rT(c,o.data.length,p.length);for(let M=0;M<p.length;M++){const k=p[M];k.providersResolver&&k.providersResolver(k)}let b=!1,C=!1,S=Oc(o,a,p.length,null);for(let M=0;M<p.length;M++){const k=p[M];c.mergedAttrs=Eh(c.mergedAttrs,k.hostAttrs),sT(o,c,a,S,k),iT(S,k,m),null!==k.contentQueries&&(c.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=128);const L=k.type.prototype;!b&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),b=!0),!C&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),C=!0),S++}!function(o,a){const d=a.directiveEnd,h=o.data,p=a.attrs,m=[];let b=null,C=null;for(let S=a.directiveStart;S<d;S++){const M=h[S],k=M.inputs,L=null===p||L0(a)?null:oT(k,p);m.push(L),b=Sy(k,S,b),C=Sy(M.outputs,S,C)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=m,a.inputs=b,a.outputs=C}(o,c)}m&&function(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new Le("301",`Export of name '${a[h+1]}' not found!`);d.push(a[h],p)}}}(c,d,m)}return c.mergedAttrs=Eh(c.mergedAttrs,c.attrs),h}function Ay(o,a,c,d,h,p){const m=p.hostBindings;if(m){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const C=~a.index;(function(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(b)!=C&&b.push(C),b.push(d,h,m)}}function Tg(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function nT(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function iT(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Ri(a)&&(c[""]=o)}}function rT(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function sT(o,a,c,d,h){o.data[d]=h;const p=h.factory||(h.factory=ro(h.type)),m=new yl(p,Ri(h),null);o.blueprint[d]=m,c[d]=m,Ay(o,a,0,d,Oc(o,c,h.hostVars,Zt),h)}function J0(o,a,c){const d=re(a,o),h=ef(c),p=o[10],m=Ag(o,kc(o,h,null,c.onPush?64:16,d,a,p,p.createRenderer(d,c),null,null));o[a.index]=m}function X0(o,a,c,d,h,p,m){if(null==p)Xn(o)?o.removeAttribute(a,h,c):a.removeAttribute(h);else{const b=null==m?ae(p):m(p,d||"",h);Xn(o)?o.setAttribute(a,h,b,c):c?a.setAttributeNS(c,h,b):a.setAttribute(h,b)}}function ew(o,a,c,d,h,p){const m=p[a];if(null!==m){const b=d.setInput;for(let C=0;C<m.length;){const S=m[C++],M=m[C++],k=m[C++];null!==b?d.setInput(c,k,S,M):c[M]=k}}}function oT(o,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return c}function Sg(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function aT(o,a){const c=pt(a,o);if(qt(c)){const d=c[1];80&c[2]?Xh(d,c,d.template,c[8]):c[5]>0&&iw(c)}}function iw(o){for(let d=fy(o);null!==d;d=TD(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const m=p[1];Xh(m,p,m.template,p[8])}else p[5]>0&&iw(p)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=pt(c[d],o);qt(h)&&h[5]>0&&iw(h)}}function Ig(o,a){const c=pt(a,o),d=c[1];(function(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),bg(d,c,c[8])}function Ag(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function My(o){for(;o;){o[2]|=64;const a=gg(o);if(Ir(o)&&!a)return o;o=a}return null}function sw(o,a,c){const d=a[10];d.begin&&d.begin();try{Xh(o,a,o.template,c)}catch(h){throw ss(a,h),h}finally{d.end&&d.end()}}function Xu(o){!function(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=w0(c),h=d[1];Z0(h,d,h.template,c)}}(o[8])}function Al(o,a,c){cc(0),a(o,c)}const Ry=(()=>Promise.resolve(null))();function ow(o){return o[7]||(o[7]=[])}function tf(o){return o.cleanup||(o.cleanup=[])}function aw(o,a,c){return(null===o||Ri(o))&&(c=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}function ss(o,a){const c=o[9],d=c?c.get(zh,null):null;d&&d.handleError(a)}function lw(o,a,c,d,h){for(let p=0;p<c.length;){const m=c[p++],b=c[p++],C=a[m],S=o.data[m];null!==S.setInput?S.setInput(C,h,d,b):C[b]=h}}function po(o,a,c){const d=B(a,o);SD(o[11],d,c)}function ed(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?p=b:1==p?h=K(h,b):2==p&&(d=K(d,b+": "+a[++m]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}const td=new vi("INJECTOR",-1);class nf{get(a,c=Pu){if(c===Pu){const d=new Error(`NullInjectorError: No provider for ${X(a)}!`);throw d.name="NullInjectorError",d}return c}}const nd=new vi("Set Injector scope."),id={},uw={};let rf;function sf(){return void 0===rf&&(rf=new nf),rf}function dT(o,a=null,c=null,d){return new dw(o,c,a||sf(),d)}class dw{constructor(a,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&Bs(c,b=>this.processProvider(b,a,c)),Bs([a],b=>this.processInjectorType(b,[],p)),this.records.set(td,rd(void 0,this));const m=this.records.get(nd);this.scope=null!=m?m.value:null,this.source=h||("object"==typeof a?null:X(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Pu,d=ut.Default){this.assertNotDestroyed();const h=Kt(this),p=Gn(void 0);try{if(!(d&ut.SkipSelf)){let b=this.records.get(a);if(void 0===b){const C=("function"==typeof(o=a)||"object"==typeof o&&o instanceof vi)&&Tn(a);b=C&&this.injectableDefInScope(C)?rd(af(a),id):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(d&ut.Self?sf():this.parent).get(a,c=d&ut.Optional&&c===Pu?null:c)}catch(m){if("NullInjectorError"===m.name){if((m[bc]=m[bc]||[]).unshift(X(a)),h)throw m;return co(m,a,"R3InjectorError",this.source)}throw m}finally{Gn(p),Kt(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(X(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,c,d){if(!(a=q(a)))return!1;let h=Ji(a);const p=null==h&&a.ngModule||void 0,m=void 0===p?a:p,b=-1!==d.indexOf(m);if(void 0!==p&&(h=Ji(p)),null==h)return!1;if(null!=h.imports&&!b){let M;d.push(m);try{Bs(h.imports,k=>{this.processInjectorType(k,c,d)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:L,providers:Y}=M[k];Bs(Y,ne=>this.processProvider(ne,L,Y||W))}}this.injectorDefTypes.add(m);const C=ro(m)||(()=>new m);this.records.set(m,rd(C,id));const S=h.providers;if(null!=S&&!b){const M=a;Bs(S,k=>this.processProvider(k,M,S))}return void 0!==p&&void 0!==a.providers}processProvider(a,c,d){let h=Ml(a=q(a))?a:q(a&&a.provide);const p=fT(o=a)?rd(void 0,o.useValue):rd(fw(o),id);var o;if(Ml(a)||!0!==a.multi)this.records.get(h);else{let m=this.records.get(h);m||(m=rd(void 0,id,!0),m.factory=()=>El(m.multi),this.records.set(h,m)),h=a,m.multi.push(a)}this.records.set(h,p)}hydrate(a,c){return c.value===id&&(c.value=uw,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const c=q(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function af(o){const a=Tn(o),c=null!==a?a.factory:ro(o);if(null!==c)return c;if(o instanceof vi)throw new Error(`Token ${X(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const d=Pa(a,"?");throw new Error(`Can't resolve all parameters for ${X(o)}: (${d.join(", ")}).`)}const c=function(o){const a=o&&(o[Mi]||o[Ni]);if(a){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function fw(o,a,c){let d;if(Ml(o)){const h=q(o);return ro(h)||af(h)}if(fT(o))d=()=>q(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...El(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))d=()=>Yn(q(o.useExisting));else{const h=q(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return ro(h)||af(h);d=()=>new h(...El(o.deps))}return d}function rd(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function fT(o){return null!==o&&"object"==typeof o&&wc in o}function Ml(o){return"function"==typeof o}const ky=function(o,a,c){return function(o,a=null,c=null,d){const h=dT(o,a,c,d);return h._resolveInjectorDefTypes(),h}({name:c},a,o,c)};let $n=(()=>{class o{static create(c,d){return Array.isArray(c)?ky(c,d,""):ky(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=Pu,o.NULL=new nf,o.\u0275prov=Nt({token:o,providedIn:"any",factory:()=>Yn(td)}),o.__NG_ELEMENT_ID__=-1,o})();function vw(o,a){vh(w0(o)[1],ci())}function od(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(Ri(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(c){d.push(h);const m=o;m.inputs=qi(o.inputs),m.declaredInputs=qi(o.declaredInputs),m.outputs=qi(o.outputs);const b=h.hostBindings;b&&GR(o,b);const C=h.viewQuery,S=h.contentQueries;if(C&&IT(o,C),S&&ZR(o,S),ie(o.inputs,h.inputs),ie(o.declaredInputs,h.declaredInputs),ie(o.outputs,h.outputs),Ri(h)&&h.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let m=0;m<p.length;m++){const b=p[m];b&&b.ngInherit&&b(o),b===od&&(c=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Eh(h.hostAttrs,c=Eh(c,h.hostAttrs))}}(d)}function qi(o){return o===Q?{}:o===W?[]:o}function IT(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function ZR(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function GR(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}let Ug=null;function ad(){if(!Ug){const o=on.Symbol;if(o&&o.iterator)Ug=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ug=d)}}}return Ug}class Po{constructor(a){this.wrapped=a}static wrap(a){return new Po(a)}static unwrap(a){return Po.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Po}}function mo(o){return!!$g(o)&&(Array.isArray(o)||!(o instanceof Map)&&ad()in o)}function $g(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function js(o,a,c){return o[a]=c}function kr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Za(o,a,c,d){const h=kr(o,a,c);return kr(o,a+1,d)||h}function ff(o,a,c,d){const h=Be();return kr(h,ao(),a)&&(_n(),function(o,a,c,d,h,p){const m=re(o,a);X0(a[11],m,p,o.value,c,d,h)}($i(),h,o,a,c,d)),ff}function ld(o,a,c,d){return kr(o,ao(),c)?a+ae(c)+d:Zt}function ud(o,a,c,d,h,p,m,b,C,S){const k=function(o,a,c,d,h,p){const m=Za(o,a,c,d);return Za(o,a+2,h,p)||m}(o,bs(),c,h,m,C);return lo(4),k?a+ae(c)+d+ae(h)+p+ae(m)+b+ae(C)+S:Zt}function Sw(o,a,c,d,h,p,m,b){const C=Be(),S=_n(),M=o+20,k=S.firstCreatePass?function(o,a,c,d,h,p,m,b,C){const S=a.consts,M=xc(a,o,4,m||null,Bn(S,b));Dg(a,c,M,Bn(S,C)),vh(a,M);const k=M.tViews=Ty(2,M,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,M),k.queries=a.queries.embeddedTView(M)),M}(M,S,C,a,c,d,h,p,m):S.data[M];Ls(k,!1);const L=C[11].createComment("");Yh(S,C,L,k),Ar(L,C),Ag(C,C[M]=Sg(L,C,L,k)),yi(k)&&q0(S,C,k),null!=m&&Nr(C,k,b)}function RT(o){return ot(Dt.lFrame.contextLView,20+o)}function Ei(o,a=ut.Default){const c=Be();return null===c?Yn(o,a):bl(ci(),c,q(o),a)}function Gg(o,a,c){const d=Be();return kr(d,ao(),a)&&Hs(_n(),$i(),d,o,a,d[11],c,!1),Gg}function Uy(o,a,c,d,h){const m=h?"class":"style";lw(o,c,a.inputs[m],m,d)}function kl(o,a,c,d){const h=Be(),p=_n(),m=20+o,b=h[11],C=h[m]=M0(b,a,Dt.lFrame.currentNamespace),S=p.firstCreatePass?function(o,a,c,d,h,p,m){const b=a.consts,S=xc(a,o,2,h,Bn(b,p));return Dg(a,c,S,Bn(b,m)),null!==S.attrs&&ed(S,S.attrs,!1),null!==S.mergedAttrs&&ed(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(m,p,h,0,a,c,d):p.data[m];Ls(S,!0);const M=S.mergedAttrs;null!==M&&Ch(b,C,M);const k=S.classes;null!==k&&P0(b,C,k);const L=S.styles;null!==L&&OD(b,C,L),64!=(64&S.flags)&&Yh(p,h,C,S),0===Dt.lFrame.elementDepthCount&&Ar(C,h),Dt.lFrame.elementDepthCount++,yi(S)&&(q0(p,h,S),XD(p,S,h)),null!==d&&Nr(h,S)}function wf(){let o=ci();ac()?gh():(o=o.parent,Ls(o,!1));const a=o;Dt.lFrame.elementDepthCount--;const c=_n();c.firstCreatePass&&(vh(c,o),Cu(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&Uy(c,a,Be(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&Uy(c,a,Be(),a.stylesWithoutHost,!1)}function xw(o,a,c,d){kl(o,a,c,d),wf()}function Fo(o,a,c){const d=Be(),h=_n(),p=o+20,m=h.firstCreatePass?function(o,a,c,d,h){const p=a.consts,m=Bn(p,d),b=xc(a,o,8,"ng-container",m);return null!==m&&ed(b,m,!0),Dg(a,c,b,Bn(p,h)),null!==a.queries&&a.queries.elementStart(a,b),b}(p,h,d,a,c):h.data[p];Ls(m,!0);const b=d[p]=d[11].createComment("");Yh(h,d,b,m),Ar(b,d),yi(m)&&(q0(h,d,m),XD(h,m,d)),null!=c&&Nr(d,m)}function gd(){let o=ci();const a=_n();ac()?gh():(o=o.parent,Ls(o,!1)),a.firstCreatePass&&(vh(a,o),Cu(o)&&a.queries.elementEnd(o))}function md(o,a,c){Fo(o,a,c),gd()}function Ow(){return Be()}function zg(o){return!!o&&"function"==typeof o.then}function By(o){return!!o&&"function"==typeof o.subscribe}const Cf=By;function Wg(o,a,c,d){const h=Be(),p=_n(),m=ci();return Pw(p,h,h[11],m,o,a,!!c,d),Wg}function Yg(o,a){const c=ci(),d=Be(),h=_n();return Pw(h,d,aw(Up(h.data),c,d),c,o,a,!1),Yg}function Pw(o,a,c,d,h,p,m,b){const C=yi(d),M=o.firstCreatePass&&tf(o),k=a[8],L=ow(a);let Y=!0;if(3&d.type||b){const he=re(d,a),ze=b?b(he):he,Pe=L.length,At=b?vt=>b(Wn(vt[d.index])):d.index;if(Xn(c)){let vt=null;if(!b&&C&&(vt=function(o,a,c,d){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const m=h[p];if(m===c&&h[p+1]===d){const b=a[7],C=h[p+2];return b.length>C?b[C]:null}"string"==typeof m&&(p+=2)}return null}(o,a,h,d.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=p,vt.__ngLastListenerFn__=p,Y=!1;else{p=_d(d,a,k,p,!1);const hn=c.listen(ze,h,p);L.push(p,hn),M&&M.push(h,At,Pe,Pe+1)}}else p=_d(d,a,k,p,!0),ze.addEventListener(h,p,m),L.push(p),M&&M.push(h,At,Pe,m)}else p=_d(d,a,k,p,!1);const ne=d.outputs;let Ce;if(Y&&null!==ne&&(Ce=ne[h])){const he=Ce.length;if(he)for(let ze=0;ze<he;ze+=2){const Dr=a[Ce[ze]][Ce[ze+1]].subscribe(p),fs=L.length;L.push(p,Dr),M&&M.push(h,d.index,fs,-(fs+1))}}}function Kg(o,a,c,d){try{return!1!==c(d)}catch(h){return ss(o,h),!1}}function _d(o,a,c,d,h){return function p(m){if(m===Function)return d;const b=2&o.flags?pt(o.index,a):a;0==(32&a[2])&&My(b);let C=Kg(a,0,d,m),S=p.__ngNextListenerFn__;for(;S;)C=Kg(a,0,S,m)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function qr(o=1){return function(o){return(Dt.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,Dt.lFrame.contextLView))[8]}(o)}function $T(o,a){let c=null;const d=function(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===d?FD(o,p,!0):f2(d,p))return h}else c=h}return c}function di(o){const a=Be()[16][6];if(!a.projection){const d=a.projection=Pa(o?o.length:1,null),h=d.slice();let p=a.child;for(;null!==p;){const m=o?$T(p,o):0;null!==m&&(h[m]?h[m].projectionNext=p:d[m]=p,h[m]=p),p=p.next}}}function HT(o,a=0,c){const d=Be(),h=_n(),p=xc(h,20+o,16,null,c||null);null===p.projection&&(p.projection=a),gh(),64!=(64&p.flags)&&function(o,a,c){Nc(a[11],0,a,c,AD(o,c,a),vy(c.parent||a[6],c,a))}(h,d,p)}function $y(o,a,c){return Bc(o,"",a,"",c),$y}function Bc(o,a,c,d,h){const p=Be(),m=ld(p,a,c,d);return m!==Zt&&Hs(_n(),$i(),p,o,m,p[11],h,!1),Bc}function WT(o,a,c,d,h){const p=o[c+1],m=null===a;let b=d?aa(p):la(p),C=!1;for(;0!==b&&(!1===C||m);){const M=o[b+1];sk(o[b],a)&&(C=!0,o[b+1]=d?fo(M):HD(M)),b=d?aa(M):la(M)}C&&(o[c+1]=d?HD(p):fo(p))}function sk(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&gc(o,a)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xg(o){return o.substring(Oi.key,Oi.keyEnd)}function Fw(o,a){const c=Oi.textEnd;return c===a?-1:(a=Oi.keyEnd=function(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Oi.key=a,c),ua(o,a,c))}function ua(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function zs(o,a,c){return Lo(o,a,c,!1),zs}function qy(o,a){return Lo(o,a,null,!0),qy}function zy(o){da(tr,Ys,o,!0)}function Ys(o,a){for(let c=function(o){return function(o){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=o.length}(o),Fw(o,ua(o,0,Oi.textEnd))}(a);c>=0;c=Fw(a,c))tr(o,Xg(a),!0)}function Lo(o,a,c,d){const h=Be(),p=_n(),m=lo(2);p.firstUpdatePass&&Bw(p,o,m,d),a!==Zt&&kr(h,m,a)&&Hw(p,p.data[$r()],h,h[11],o,h[m+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=X(na(o)))),o}(a,c),d,m)}function da(o,a,c,d){const h=_n(),p=lo(2);h.firstUpdatePass&&Bw(h,null,p,d);const m=Be();if(c!==Zt&&kr(m,p,c)){const b=h.data[$r()];if(Df(b,d)&&!Uw(h,p)){let C=d?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(c=K(C,c||"")),Uy(h,b,m,c,d)}else!function(o,a,c,d,h,p,m,b){h===Zt&&(h=W);let C=0,S=0,M=0<h.length?h[0]:null,k=0<p.length?p[0]:null;for(;null!==M||null!==k;){const L=C<h.length?h[C+1]:void 0,Y=S<p.length?p[S+1]:void 0;let Ce,ne=null;M===k?(C+=2,S+=2,L!==Y&&(ne=k,Ce=Y)):null===k||null!==M&&M<k?(C+=2,ne=M):(S+=2,ne=k,Ce=Y),null!==ne&&Hw(o,a,c,d,ne,Ce,m,b),M=C<h.length?h[C]:null,k=S<p.length?p[S]:null}}(h,b,m,m[11],m[p+1],m[p+1]=function(o,a,c){if(null==c||""===c)return W;const d=[],h=na(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(d,p,h[p]);else"string"==typeof h&&a(d,h);return d}(o,a,c),d,p)}}function Uw(o,a){return a>=o.expandoStartIndex}function Bw(o,a,c,d){const h=o.data;if(null===h[c+1]){const p=h[$r()],m=Uw(o,c);Df(p,d)&&null===a&&!m&&(a=!1),a=function(o,a,c,d){const h=Up(o);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=za(c=Yy(null,o,a,c,d),a.attrs,d),p=null);else{const m=a.directiveStylingLast;if(-1===m||o[m]!==h)if(c=Yy(h,o,a,c,d),null===p){let C=function(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==la(d))return o[aa(d)]}(o,a,d);void 0!==C&&Array.isArray(C)&&(C=Yy(null,o,a,C[1],d),C=za(C,a.attrs,d),function(o,a,c,d){o[aa(c?a.classBindings:a.styleBindings)]=d}(o,a,d,C))}else p=function(o,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=za(d,o[p].hostAttrs,c);return za(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function(o,a,c,d,h,p){let m=p?a.classBindings:a.styleBindings,b=aa(m),C=la(m);o[d]=c;let M,S=!1;if(Array.isArray(c)){const k=c;M=k[1],(null===M||gc(k,M)>0)&&(S=!0)}else M=c;if(h)if(0!==C){const L=aa(o[b+1]);o[d+1]=oa(L,b),0!==L&&(o[L+1]=xi(o[L+1],d)),o[b+1]=function(o,a){return 131071&o|a<<17}(o[b+1],d)}else o[d+1]=oa(b,0),0!==b&&(o[b+1]=xi(o[b+1],d)),b=d;else o[d+1]=oa(C,0),0===b?b=d:o[C+1]=xi(o[C+1],d),C=d;S&&(o[d+1]=HD(o[d+1])),WT(o,M,d,!0),WT(o,M,d,!1),function(o,a,c,d,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&gc(p,a)>=0&&(c[d+1]=fo(c[d+1]))}(a,M,o,d,p),m=oa(b,C),p?a.classBindings=m:a.styleBindings=m}(h,p,a,c,m,d)}}function Yy(o,a,c,d,h){let p=null;const m=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<m&&(p=a[b],d=za(d,p.hostAttrs,h),p!==o);)b++;return null!==o&&(c.directiveStylingLast=b),d}function za(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const m=a[p];"number"==typeof m?h=m:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),tr(o,m,!!c||a[++p]))}return void 0===o?null:o}function Hw(o,a,c,d,h,p,m,b){if(!(3&a.type))return;const C=o.data,S=C[b+1];tm(function(o){return 1==(1&o)}(S)?bd(C,a,c,h,la(S),m):void 0)||(tm(p)||function(o){return 2==(2&o)}(S)&&(p=bd(C,null,c,h,b,m)),function(o,a,c,d,h){const p=Xn(o);if(a)h?p?o.addClass(c,d):c.classList.add(d):p?o.removeClass(c,d):c.classList.remove(d);else{let m=-1===d.indexOf("-")?void 0:$a.DashCase;if(null==h)p?o.removeStyle(c,d,m):c.style.removeProperty(d);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),m|=$a.Important),p?o.setStyle(c,d,h,m):c.style.setProperty(d,h,b?"important":"")}}}(d,m,B($r(),c),h,p))}function bd(o,a,c,d,h,p){const m=null===a;let b;for(;h>0;){const C=o[h],S=Array.isArray(C),M=S?C[1]:C,k=null===M;let L=c[h+1];L===Zt&&(L=k?W:void 0);let Y=k?Ci(L,d):M===d?L:void 0;if(S&&!tm(Y)&&(Y=Ci(C,d)),tm(Y)&&(b=Y,m))return b;const ne=o[h+1];h=m?aa(ne):la(ne)}if(null!==a){let C=p?a.residualClasses:a.residualStyles;null!=C&&(b=Ci(C,d))}return b}function tm(o){return void 0!==o}function Df(o,a){return 0!=(o.flags&(a?16:32))}function XT(o,a=""){const c=Be(),d=_n(),h=o+20,p=d.firstCreatePass?xc(d,h,1,a,null):d.data[h],m=c[h]=py(c[11],a);Yh(d,c,m,p),Ls(p,!1)}function jw(o){return Pi("",o,""),jw}function Pi(o,a,c){const d=Be(),h=ld(d,o,a,c);return h!==Zt&&po(d,$r(),h),Pi}function Tf(o,a,c,d,h){const p=Be(),m=function(o,a,c,d,h,p){const b=Za(o,bs(),c,h);return lo(2),b?a+ae(c)+d+ae(h)+p:Zt}(p,o,a,c,d,h);return m!==Zt&&po(p,$r(),m),Tf}function qw(o,a,c,d,h,p,m,b,C){da(tr,Ys,ud(Be(),o,a,c,d,h,p,m,b,C),!0)}function wd(o,a,c){const d=Be();return kr(d,ao(),a)&&Hs(_n(),$i(),d,o,a,d[11],c,!0),wd}function Af(o,a,c){const d=Be();if(kr(d,ao(),a)){const p=_n(),m=$i();Hs(p,m,d,o,a,aw(Up(p.data),m,d),c,!0)}return Af}const Hc=void 0;var hS=["en",[["a","p"],["AM","PM"],Hc],[["AM","PM"],Hc,Hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hc,"{1} 'at' {0}",Hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Mf={};function Xy(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=pS(a);if(c)return c;const d=a.split("-")[0];if(c=pS(d),c)return c;if("en"===d)return hS;throw new Error(`Missing locale data for the locale "${o}".`)}function fS(o){return Xy(o)[kt.PluralCase]}function pS(o){return o in Mf||(Mf[o]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[o]),Mf[o]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const Pr=["zero","one","two","few","many"],sm="en-US",_o={marker:"element"},Nf={marker:"ICU"};var Fi=(()=>((Fi=Fi||{})[Fi.SHIFT=2]="SHIFT",Fi[Fi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Fi[Fi.COMMENT=2]="COMMENT",Fi))();let Kw=sm;function nv(o){(function(o,a){null==o&&Ot(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Kw=o.toLowerCase().replace(/_/g,"-"))}function mS(o,a,c){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Yu(o,0,c):Wn(c[h])}function _S(o,a,c,d,h){const p=a.insertBeforeIndex;if(Array.isArray(p)){let m=d,b=null;if(3&a.type||(b=m,m=h),null!==m&&0==(2&a.flags))for(let C=1;C<p.length;C++)Mc(o,m,c[p[C]],b,!1)}}function am(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const d=o[c];Qw(d)||fk(d,a)&&null===yS(d)&&vS(d,a.index)}}function Qw(o){return!(64&o.type)}function fk(o,a){return Qw(a)||o.index>a.index}function yS(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function vS(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(kD(mS,_S),o.insertBeforeIndex=a)}function Rf(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function wS(o,a,c){const d=vg(o,c,64,null,null);return am(a,d),d}function lm(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function CS(o){return o>>>17}function ES(o){return(131070&o)>>>1}let cm=0,um=0;function TS(o,a,c,d){const h=c[11];let m,p=null;for(let b=0;b<a.length;b++){const C=a[b];if("string"==typeof C){const S=a[++b];null===c[S]&&(c[S]=py(h,C))}else if("number"==typeof C)switch(1&C){case 0:const S=CS(C);let M,k;if(null===p&&(p=S,m=_y(h,d)),S===p?(M=d,k=m):(M=null,k=Wn(c[S])),null!==k){const Ce=ES(C);Mc(h,k,c[Ce],M,!1);const ze=Rf(o,Ce);if(null!==ze&&"object"==typeof ze){const Pe=lm(ze,c);null!==Pe&&TS(o,ze.create[Pe],c,c[ze.anchorIdx])}}break;case 1:const Y=a[++b],ne=a[++b];X0(h,B(C>>>1,c),null,null,Y,ne,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case Nf:const S=a[++b],M=a[++b];null===c[M]&&Ar(c[M]=aR(h,S),c);break;case _o:const k=a[++b],L=a[++b];null===c[L]&&Ar(c[L]=M0(h,k,null),c)}}}function Jw(o,a,c,d,h){for(let p=0;p<c.length;p++){const m=c[p],b=c[++p];if(m&h){let C="";for(let S=p+1;S<=p+b;S++){const M=c[S];if("string"==typeof M)C+=M;else if("number"==typeof M)if(M<0)C+=ae(a[d-M]);else{const k=M>>>2;switch(3&M){case 1:const L=c[++S],Y=c[++S],ne=o.data[k];"string"==typeof ne?X0(a[11],a[k],null,ne,L,C,Y):Hs(o,ne,a,L,C,a[11],Y,!1);break;case 0:const Ce=a[k];null!==Ce&&SD(a[11],Ce,C);break;case 2:mk(o,Rf(o,k),a,C);break;case 3:Wa(o,Rf(o,k),d,a)}}}}else{const C=c[p+1];if(C>0&&3==(3&C)){const M=Rf(o,C>>>2);a[M.currentCaseLViewIndex]<0&&Wa(o,M,d,a)}}p+=b}}function Wa(o,a,c,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let p=cm;h<0&&(h=d[a.currentCaseLViewIndex]=~h,p=-1),Jw(o,d,a.update[h],c,p)}}function mk(o,a,c,d){const h=function(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const d=function(o,a){const c=fS(a)(parseInt(o,10)),d=Pr[c];return void 0!==d?d:"other"}(a,Kw);c=o.cases.indexOf(d),-1===c&&"other"!==d&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,d);if(lm(a,c)!==h&&(Ks(o,a,c),c[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const m=c[a.anchorIdx];m&&TS(o,a.create[h],c,m)}}function Ks(o,a,c){let d=lm(a,c);if(null!==d){const h=a.remove[d];for(let p=0;p<h.length;p++){const m=h[p];if(m>0){const b=B(m,c);null!==b&&O0(c[11],b)}else Ks(o,Rf(o,~m),c)}}}function hi(){const o=[];let c,d,a=-1;function p(b,C){a=0;const S=lm(b,C);d=null!==S?b.remove[S]:W}function m(){if(a<d.length){const b=d[a++];return b>0?c[b]:(o.push(a,d),p(c[1].data[~b],c),m())}return 0===o.length?null:(d=o.pop(),a=o.pop(),m())}return function(b,C){for(c=C;o.length;)o.pop();return p(b.value,C),m}}const Wr=/\ufffd(\d+):?\d*\ufffd/gi,yo=/\ufffd(\d+)\ufffd/,Zc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xf=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Of=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_k=/\uE500/g;function je(o,a,c,d,h,p,m){const b=Oc(o,d,1,null);let C=b<<Fi.SHIFT,S=gl();a===S&&(S=null),null===S&&(C|=Fi.APPEND_EAGERLY),m&&(C|=Fi.COMMENT,function(o){void 0===I0&&(I0=o())}(hi)),h.push(C,null===p?"":p);const M=vg(o,b,m?32:1,null===p?"":p,null);am(c,M);const k=M.index;return Ls(M,!1),null!==S&&a!==S&&function(o,a){let c=o.insertBeforeIndex;null===c?(kD(mS,_S),c=o.insertBeforeIndex=[null,a]):(function(o,a,c){o!=a&&Ot(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(S,k),M}function iv(o,a,c,d,h,p,m){const b=m.match(Wr),C=je(o,a,c,p,d,b?null:m,!1);b&&Pf(h,m,C.index,null,0,null)}function Pf(o,a,c,d,h,p){const m=o.length,b=m+1;o.push(null,null);const C=m+2,S=a.split(Wr);let M=0;for(let k=0;k<S.length;k++){const L=S[k];if(1&k){const Y=h+parseInt(L,10);o.push(-1-Y),M|=Gc(Y)}else""!==L&&o.push(L)}return o.push(c<<2|(d?1:0)),d&&o.push(d,p),o[m]=M,o[b]=o.length-C,M}function Gc(o){return 1<<Math.min(o,31)}function qc(o){let a,p,c="",d=0,h=!1;for(;null!==(a=xf.exec(o));)h?a[0]===`\ufffd/*${p}\ufffd`&&(d=a.index,h=!1):(c+=o.substring(d,a.index+a[0].length),p=a[1],h=!0);return c+=o.substr(d),c}function rv(o,a,c,d,h,p){let m=0;const b={type:h.type,currentCaseLViewIndex:Oc(o,a,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function(o,a,c){o.push(Gc(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,h,p),function(o,a,c){const d=o.data[a];null===d?o.data[a]=c:d.value=c}(o,p,b);const C=h.values;for(let S=0;S<C.length;S++){const M=C[S],k=[];for(let L=0;L<M.length;L++){const Y=M[L];if("string"!=typeof Y){const ne=k.push(Y)-1;M[L]=`\x3c!--\ufffd${ne}\ufffd--\x3e`}}m=Xw(o,b,a,c,d,h.cases[S],M.join(""),k)|m}m&&function(o,a,c){o.push(a,1,c<<2|3)}(c,m,p)}function MS(o){const a=[],c=[];let d=1,h=0;const p=ls(o=o.replace(Zc,function(m,b,C){return d="select"===C?0:1,h=parseInt(b.substr(1),10),""}));for(let m=0;m<p.length;){let b=p[m++].trim();1===d&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&a.push(b);const C=ls(p[m++]);a.length>c.length&&c.push(C)}return{type:d,mainBinding:h,cases:a,values:c}}function ls(o){if(!o)return[];let a=0;const c=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(o);){const b=p.index;if("}"==p[0]){if(c.pop(),0==c.length){const C=o.substring(a,b);Zc.test(C)?d.push(MS(C)):d.push(C),a=b+1}}else{if(0==c.length){const C=o.substring(a,b);d.push(C),a=b+1}c.push("{")}}const m=o.substring(a);return d.push(m),d}function Xw(o,a,c,d,h,p,m,b){const C=[],S=[],M=[];a.cases.push(p),a.create.push(C),a.remove.push(S),a.update.push(M);const L=Ze(nc()).getInertBodyElement(m),Y=m0(L)||L;return Y?sv(o,a,c,d,C,S,M,Y,h,b,0):0}function sv(o,a,c,d,h,p,m,b,C,S,M){let k=0,L=b.firstChild;for(;L;){const Y=Oc(o,c,1,null);switch(L.nodeType){case Node.ELEMENT_NODE:const ne=L,Ce=ne.tagName.toLowerCase();if(lg.hasOwnProperty(Ce)){hm(h,_o,Ce,C,Y),o.data[Y]=Ce;const At=ne.attributes;for(let vt=0;vt<At.length;vt++){const hn=At.item(vt),Dr=hn.name.toLowerCase();hn.value.match(Wr)?p0.hasOwnProperty(Dr)&&Pf(m,hn.value,Y,hn.name,0,Ua[Dr]?ra:Il[Dr]?Gu:null):kS(h,Y,hn)}k=sv(o,a,c,d,h,p,m,L,Y,S,M+1)|k,xl(p,Y,M)}break;case Node.TEXT_NODE:const he=L.textContent||"",ze=he.match(Wr);hm(h,null,ze?"":he,C,Y),xl(p,Y,M),ze&&(k=Pf(m,he,Y,null,0,null)|k);break;case Node.COMMENT_NODE:const Pe=yo.exec(L.textContent||"");if(Pe){const vt=S[parseInt(Pe[1],10)];hm(h,Nf,"",C,Y),rv(o,c,d,C,vt,Y),NS(p,Y,M)}}L=L.nextSibling}return k}function xl(o,a,c){0===c&&o.push(a)}function NS(o,a,c){0===c&&(o.push(~a),o.push(a))}function hm(o,a,c,d,h){null!==a&&o.push(a),o.push(c,h,function(o,a,c){return 0|a<<17|c<<1}(0,d,h))}function kS(o,a,c){o.push(a<<1|1,c.name,c.value)}function FS(o,a,c=-1){const d=_n(),h=Be(),p=20+o,m=Bn(d.consts,a),b=gl();d.firstCreatePass&&function(o,a,c,d,h,p){const m=gl(),b=[],C=[],S=[[]],M=function(o){return o.replace(_k," ")}(h=function(o,a){if(function(o){return-1===o}(a))return qc(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return qc(o.substring(c,d))}}(h,p)).split(Of);for(let k=0;k<M.length;k++){let L=M[k];if(0==(1&k)){const Y=ls(L);for(let ne=0;ne<Y.length;ne++){let Ce=Y[ne];if(0==(1&ne)){const he=Ce;""!==he&&iv(o,m,S[0],b,C,c,he)}else{const he=Ce;if("object"!=typeof he)throw new Error(`Unable to parse ICU expression in "${h}" message.`);rv(o,c,C,a,he,je(o,m,S[0],c,b,"",!0).index)}}}else{const Y=47===L.charCodeAt(0),Ce=(L.charCodeAt(Y?1:0),20+Number.parseInt(L.substring(Y?2:1)));if(Y)S.shift(),Ls(gl(),!1);else{const he=wS(o,S[0],Ce);S.unshift([]),Ls(he,!0)}}}o.data[d]={create:b,update:C}}(d,null===b?0:b.index,h,p,m,c);const C=d.data[p],M=MD(d,b===h[6]?null:b,h);(function(o,a,c,d){const h=o[11];for(let p=0;p<a.length;p++){const m=a[p++],b=a[p],C=(m&Fi.COMMENT)===Fi.COMMENT,S=(m&Fi.APPEND_EAGERLY)===Fi.APPEND_EAGERLY,M=m>>>Fi.SHIFT;let k=o[M];null===k&&(k=o[M]=C?h.createComment(b):py(h,b)),S&&null!==c&&Mc(h,c,k,d,!1)}})(h,C.create,M,b&&8&b.type?h[b.index]:null),L_(!0)}function LS(o,a,c){FS(o,a,c),L_(!1)}function av(o){return function(o){o&&(cm|=1<<Math.min(um,31)),um++}(kr(Be(),ao(),o)),av}function Is(o){!function(o,a,c){if(um>0){const d=o.data[c];Jw(o,a,Array.isArray(d)?d:d.update,bs()-um-1,cm)}cm=0,um=0}(_n(),Be(),o+20)}function pm(o,a,c,d,h){if(o=q(o),Array.isArray(o))for(let p=0;p<o.length;p++)pm(o[p],a,c,d,h);else{const p=_n(),m=Be();let b=Ml(o)?o:q(o.provide),C=fw(o);const S=ci(),M=1048575&S.providerIndexes,k=S.directiveStart,L=S.providerIndexes>>20;if(Ml(o)||!o.multi){const Y=new yl(C,h,Ei),ne=zc(b,a,h?M:M+L,k);-1===ne?(Tt(Ra(S,m),p,b),cv(p,o,a.length),a.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(Y),m.push(Y)):(c[ne]=Y,m[ne]=Y)}else{const Y=zc(b,a,M+L,k),ne=zc(b,a,M,M+L),Ce=Y>=0&&c[Y],he=ne>=0&&c[ne];if(h&&!he||!h&&!Ce){Tt(Ra(S,m),p,b);const ze=function(o,a,c,d,h){const p=new yl(o,c,Ei);return p.multi=[],p.index=a,p.componentProviders=0,Ol(p,h,d&&!c),p}(h?Dd:BS,c.length,h,d,C);!h&&he&&(c[ne].providerFactory=ze),cv(p,o,a.length,0),a.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(ze),m.push(ze)}else cv(p,o,Y>-1?Y:ne,Ol(c[h?ne:Y],C,!h&&d));!h&&d&&he&&c[ne].componentProviders++}}}function cv(o,a,c,d){const h=Ml(a);if(h||function(o){return!!o.useClass}(a)){const m=(a.useClass||a).prototype.ngOnDestroy;if(m){const b=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const C=b.indexOf(c);-1===C?b.push(c,[d,m]):b[C+1].push(d,m)}else b.push(c,m)}}}function Ol(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function zc(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function BS(o,a,c,d){return nC(this.multi,[])}function Dd(o,a,c,d){const h=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=Pn(c,c[1],this.providerFactory.index,d);p=b.slice(0,m),nC(h,p);for(let C=m;C<b.length;C++)p.push(b[C])}else p=[],nC(h,p);return p}function nC(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function iC(o,a=[]){return c=>{c.providersResolver=(d,h)=>function(o,a,c){const d=_n();if(d.firstCreatePass){const h=Ri(o);pm(c,d.data,d.blueprint,h,!0),pm(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class Yc{}const rC="ngComponent";class bk{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${X(o)}. Did you add it to @NgModule.entryComponents?`);return a[rC]=o,a}(a)}}let Uf=(()=>{class o{}return o.NULL=new bk,o})();function Pl(...o){}function $f(o,a){return new bo(re(o,a))}const Kc=function(){return $f(ci(),Be())};let bo=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Kc,o})();function HS(o){return o instanceof bo?o.nativeElement:o}class Hf{}let sC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>aC(),o})();const aC=function(){const o=Be(),c=pt(ci().index,o);return function(o){return o[11]}(io(c)?c:o)};let mm=(()=>{class o{}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:()=>null}),o})();class lC{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const cC=new lC("12.2.13");class uC{constructor(){}supports(a){return mo(a)}create(a){return new Tk(a)}}const ZS=(o,a)=>a;class Tk{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ZS}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const m=!d||c&&c.currentIndex<zS(d,h,p)?c:d,b=zS(m,h,p),C=m.currentIndex;if(m===d)h--,d=d._nextRemoved;else if(c=c._next,null==m.previousIndex)h++;else{p||(p=[]);const S=b-h,M=C-h;if(S!=M){for(let L=0;L<S;L++){const Y=L<p.length?p[L]:p[L]=0,ne=Y+L;M<=ne&&ne<S&&(p[L]=Y+1)}p[m.previousIndex]=M-S}}b!==C&&a(m,b,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!mo(a))throw new Error(`Error trying to diff '${X(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,m,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)p=a[b],m=this._trackByFn(b,p),null!==c&&Object.is(c.trackById,m)?(d&&(c=this._verifyReinsertion(c,p,m,b)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,m,b),d=!0),c=c._next}else h=0,function(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[ad()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,b=>{m=this._trackByFn(h,b),null!==c&&Object.is(c.trackById,m)?(d&&(c=this._verifyReinsertion(c,b,m,h)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,m,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new qS(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new dC),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dC),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qS{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class dC{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new Sk,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zS(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class Td{constructor(){}supports(a){return a instanceof Map||$g(a)}create(){return new jf}}class jf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||$g(a)))throw new Error(`Error trying to diff '${X(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,m=h._next;return p&&(p._next=m),m&&(m._prev=p),h._next=null,h._prev=null,h}const d=new hC(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class hC{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _m(){return new ym([new uC])}let ym=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||_m()),deps:[[o,new ur,new Fa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:_m}),o})();function YS(){return new Zf([new Td])}let Zf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||YS()),deps:[[o,new ur,new Fa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:YS}),o})();function dv(o,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(Wn(p)),lr(p))for(let b=10;b<p.length;b++){const C=p[b],S=C[1].firstChild;null!==S&&dv(C[1],C,S,d)}const m=c.type;if(8&m)dv(o,a,c.child,d);else if(32&m){const b=hy(c,a);let C;for(;C=b();)d.push(C)}else if(16&m){const b=k0(a,c);if(Array.isArray(b))d.push(...b);else{const C=gg(a[16]);dv(C[1],C,b,d,!0)}}c=h?c.projectionNext:c.next}return d}class Sd{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return dv(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(lr(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(my(a,d),wl(c,d))}this._attachedToViewContainer=!1}ID(this._lView[1],this._lView)}onDestroy(a){Eg(this._lView[1],this._lView,null,a)}markForCheck(){My(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,c){lc(!0);try{sw(o,a,c)}finally{lc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Qu(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class Ik extends Sd{constructor(a){super(a),this._view=a}detectChanges(){Xu(this._view)}checkNoChanges(){!function(o){lc(!0);try{Xu(o)}finally{lc(!1)}}(this._view)}get context(){return null}}const pC=function(o){return function(o,a,c){if(Go(o)&&!c){const d=pt(o.index,a);return new Sd(d,d)}return 47&o.type?new Sd(a[16],a):null}(ci(),Be(),16==(16&o))};let Fr=(()=>{class o{}return o.__NG_ELEMENT_ID__=pC,o})();const Nk=[new Td],kk=new ym([new uC]),xk=new Zf(Nk),KS=function(){return Gf(ci(),Be())};let Id=(()=>{class o{}return o.__NG_ELEMENT_ID__=KS,o})();const hv=Id,vm=class extends hv{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=kc(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),bg(c,d,a),new Sd(d)}};function Gf(o,a){return 4&o.type?new vm(a,o,$f(o,a)):null}class Fl{}class pv{}const JS=function(){return mv(ci(),Be())};let gv=(()=>{class o{}return o.__NG_ELEMENT_ID__=JS,o})();const Fk=gv,mC=class extends Fk{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return $f(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const a=ct(this._hostTNode,this._hostLView);if(Dh(a)){const c=vl(a,this._hostLView),d=Yo(a);return new Ko(c[1].data[d+8],c)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=bm(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const h=a.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(a,c,d,h,p){const m=d||this.parentInjector;if(!p&&null==a.ngModule&&m){const C=m.get(Fl,null);C&&(p=C)}const b=a.create(m,h,void 0,p);return this.insert(b.hostView,c),b}insert(a,c){const d=a._lView,h=d[1];if(lr(d[3])){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const k=d[3],L=new mC(k,k[6],k[3]);L.detach(L.indexOf(a))}}const p=this._adjustIndex(c),m=this._lContainer;!function(o,a,c,d){const h=10+d,p=c.length;d>0&&(c[h-1][4]=a),d<p-10?(a[4]=c[h],pc(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const m=a[17];null!==m&&c!==m&&function(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(m,a);const b=a[19];null!==b&&b.insertView(o),a[2]|=128}(h,d,m,p);const b=x0(p,m),C=d[11],S=_y(C,m[7]);return null!==S&&function(o,a,c,d,h,p){d[0]=h,d[6]=a,Qu(o,d,c,1,h,p)}(h,m[6],C,d,S,b),a.attachToViewContainerRef(),pc(Ad(m),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=bm(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=my(this._lContainer,c);d&&(wl(Ad(this._lContainer),c),ID(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=my(this._lContainer,c);return d&&null!=wl(Ad(this._lContainer),c)?new Sd(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function bm(o){return o[8]}function Ad(o){return o[8]||(o[8]=[])}function mv(o,a){let c;const d=a[o.index];if(lr(d))c=d;else{let h;if(8&o.type)h=Wn(d);else{const p=a[11];h=p.createComment("");const m=re(o,a);Mc(p,_y(p,m),h,function(o,a){return Xn(o)?o.nextSibling(a):a.nextSibling}(p,m),!1)}a[o.index]=c=Sg(d,a,h,o),Ag(a,c)}return new mC(c,o,a)}const eu={};class HC extends Uf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Sn(a);return new bI(c,this.ngModule)}}function yI(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const vI=new vi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bD});class bI extends Yc{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=a.selectors.map(VD).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return yI(this.componentDef.inputs)}get outputs(){return yI(this.componentDef.outputs)}create(a,c,d,h){const p=(h=h||this.ngModule)?function(o,a){return{get:(c,d,h)=>{const p=o.get(c,eu,h);return p!==eu||d===eu?p:a.get(c,d,h)}}}(a,h.injector):a,m=p.get(Hf,so),b=p.get(mm,null),C=m.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=d?function(o,a,c){if(Xn(o))return o.selectRootElement(a,c===Ye.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(C,d,this.componentDef.encapsulation):M0(m.createRenderer(null,this.componentDef),S,function(o){const a=o.toLowerCase();return"svg"===a?qo:"math"===a?"http://www.w3.org/1998/MathML/":null}(S)),k=this.componentDef.onPush?576:528,L=function(o,a){return{components:[],scheduler:o||bD,clean:Ry,playerHandler:a||null,flags:0}}(),Y=Ty(0,null,null,1,0,null,null,null,null,null),ne=kc(null,Y,L,k,null,null,m,C,b,p);let Ce,he;Wo(ne);try{const ze=function(o,a,c,d,h,p){const m=c[1];c[20]=o;const C=xc(m,20,2,"#host",null),S=C.mergedAttrs=a.hostAttrs;null!==S&&(ed(C,S,!0),null!==o&&(Ch(h,o,S),null!==C.classes&&P0(h,o,C.classes),null!==C.styles&&OD(h,o,C.styles)));const M=d.createRenderer(o,a),k=kc(c,ef(a),null,a.onPush?64:16,c[20],C,d,M,p||null,null);return m.firstCreatePass&&(Tt(Ra(C,c),m,a.type),nT(m,C),rT(C,c.length,1)),Ag(c,k),c[20]=k}(M,this.componentDef,ne,m,C);if(M)if(d)Ch(C,M,["ng-version",cC.full]);else{const{attrs:Pe,classes:At}=function(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===h?""!==p&&a.push(p,o[++d]):8===h&&c.push(p);else{if(!sa(h))break;h=p}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Pe&&Ch(C,M,Pe),At&&At.length>0&&P0(C,M,At.join(" "))}if(he=Ge(Y,20),void 0!==c){const Pe=he.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const vt=c[At];Pe.push(null!=vt?Array.from(vt):null)}}Ce=function(o,a,c,d,h){const p=c[1],m=function(o,a,c){const d=ci();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),sT(o,d,a,Oc(o,a,1,null),c));const h=Pn(a,o,d.directiveStart,d);Ar(h,a);const p=re(d,a);return p&&Ar(p,a),h}(p,c,a);if(d.components.push(m),o[8]=m,h&&h.forEach(C=>C(m,a)),a.contentQueries){const C=ci();a.contentQueries(1,m,C.directiveStart)}const b=ci();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ml(b.index),Ay(c[1],b,0,b.directiveStart,b.directiveEnd,a),Tg(a,m)),m}(ze,this.componentDef,ne,L,[vw]),bg(Y,ne,null)}finally{Ru()}return new ox(this.componentType,Ce,$f(he,ne),ne,he)}}class ox extends class{}{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new Ik(h),this.componentType=a}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const tu=new Map;class GC extends Fl{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new HC(this);const d=Qn(a),h=a[le]||null;h&&nv(h),this._bootstrapComponents=Ba(d.bootstrap),this._r3Injector=dT(a,c,[{provide:Fl,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],X(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=$n.THROW_IF_NOT_FOUND,d=ut.Default){return a===$n||a===Fl||a===td?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Mv extends pv{constructor(a){super(),this.moduleType=a,null!==Qn(a)&&function(o){const a=new Set;!function c(d){const h=Qn(d,!0),p=h.id;null!==p&&(function(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${X(a)} vs ${X(a.name)}`)}(p,tu.get(p),d),tu.set(p,d));const m=Ba(h.imports);for(const b of m)a.has(b)||(a.add(b),c(b))}(o)}(a)}create(a){return new GC(this.moduleType,a)}}function zC(o,a,c,d){return DI(Be(),cr(),o,a,c,d)}function Nv(o,a,c,d,h){return function(o,a,c,d,h,p,m){const b=a+c;return Za(o,b,h,p)?js(o,b+2,m?d.call(m,h,p):d(h,p)):Kf(o,b+2)}(Be(),cr(),o,a,c,d,h)}function Ld(o,a,c,d,h,p){return function(o,a,c,d,h,p,m,b){const C=a+c;return function(o,a,c,d,h){const p=Za(o,a,c,d);return kr(o,a+2,h)||p}(o,C,h,p,m)?js(o,C+3,b?d.call(b,h,p,m):d(h,p,m)):Kf(o,C+3)}(Be(),cr(),o,a,c,d,h,p)}function Kf(o,a){const c=o[a];return c===Zt?void 0:c}function DI(o,a,c,d,h,p){const m=a+c;return kr(o,m,h)?js(o,m+1,p?d.call(p,h):d(h)):Kf(o,m+1)}function Vd(o,a){const c=_n();let d;const h=o+20;c.firstCreatePass?(d=function(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}throw new Le("302",`The pipe '${o}' could not be found!`)}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=ro(d.type)),m=Gn(Ei);try{const b=Th(!1),C=p();return Th(b),function(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Be(),h,C),C}finally{Gn(m)}}function Rv(o,a,c){const d=o+20,h=Be(),p=ot(h,d);return function(o,a){Po.isWrapped(a)&&(a=Po.unwrap(a),o[bs()]=Zt);return a}(h,function(o,a){return o[1].data[a].pure}(h,d)?DI(h,cr(),a,p.transform,c,p):p.transform(c))}function Ud(o){return a=>{setTimeout(o,void 0,a)}}const Ya=class extends s.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var h,p,m;let b=a,C=c||(()=>null),S=d;if(a&&"object"==typeof a){const k=a;b=null===(h=k.next)||void 0===h?void 0:h.bind(k),C=null===(p=k.error)||void 0===p?void 0:p.bind(k),S=null===(m=k.complete)||void 0===m?void 0:m.bind(k)}this.__isAsync&&(C=Ud(C),b&&(b=Ud(b)),S&&(S=Ud(S)));const M=super.subscribe({next:b,error:C,complete:S});return a instanceof H.w&&a.add(M),M}};function fi(){return this._results[ad()]()}class Cr{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ad(),d=Cr.prototype;d[c]||(d[c]=fi)}get changes(){return this._changes||(this._changes=new Ya)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=Us(a);(this._changesDetected=!function(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jf{constructor(a){this.queryList=a,this.matches=null}clone(){return new Jf(this.queryList)}setDirty(){this.queryList.setDirty()}}class xv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const m=c.getByIndex(p);h.push(this.queries[m.indexInDeclarationView].clone())}return new xv(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==mx(a,c).matches&&this.queries[c].setDirty()}}class YC{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class KC{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new KC(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Om{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Om(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,hx(c,p)),this.matchTNodeWithReadOption(a,c,Ah(c,a,p,!1,!1))}else d===Id?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ah(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===bo||h===gv||h===Id&&4&c.type)this.addMatch(c.index,-2);else{const p=Ah(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function hx(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Li(o,a,c,d){return-1===c?function(o,a){return 11&o.type?$f(o,a):4&o.type?Gf(o,a):null}(a,o):-2===c?function(o,a,c){return c===bo?$f(a,o):c===Id?Gf(a,o):c===gv?mv(a,o):void 0}(o,a,d):Pn(o,o[1],c,a)}function PI(o,a,c,d){const h=a[19].queries[d];if(null===h.matches){const p=o.data,m=c.matches,b=[];for(let C=0;C<m.length;C+=2){const S=m[C];b.push(S<0?null:Li(a,p[S],m[C+1],c.metadata.read))}h.matches=b}return h.matches}function ir(o,a,c,d){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const m=PI(o,a,h,c);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)d.push(m[b/2]);else{const S=p[b+1],M=a[-C];for(let k=10;k<M.length;k++){const L=M[k];L[17]===L[3]&&ir(L[1],L,S,d)}if(null!==M[9]){const k=M[9];for(let L=0;L<k.length;L++){const Y=k[L];ir(Y[1],Y,S,d)}}}}}return d}function QC(o){const a=Be(),c=_n(),d=V_();cc(d+1);const h=mx(c,d);if(o.dirty&&Bi(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?ir(c,a,d,[]):PI(c,a,h,d);o.reset(p,HS),o.notifyOnChanges()}return!0}return!1}function FI(o,a,c){const d=_n();d.firstCreatePass&&(UI(d,new YC(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),VI(d,Be(),a)}function LI(o,a,c,d){const h=_n();if(h.firstCreatePass){const p=ci();UI(h,new YC(a,c,d),p.index),function(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}VI(h,Be(),c)}function JC(){return o=Be(),a=V_(),o[19].queries[a].queryList;var o,a}function VI(o,a,c){const d=new Cr(4==(4&c));Eg(o,a,d,d.destroy),null===a[19]&&(a[19]=new xv),a[19].queries.push(new Jf(d))}function UI(o,a,c){null===o.queries&&(o.queries=new KC),o.queries.track(new Om(a,c))}function mx(o,a){return o.queries.getByIndex(a)}function BI(o,a){return Gf(o,a)}const su=new vi("Application Initializer");let ou=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Pl,this.reject=Pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(zg(p))c.push(p);else if(Cf(p)){const m=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});c.push(m)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Yn(su,8))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();const KI=new vi("AppId"),Vx={provide:KI,useFactory:function(){return`${aE()}${aE()}${aE()}`},deps:[]};function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QI=new vi("Platform Initializer"),JI=new vi("Platform ID"),XI=new vi("appBootstrapListener");let eA=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();const Bv=new vi("LocaleId"),$v=new vi("DefaultCurrencyCode");class tA{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}const Zv=function(o){return new Mv(o)},nA=Zv,As=function(o){return Promise.resolve(Zv(o))},uE=function(o){const a=Zv(o),d=Ba(Qn(o).declarations).reduce((h,p)=>{const m=Sn(p);return m&&h.push(new bI(m)),h},[]);return new tA(a,d)},$m=uE,Hx=function(o){return Promise.resolve(uE(o))};let Hd=(()=>{class o{constructor(){this.compileModuleSync=nA,this.compileModuleAsync=As,this.compileModuleAndAllComponentsSync=$m,this.compileModuleAndAllComponentsAsync=Hx}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();const dE=(()=>Promise.resolve(0))();function Bl(o){"undefined"==typeof Zone?dE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Co{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=on.requestAnimationFrame,a=on.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(on,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,hE(o),o.isCheckStableRunning=!0,au(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),hE(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,m,b)=>{try{return iA(o),c.invokeTask(h,p,m,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),rA(o)}},onInvoke:(c,d,h,p,m,b,C)=>{try{return iA(o),c.invoke(h,p,m,b,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),rA(o)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,hE(o),au(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Co.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Co.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+h,a,Zx,Pl,Pl);try{return p.runTask(m,c,d)}finally{p.cancelTask(m)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Zx={};function au(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function hE(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function iA(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function rA(o){o._nesting--,au(o)}class fE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}let sA=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Co.assertNotInAngularZone(),Bl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bl(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(Yn(Co))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})(),pE=(()=>{class o{constructor(){this._applications=new Map,_a.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return _a.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();class gE{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function Bo(o){_a=o}let _a=new gE,op=!0,qx=!1;function mE(){return qx=!0,op}function _E(){if(qx)throw new Error("Cannot enable prod mode after platform setup.");op=!1}let ya;const Yx=new vi("AllowMultipleToken");class fV{constructor(a,c){this.name=a,this.token=c}}function aA(o,a,c=[]){const d=`Platform: ${a}`,h=new vi(d);return(p=[])=>{let m=$o();if(!m||m.injector.get(Yx,!1))if(o)o(c.concat(p).concat({provide:h,useValue:!0}));else{const b=c.concat(p).concat({provide:h,useValue:!0},{provide:nd,useValue:"platform"});!function(o){if(ya&&!ya.destroyed&&!ya.injector.get(Yx,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ya=o.get(jm);const a=o.get(QI,null);a&&a.forEach(c=>c())}($n.create({providers:b,name:d}))}return function(o){const a=$o();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function $o(){return ya&&!ya.destroyed?ya:null}let jm=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const b=function(o,a){let c;return c="noop"===o?new fE:("zone.js"===o?void 0:o)||new Co({enableLongStackTrace:mE(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Co,useValue:b}];return b.run(()=>{const S=$n.create({providers:C,parent:this.injector,name:c.moduleType.name}),M=c.create(S),k=M.injector.get(zh,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const L=b.onError.subscribe({next:Y=>{k.handleError(Y)}});M.onDestroy(()=>{qv(this._modules,M),L.unsubscribe()})}),function(o,a,c){try{const d=c();return zg(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(k,b,()=>{const L=M.injector.get(ou);return L.runInitializers(),L.donePromise.then(()=>(nv(M.injector.get(Bv,sm)||sm),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,d=[]){const h=lA({},d);return function(o,a,c){const d=new Mv(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(Zm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${X(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Yn($n))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();function lA(o,a){return Array.isArray(a)?a.reduce(lA,o):Object.assign(Object.assign({},o),a)}let Zm=(()=>{class o{constructor(c,d,h,p,m){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new O.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new O.y(S=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Co.assertNotInAngularZone(),Bl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Co.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ue.T)(b,C.pipe((0,me.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=c instanceof Yc?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const p=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(Fl),b=h.create($n.NULL,[],d||h.selector,p),C=b.location.nativeElement,S=b.injector.get(sA,null),M=S&&b.injector.get(pE);return S&&M&&M.registerApplication(C,S),b.onDestroy(()=>{this.detachView(b.hostView),qv(this.components,b),M&&M.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;qv(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(XI,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(Yn(Co),Yn($n),Yn(zh),Yn(Uf),Yn(ou))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();function qv(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}class Xx{}class tO{}const nO={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let iO=(()=>{class o{constructor(c,d){this._compiler=c,this._config=d||nO}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,h]=c.split("#");return void 0===h&&(h="default"),x(8255)(d).then(p=>p[h]).then(p=>dA(p,d,h)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(c){let[d,h]=c.split("#"),p="NgFactory";return void 0===h&&(h="default",p=""),x(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(m=>m[h+p]).then(m=>dA(m,d,h))}}return o.\u0275fac=function(c){return new(c||o)(Yn(Hd),Yn(tO,8))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})();function dA(o,a,c){if(!o)throw new Error(`Cannot find '${c}' in '${a}'`);return o}const oO=function(o){return null},Wm=aA(null,"core",[{provide:JI,useValue:"unknown"},{provide:jm,deps:[$n]},{provide:pE,deps:[]},{provide:eA,deps:[]}]),hO=[{provide:Zm,useClass:Zm,deps:[Co,$n,zh,Uf,ou]},{provide:vI,deps:[Co],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:ou,useClass:ou,deps:[[new Fa,su]]},{provide:Hd,useClass:Hd,deps:[]},Vx,{provide:ym,useFactory:function(){return kk},deps:[]},{provide:Zf,useFactory:function(){return xk},deps:[]},{provide:Bv,useFactory:function(o){return nv(o=o||"undefined"!=typeof $localize&&$localize.locale||sm),o},deps:[[new ea(Bv),new Fa,new ur]]},{provide:$v,useValue:"USD"}];let pO=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Yn(Zm))},o.\u0275mod=Ue({type:o}),o.\u0275inj=un({providers:hO}),o})()},8939:(dt,xe,x)=>{"use strict";x.d(xe,{hO:()=>ce,xv:()=>K,Dh:()=>X,GT:()=>oe,cc:()=>Se,on:()=>P,pX:()=>me});var s=x(7716),H=x(7841),O=x(8995);dt=x.hmd(dt);const ue=["ngOnDestroy"],me=(ae,ke,$e,Ke={})=>new Proxy(ae,{get:(Lt,xt)=>$e.runOutsideAngular(()=>{var Jt;if(ae[xt])return(null===(Jt=null==Ke?void 0:Ke.spy)||void 0===Jt?void 0:Jt.get)&&Ke.spy.get(xt,ae[xt]),ae[xt];if(ue.indexOf(xt)>-1)return()=>{};const ve=ke.toPromise().then(Xt=>{const ge=Xt&&Xt[xt];return"function"==typeof ge?ge.bind(Xt):ge&&ge.then?ge.then(Ee=>$e.run(()=>Ee)):$e.run(()=>ge)});return new Proxy(()=>{},{get:(Xt,ge)=>ve[ge],apply:(Xt,ge,Ee)=>ve.then(_e=>{var be;const He=_e&&_e(...Ee);return(null===(be=null==Ke?void 0:Ke.spy)||void 0===be?void 0:be.apply)&&Ke.spy.apply(xt,Ee,He),He})})})}),oe=(ae,ke)=>{ke.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Ke=>{Object.defineProperty(ae.prototype,Ke,Object.getOwnPropertyDescriptor($e.prototype||$e,Ke))})})};class ie{constructor(ke){return ke}}const X=new s.OlP("angularfire2.app.options"),K=new s.OlP("angularfire2.app.name");function P(ae,ke,$e){const Lt="object"==typeof $e&&$e||{};Lt.name=Lt.name||"string"==typeof $e&&$e||"[DEFAULT]";const Jt=H.Z.apps.filter(ve=>ve&&ve.name===Lt.name)[0]||ke.runOutsideAngular(()=>H.Z.initializeApp(ae,Lt));try{JSON.stringify(ae)!==JSON.stringify(Jt.options)&&j("error",`${Jt.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ve){}return new ie(Jt)}const j=(ae,...ke)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ae](...ke)},q={provide:ie,useFactory:P,deps:[X,s.R0b,[new s.FiY,K]]};let ce=(()=>{class ae{constructor($e){H.Z.registerVersion("angularfire",O.q4.full,"core"),H.Z.registerVersion("angularfire",O.q4.full,"app-compat"),H.Z.registerVersion("angular",s.q4F.full,$e.toString())}static initializeApp($e,Ke){return{ngModule:ae,providers:[{provide:X,useValue:$e},{provide:K,useValue:Ke}]}}}return ae.\u0275fac=function($e){return new($e||ae)(s.LFG(s.Lbi))},ae.\u0275mod=s.oAB({type:ae}),ae.\u0275inj=s.cJS({providers:[q]}),ae})();function Se(ae,ke,$e,Ke,Lt){const[,xt,Jt]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===ae)||[];if(xt)return function(ae,ke){try{return ae.toString()===ke.toString()}catch($e){return ae===ke}}(Lt,Jt)||(ye("error",`${ke} was already initialized on the ${$e} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Lt,was:Jt})),xt;{const ve=Ke();return globalThis.\u0275AngularfireInstanceCache.push([ae,ve,Lt]),ve}}const Ae=!!dt.hot,ye=(ae,...ke)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ae](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8995:(dt,xe,x)=>{"use strict";x.d(xe,{q4:()=>uh,iC:()=>so,fc:()=>Xn,HU:()=>hl,vb:()=>P_,JM:()=>Su,nk:()=>Br,u3:()=>ph});var s=x(7716),H=x(2329),O=x(8239),ue=x(8026),me=x(3854),oe=x(3910),ie=x(5422);x(3328);const K="@firebase/remote-config",P="0.3.3",Se=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cn{constructor(B,re,Te,Ge){this.client=B,this.storage=re,this.storageCache=Te,this.logger=Ge}isCachedDataFresh(B,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Te=Date.now()-re,Ge=Te<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Te}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${Ge}.`),Ge}fetch(B){var re=this;return(0,O.Z)(function*(){const[Te,Ge]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(Ge&&re.isCachedDataFresh(B.cacheMaxAgeMillis,Te))return Ge;B.eTag=Ge&&Ge.eTag;const ot=yield re.client.fetch(B),pt=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ot.status&&pt.push(re.storage.setLastSuccessfulFetchResponse(ot)),yield Promise.all(pt),ot})()}}function kn(V=navigator){return V.languages&&V.languages[0]||V.language}class St{constructor(B,re,Te,Ge,ot,pt){this.firebaseInstallations=B,this.sdkVersion=re,this.namespace=Te,this.projectId=Ge,this.apiKey=ot,this.appId=pt}fetch(B){var re=this;return(0,O.Z)(function*(){const[Te,Ge]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,Bi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},qt={sdk_version:re.sdkVersion,app_instance_id:Te,app_instance_id_token:Ge,app_id:re.appId,language_code:kn()},li={method:"POST",headers:Bi,body:JSON.stringify(qt)},Bn=fetch(pt,li),is=new Promise((oo,Ma)=>{B.signal.addEventListener(()=>{const sc=new Error("The operation was aborted.");sc.name="AbortError",Ma(sc)})});let vs;try{yield Promise.race([Bn,is]),vs=yield Bn}catch(oo){let Ma="fetch-client-network";throw"AbortError"===oo.name&&(Ma="fetch-timeout"),Se.create(Ma,{originalErrorMessage:oo.message})}let Dt=vs.status;const rc=vs.headers.get("ETag")||void 0;let fl,pl;if(200===vs.status){let oo;try{oo=yield vs.json()}catch(Ma){throw Se.create("fetch-client-parse",{originalErrorMessage:Ma.message})}fl=oo.entries,pl=oo.state}if("INSTANCE_STATE_UNSPECIFIED"===pl?Dt=500:"NO_CHANGE"===pl?Dt=304:("NO_TEMPLATE"===pl||"EMPTY_CONFIG"===pl)&&(fl={}),304!==Dt&&200!==Dt)throw Se.create("fetch-status",{httpStatus:Dt});return{status:Dt,eTag:rc,config:fl}})()}}class xn{constructor(B,re){this.client=B,this.storage=re}fetch(B){var re=this;return(0,O.Z)(function*(){const Te=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(B,Te)})()}attemptFetch(B,{throttleEndTimeMillis:re,backoffCount:Te}){var Ge=this;return(0,O.Z)(function*(){yield function(V,B){return new Promise((re,Te)=>{const Ge=Math.max(B-Date.now(),0),ot=setTimeout(re,Ge);V.addEventListener(()=>{clearTimeout(ot),Te(Se.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,re);try{const ot=yield Ge.client.fetch(B);return yield Ge.storage.deleteThrottleMetadata(),ot}catch(ot){if(!function(V){if(!(V instanceof me.ZR&&V.customData))return!1;const B=Number(V.customData.httpStatus);return 429===B||500===B||503===B||504===B}(ot))throw ot;const pt={throttleEndTimeMillis:Date.now()+(0,me.$s)(Te),backoffCount:Te+1};return yield Ge.storage.setThrottleMetadata(pt),Ge.attemptFetch(B,pt)}})()}}class Nt{constructor(B,re,Te,Ge,ot){this.app=B,this._client=re,this._storageCache=Te,this._storage=Ge,this._logger=ot,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function en(V,B){const re=V.target.error||void 0;return Se.create(B,{originalErrorMessage:re&&re.message})}const un="app_namespace_store";class oi{constructor(B,re,Te,Ge=function(){return new Promise((V,B)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Te=>{B(en(Te,"storage-open"))},re.onsuccess=Te=>{V(Te.target.result)},re.onupgradeneeded=Te=>{const Ge=Te.target.result;switch(Te.oldVersion){case 0:Ge.createObjectStore(un,{keyPath:"compositeKey"})}}}catch(re){B(Se.create("storage-open",{originalErrorMessage:re}))}})}()){this.appId=B,this.appName=re,this.namespace=Te,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var re=this;return(0,O.Z)(function*(){const Te=yield re.openDbPromise;return new Promise((Ge,ot)=>{const Bi=Te.transaction([un],"readonly").objectStore(un),qt=re.createCompositeKey(B);try{const li=Bi.get(qt);li.onerror=Bn=>{ot(en(Bn,"storage-get"))},li.onsuccess=Bn=>{const is=Bn.target.result;Ge(is?is.value:void 0)}}catch(li){ot(Se.create("storage-get",{originalErrorMessage:li&&li.message}))}})})()}set(B,re){var Te=this;return(0,O.Z)(function*(){const Ge=yield Te.openDbPromise;return new Promise((ot,pt)=>{const qt=Ge.transaction([un],"readwrite").objectStore(un),li=Te.createCompositeKey(B);try{const Bn=qt.put({compositeKey:li,value:re});Bn.onerror=is=>{pt(en(is,"storage-set"))},Bn.onsuccess=()=>{ot()}}catch(Bn){pt(Se.create("storage-set",{originalErrorMessage:Bn&&Bn.message}))}})})()}delete(B){var re=this;return(0,O.Z)(function*(){const Te=yield re.openDbPromise;return new Promise((Ge,ot)=>{const Bi=Te.transaction([un],"readwrite").objectStore(un),qt=re.createCompositeKey(B);try{const li=Bi.delete(qt);li.onerror=Bn=>{ot(en(Bn,"storage-delete"))},li.onsuccess=()=>{Ge()}}catch(li){ot(Se.create("storage-delete",{originalErrorMessage:li&&li.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Ji{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,O.Z)(function*(){const re=B.storage.getLastFetchStatus(),Te=B.storage.getLastSuccessfulFetchTimestampMillis(),Ge=B.storage.getActiveConfig(),ot=yield re;ot&&(B.lastFetchStatus=ot);const pt=yield Te;pt&&(B.lastSuccessfulFetchTimestampMillis=pt);const Bi=yield Ge;Bi&&(B.activeConfig=Bi)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function ar(){return ut.apply(this,arguments)}function ut(){return(ut=(0,O.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch(V){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new oe.wA("remote-config",function(B,{instanceIdentifier:re}){const Te=B.getProvider("app").getImmediate(),Ge=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Se.create("registration-window");if(!(0,me.hl)())throw Se.create("indexed-db-unavailable");const{projectId:ot,apiKey:pt,appId:Bi}=Te.options;if(!ot)throw Se.create("registration-project-id");if(!pt)throw Se.create("registration-api-key");if(!Bi)throw Se.create("registration-app-id");const qt=new oi(Bi,Te.name,re=re||"firebase"),li=new Ji(qt),Bn=new ie.Yd(K);Bn.logLevel=ie.in.ERROR;const is=new St(Ge,ue.SDK_VERSION,re,ot,pt,Bi),vs=new xn(is,qt),Dt=new cn(vs,qt,li,Bn),rc=new Nt(Te,Dt,li,qt,Bn);return function(V){const B=(0,me.m9)(V);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(rc),rc},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(K,P),(0,ue.registerVersion)(K,P,"esm2017");var Vt=x(6676);const ai="/firebase-messaging-sw.js",Gn="/firebase-cloud-messaging-push-scope",yt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yt="google.c.a.c_id",Bt="google.c.a.c_l",qn="google.c.a.ts",sn="google.c.a.e";var nt=(()=>{return(V=nt||(nt={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",nt;var V})();function mi(V){const B=new Uint8Array(V);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ts(V){const re=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Te=atob(re),Ge=new Uint8Array(Te.length);for(let ot=0;ot<Te.length;++ot)Ge[ot]=Te.charCodeAt(ot);return Ge}const Vi="fcm_token_details_db",fn="fcm_token_object_Store";function Sr(V){return Q.apply(this,arguments)}function Q(){return(Q=(0,O.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ot=>ot.name).includes(Vi))return null;let B=null;return(yield(0,Vt.openDb)(Vi,5,function(){var Te=(0,O.Z)(function*(Ge){var ot;if(Ge.oldVersion<2||!Ge.objectStoreNames.contains(fn))return;const pt=Ge.transaction.objectStore(fn),Bi=yield pt.index("fcmSenderId").get(V);if(yield pt.clear(),Bi)if(2===Ge.oldVersion){const qt=Bi;if(!qt.auth||!qt.p256dh||!qt.endpoint)return;B={token:qt.fcmToken,createTime:null!==(ot=qt.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:qt.auth,p256dh:qt.p256dh,endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:"string"==typeof qt.vapidKey?qt.vapidKey:mi(qt.vapidKey)}}}else if(3===Ge.oldVersion){const qt=Bi;B={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:mi(qt.auth),p256dh:mi(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:mi(qt.vapidKey)}}}else if(4===Ge.oldVersion){const qt=Bi;B={token:qt.fcmToken,createTime:qt.createTime,subscriptionOptions:{auth:mi(qt.auth),p256dh:mi(qt.p256dh),endpoint:qt.endpoint,swScope:qt.swScope,vapidKey:mi(qt.vapidKey)}}}});return function(Ge){return Te.apply(this,arguments)}}())).close(),yield(0,Vt.deleteDb)(Vi),yield(0,Vt.deleteDb)("fcm_vapid_details_db"),yield(0,Vt.deleteDb)("undefined"),W(B)?B:null})).apply(this,arguments)}function W(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:B}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const de="firebase-messaging-store";let it=null;function le(){return it||(it=(0,Vt.openDb)("firebase-messaging-database",1,V=>{switch(V.oldVersion){case 0:V.createObjectStore(de)}})),it}function De(V){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(V){const B=z(V),Te=yield(yield le()).transaction(de).objectStore(de).get(B);if(Te)return Te;{const Ge=yield Sr(V.appConfig.senderId);if(Ge)return yield Xe(V,Ge),Ge}})).apply(this,arguments)}function Xe(V,B){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*(V,B){const re=z(V),Ge=(yield le()).transaction(de,"readwrite");return yield Ge.objectStore(de).put(B,re),yield Ge.complete,B})).apply(this,arguments)}function J(V){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*(V){const B=z(V),Te=(yield le()).transaction(de,"readwrite");yield Te.objectStore(de).delete(B),yield Te.complete})).apply(this,arguments)}function z({appConfig:V}){return V.appId}const Ue=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bt(V,B){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(V,B){const re=yield Qn(V),Te=_i(B),Ge={method:"POST",headers:re,body:JSON.stringify(Te)};let ot;try{ot=yield(yield fetch(Ht(V.appConfig),Ge)).json()}catch(pt){throw Ue.create("token-subscribe-failed",{errorInfo:pt})}if(ot.error)throw Ue.create("token-subscribe-failed",{errorInfo:ot.error.message});if(!ot.token)throw Ue.create("token-subscribe-no-token");return ot.token})).apply(this,arguments)}function Gt(V,B){return vn.apply(this,arguments)}function vn(){return(vn=(0,O.Z)(function*(V,B){const re=yield Qn(V),Te=_i(B.subscriptionOptions),Ge={method:"PATCH",headers:re,body:JSON.stringify(Te)};let ot;try{ot=yield(yield fetch(`${Ht(V.appConfig)}/${B.token}`,Ge)).json()}catch(pt){throw Ue.create("token-update-failed",{errorInfo:pt})}if(ot.error)throw Ue.create("token-update-failed",{errorInfo:ot.error.message});if(!ot.token)throw Ue.create("token-update-no-token");return ot.token})).apply(this,arguments)}function Sn(V,B){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*(V,B){const Te={method:"DELETE",headers:yield Qn(V)};try{const ot=yield(yield fetch(`${Ht(V.appConfig)}/${B}`,Te)).json();if(ot.error)throw Ue.create("token-unsubscribe-failed",{errorInfo:ot.error.message})}catch(Ge){throw Ue.create("token-unsubscribe-failed",{errorInfo:Ge})}})).apply(this,arguments)}function Ht({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function Qn(V){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,O.Z)(function*({appConfig:V,installations:B}){const re=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function _i({p256dh:V,auth:B,endpoint:re,vapidKey:Te}){const Ge={web:{endpoint:re,auth:B,p256dh:V}};return Te!==yt&&(Ge.web.applicationPubKey=Te),Ge}const tt=6048e5;function tn(V){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(V){const B=yield On(V.swRegistration,V.vapidKey),re={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:B.endpoint,auth:mi(B.getKey("auth")),p256dh:mi(B.getKey("p256dh"))},Te=yield De(V.firebaseDependencies);if(Te){if(Jn(Te.subscriptionOptions,re))return Date.now()>=Te.createTime+tt?se(V,{token:Te.token,createTime:Date.now(),subscriptionOptions:re}):Te.token;try{yield Sn(V.firebaseDependencies,Te.token)}catch(Ge){console.warn(Ge)}return Fe(V.firebaseDependencies,re)}return Fe(V.firebaseDependencies,re)})).apply(this,arguments)}function In(V){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(V){const B=yield De(V.firebaseDependencies);B&&(yield Sn(V.firebaseDependencies,B.token),yield J(V.firebaseDependencies));const re=yield V.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()})).apply(this,arguments)}function se(V,B){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(V,B){try{const re=yield Gt(V.firebaseDependencies,B),Te=Object.assign(Object.assign({},B),{token:re,createTime:Date.now()});return yield Xe(V.firebaseDependencies,Te),re}catch(re){throw yield In(V),re}})).apply(this,arguments)}function Fe(V,B){return ht.apply(this,arguments)}function ht(){return(ht=(0,O.Z)(function*(V,B){const Te={token:yield bt(V,B),createTime:Date.now(),subscriptionOptions:B};return yield Xe(V,Te),Te.token})).apply(this,arguments)}function On(V,B){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(V,B){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ts(B)})})).apply(this,arguments)}function Jn(V,B){return B.vapidKey===V.vapidKey&&B.endpoint===V.endpoint&&B.auth===V.auth&&B.p256dh===V.p256dh}function Un(V){const B={from:V.from,collapseKey:V.collapse_key,messageId:V.fcm_message_id};return function(V,B){if(!B.notification)return;V.notification={};const re=B.notification.title;re&&(V.notification.title=re);const Te=B.notification.body;Te&&(V.notification.body=Te);const Ge=B.notification.image;Ge&&(V.notification.image=Ge)}(B,V),function(V,B){!B.data||(V.data=B.data)}(B,V),function(V,B){if(!B.fcmOptions)return;V.fcmOptions={};const re=B.fcmOptions.link;re&&(V.fcmOptions.link=re);const Te=B.fcmOptions.analytics_label;Te&&(V.fcmOptions.analyticsLabel=Te)}(B,V),B}function no(V){return"object"==typeof V&&!!V&&Yt in V}function Zo(V,B){const re=[];for(let Te=0;Te<V.length;Te++)re.push(V.charAt(Te)),Te<B.length&&re.push(B.charAt(Te));return re.join("")}function jt(V){return Ue.create("missing-app-config-values",{valueName:V})}Zo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kl{constructor(B,re,Te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function(V){if(!V||!V.options)throw jt("App Configuration Object");if(!V.name)throw jt("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:re}=V;for(const Te of B)if(!re[Te])throw jt(Te);return{appName:V.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:Ge,installations:re,analyticsProvider:Te}}_delete(){return Promise.resolve()}}function sh(V){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(ai,{scope:Gn}),V.swRegistration.update().catch(()=>{})}catch(B){throw Ue.create("failed-service-worker-registration",{browserErrorMessage:B.message})}})).apply(this,arguments)}function wu(V,B){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(V,B){if(!B&&!V.swRegistration&&(yield sh(V)),B||!V.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw Ue.create("invalid-sw-registration");V.swRegistration=B}})).apply(this,arguments)}function Ia(V,B){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,O.Z)(function*(V,B){B?V.vapidKey=B:V.vapidKey||(V.vapidKey=yt)})).apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(V,B){if(!navigator)throw Ue.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ue.create("permission-blocked");return yield Ia(V,null==B?void 0:B.vapidKey),yield wu(V,null==B?void 0:B.serviceWorkerRegistration),tn(V)})).apply(this,arguments)}function io(V,B,re){return lr.apply(this,arguments)}function lr(){return(lr=(0,O.Z)(function*(V,B,re){const Te=Cu(B);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(Te,{message_id:re[Yt],message_name:re[Bt],message_time:re[qn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cu(V){switch(V){case nt.NOTIFICATION_CLICKED:return"notification_open";case nt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yi(){return(yi=(0,O.Z)(function*(V,B){const re=B.data;if(!re.isFirebaseMessaging)return;V.onMessageHandler&&re.messageType===nt.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(Un(re)):V.onMessageHandler.next(Un(re)));const Te=re.data;no(Te)&&"1"===Te[sn]&&(yield io(V,re.messageType,Te))})).apply(this,arguments)}const Ri="@firebase/messaging";function Eu(){return oh.apply(this,arguments)}function oh(){return(oh=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,me.hl)()&&(yield(0,me.eu)())&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new oe.wA("messaging",V=>{const B=new Kl(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function(V,B){return yi.apply(this,arguments)}(B,re)),B},"PUBLIC")),(0,ue._registerComponent)(new oe.wA("messaging-internal",V=>{const B=V.getProvider("messaging").getImmediate();return{getToken:Te=>function(V,B){return cl.apply(this,arguments)}(B,Te)}},"PRIVATE")),(0,ue.registerVersion)(Ri,"0.9.4"),(0,ue.registerVersion)(Ri,"0.9.4","esm2017");var O_=x(6279),Jl=x(7771),qb=x(3637),Xl=x(7574),Fs=x(8307),ys=x(9746),dl=x(9673);const uh=new s.GfV("7.1.1"),Du="__angularfire_symbol__analyticsIsSupportedValue",ro="__angularfire_symbol__analyticsIsSupported",ti="__angularfire_symbol__remoteConfigIsSupported",Aa="__angularfire_symbol__messagingIsSupported";globalThis[ro]||(globalThis[ro]=(0,O_.Gb)().then(V=>globalThis[Du]=V)),globalThis[Aa]||(globalThis[Aa]=Eu().then(V=>globalThis.__angularfire_symbol__messagingIsSupportedValue=V)),globalThis[ti]||(globalThis[ti]=ar().then(V=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=V));const Br={async:()=>globalThis[ro],sync:()=>{const V=globalThis[Du];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function Su(V,B,re){if(B){if(1===B.length)return B[0];const ot=B.filter(pt=>pt.app===re);if(1===ot.length)return ot[0]}return re.container.getProvider(V).getImmediate({optional:!0})}const P_=(V,B)=>{const re=B?[B]:(0,H.C6)(),Te=[];return re.forEach(Ge=>{Ge.container.getProvider(V).instances.forEach(pt=>{Te.includes(pt)||Te.push(pt)})}),Te};function Ui(){}class qo{constructor(B,re=Jl.N){this.zone=B,this.delegate=re}now(){return this.delegate.now()}schedule(B,re,Te){const Ge=this.zone;return this.delegate.schedule(function(pt){Ge.runGuarded(()=>{B.apply(this,[pt])})},re,Te)}}class Iu{constructor(B){this.zone=B,this.task=null}call(B,re){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)),re.pipe((0,Fs.b)({next:Te,complete:Te,error:Te})).subscribe(B).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hl=(()=>{class V{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new qo(Zone.current)),this.insideAngular=re.run(()=>new qo(Zone.current,qb.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(re){return new(re||V)(s.LFG(s.R0b))},V.\u0275prov=s.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function zo(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function nc(V){return zo().ngZone.runOutsideAngular(()=>V())}function Mo(V){return zo().ngZone.run(()=>V())}function Xn(V){return V.pipe((0,ys.QV)(zo().outsideAngular))}function so(V){return zo(),function(V){return function(re){return(re=re.lift(new Iu(V.ngZone))).pipe((0,dl.R)(V.outsideAngular),(0,ys.QV)(V.insideAngular))}}(zo())(V)}const Wn=(V,B)=>function(){return B&&setTimeout(()=>{"scheduled"===B.state&&B.invoke()},10),Mo(()=>V.apply(void 0,arguments))},ph=(V,B)=>function(){let re;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof arguments[Ge]&&(B&&(re||(re=Mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)))),arguments[Ge]=Wn(arguments[Ge],re));const Te=nc(()=>V.apply(this,arguments));if(!B){if(Te instanceof Xl.y){const Ge=zo();return Te.pipe((0,dl.R)(Ge.outsideAngular),(0,ys.QV)(Ge.insideAngular))}return Mo(()=>Te)}return Te instanceof Xl.y?Te.pipe(so):Te instanceof Promise?Mo(()=>new Promise((Ge,ot)=>Te.then(pt=>Mo(()=>Ge(pt)),pt=>Mo(()=>ot(pt))))):"function"==typeof Te&&re?function(){return setTimeout(()=>{re&&"scheduled"===re.state&&re.invoke()},10),Te.apply(this,arguments)}:Mo(()=>Te)}},7039:(dt,xe,x)=>{"use strict";x.d(xe,{$:()=>rc,A:()=>j,E:()=>se,G:()=>rt,I:()=>Ps,K:()=>Qe,L:()=>Xl,M:()=>uh,N:()=>Du,P:()=>er,Q:()=>ro,R:()=>nD,T:()=>dl,U:()=>Aa,V:()=>Tu,W:()=>P_,X:()=>B,Y:()=>Te,Z:()=>ot,_:()=>li,a:()=>n0,a0:()=>pl,a1:()=>Ma,a2:()=>oc,a3:()=>_n,a4:()=>ci,a5:()=>gl,a6:()=>Ls,a7:()=>gh,a8:()=>K1,a9:()=>cr,aA:()=>ty,aB:()=>Xo,aC:()=>In,aG:()=>rs,aJ:()=>ti,aa:()=>zb,ab:()=>lo,ae:()=>Wb,af:()=>Up,ag:()=>V_,aj:()=>zo,ak:()=>Qb,am:()=>vh,an:()=>Na,ao:()=>Ht,ap:()=>ge,aq:()=>En,ar:()=>Gt,as:()=>$e,at:()=>Uh,au:()=>Cc,av:()=>Ke,aw:()=>ve,ax:()=>_e,ay:()=>J,az:()=>Yn,b:()=>t0,c:()=>Pa,d:()=>sD,e:()=>X_,f:()=>yc,g:()=>bc,h:()=>oD,i:()=>z_,j:()=>s0,k:()=>Tc,l:()=>No,m:()=>Sl,n:()=>na,o:()=>X,r:()=>rD,s:()=>iD,t:()=>ml,u:()=>Ou,z:()=>Se});var s=x(8239),H=x(3854),O=x(8026),ue=x(4762),me=x(5422),oe=x(3910);const X={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ae=new me.Yd("@firebase/auth");function ke(w,..._){ae.logLevel<=me.in.ERROR&&ae.error(`Auth (${O.SDK_VERSION}): ${w}`,..._)}function $e(w,..._){throw Jt(w,..._)}function Ke(w,..._){return Jt(w,..._)}function Lt(w,_,v){const D=Object.assign(Object.assign({},Le()),{[_]:v});return new H.LL("auth","Firebase",D).create(_,{appName:w.name})}function xt(w,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&$e(w,"argument-error"),Lt(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jt(w,..._){if("string"!=typeof w){const v=_[0],D=[..._.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(v,...D)}return Ae.create(w,..._)}function ve(w,_,...v){if(!w)throw Jt(_,...v)}function Xt(w){const _="INTERNAL ASSERTION FAILED: "+w;throw ke(_),new Error(_)}function ge(w,_){w||Xt(_)}const Ee=new Map;function _e(w){ge(w instanceof Function,"Expected a class definition");let _=Ee.get(w);return _?(ge(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,Ee.set(w,_),_)}function we(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===cn()||"https:"===cn()}function cn(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class _t{constructor(_,v){this.shortDelay=_,this.longDelay=v,ge(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ot(w,_){ge(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class xn{static initialize(_,v,D){this.fetchImpl=_,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ii=new _t(3e4,6e4);function Nt(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function en(w,_,v,D){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(w,_,v,D,N={}){return Tn(w,N,()=>{let $={},pe={};D&&("GET"===_?pe=D:$={body:JSON.stringify(D)});const Ze=(0,H.xO)(Object.assign({key:w.config.apiKey},pe)).slice(1),ft=new(xn.headers());return ft.set("Content-Type","application/json"),ft.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&ft.set("X-Firebase-Locale",w.languageCode),xn.fetch()(Ji(w,w.config.apiHost,v,Ze),Object.assign({method:_,headers:ft,referrerPolicy:"no-referrer"},$))})})).apply(this,arguments)}function Tn(w,_,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,s.Z)(function*(w,_,v){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},or),_);try{const N=new Mi(w),$=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const pe=yield $.json();if("needConfirmation"in pe)throw Zn(w,"account-exists-with-different-credential",pe);if($.ok&&!("errorMessage"in pe))return pe;{const Ze=$.ok?pe.errorMessage:pe.error.message,[ft,Pt]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Zn(w,"credential-already-in-use",pe);if("EMAIL_EXISTS"===ft)throw Zn(w,"email-already-in-use",pe);const nn=D[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(Pt)throw Lt(w,nn,Pt);$e(w,nn)}}catch(N){if(N instanceof H.ZR)throw N;$e(w,"network-request-failed")}})).apply(this,arguments)}function gi(w,_,v,D){return oi.apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(w,_,v,D,N={}){const $=yield en(w,_,v,D,N);return"mfaPendingCredential"in $&&$e(w,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function Ji(w,_,v,D){const N=`${_}${v}?${D}`;return w.config.emulator?Ot(w.config,N):`${w.config.apiScheme}://${N}`}class Mi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(Ke(this.auth,"timeout")),ii.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(w,_,v){const D={appName:w.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const N=Ke(w,_,D);return N.customData._tokenResponse=v,N}function ar(){return(ar=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function ut(w,_){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ai(w,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function yt(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Bt(){return(Bt=(0,s.Z)(function*(w,_=!1){const v=(0,H.m9)(w),D=yield v.getIdToken(_),N=sn(D);ve(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const $="object"==typeof N.firebase?N.firebase:void 0,pe=null==$?void 0:$.sign_in_provider;return{claims:N,token:D,authTime:yt(qn(N.auth_time)),issuedAtTime:yt(qn(N.iat)),expirationTime:yt(qn(N.exp)),signInProvider:pe||null,signInSecondFactor:(null==$?void 0:$.sign_in_second_factor)||null}})).apply(this,arguments)}function qn(w){return 1e3*Number(w)}function sn(w){const[_,v,D]=w.split(".");if(void 0===_||void 0===v||void 0===D)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,H.tV)(v);return N?JSON.parse(N):(ke("Failed to decode base64 JWT payload"),null)}catch(N){return ke("Caught error parsing JWT payload as JSON",N),null}}function nt(w,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(w,_,v=!1){if(v)return _;try{return yield _}catch(D){throw D instanceof H.ZR&&ts(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function ts({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Vi{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(_);this.timerId=setTimeout((0,s.Z)(function*(){yield v.iteration()}),D)}iteration(){var _=this;return(0,s.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class on{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(w){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(w){var _;const v=w.auth,D=yield w.getIdToken(),N=yield nt(w,ai(v,{idToken:D}));ve(null==N?void 0:N.users.length,v,"internal-error");const $=N.users[0];w._notifyReloadListener($);const pe=(null===(_=$.providerUserInfo)||void 0===_?void 0:_.length)?Oe($.providerUserInfo):[],Ze=ee(w.providerData,pe),nn=!!w.isAnonymous&&!(w.email&&$.passwordHash||(null==Ze?void 0:Ze.length)),ni={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Ze,metadata:new on($.createdAt,$.lastLoginAt),isAnonymous:nn};Object.assign(w,ni)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(w){const _=(0,H.m9)(w);yield fn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ee(w,_){return[...w.filter(D=>!_.some(N=>N.providerId===D.providerId)),..._]}function Oe(w){return w.map(_=>{var{providerId:v}=_,D=(0,ue._T)(_,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function it(){return(it=(0,s.Z)(function*(w,_){const v=yield Tn(w,{},()=>{const D=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:N,apiKey:$}=w.config,pe=Ji(w,N,"/v1/token",`key=${$}`);return xn.fetch()(pe,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ve(_.idToken,"internal-error"),ve(void 0!==_.idToken,"internal-error"),ve(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(w){const _=sn(w);return ve(_,"internal-error"),ve(void 0!==_.exp,"internal-error"),ve(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var D=this;return(0,s.Z)(function*(){return ve(!D.accessToken||D.refreshToken,_,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(_,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var D=this;return(0,s.Z)(function*(){const{accessToken:N,refreshToken:$,expiresIn:pe}=yield function(w,_){return it.apply(this,arguments)}(_,v);D.updateTokensAndExpiration(N,$,Number(pe))})()}updateTokensAndExpiration(_,v,D){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(_,v){const{refreshToken:D,accessToken:N,expirationTime:$}=v,pe=new le;return D&&(ve("string"==typeof D,"internal-error",{appName:_}),pe.refreshToken=D),N&&(ve("string"==typeof N,"internal-error",{appName:_}),pe.accessToken=N),$&&(ve("number"==typeof $,"internal-error",{appName:_}),pe.expirationTime=$),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function De(w,_){ve("string"==typeof w||void 0===w,"internal-error",{appName:_})}class Ve{constructor(_){var{uid:v,auth:D,stsTokenManager:N}=_,$=(0,ue._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.metadata=new on($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,s.Z)(function*(){const D=yield nt(v,v.stsTokenManager.getToken(v.auth,_));return ve(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(_){return function(w){return Bt.apply(this,arguments)}(this,_)}reload(){return function(w){return W.apply(this,arguments)}(this)}_assign(_){this!==_&&(ve(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ve(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var D=this;return(0,s.Z)(function*(){let N=!1;_.idToken&&_.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(_),N=!0),v&&(yield fn(D)),yield D.auth._persistUserIfCurrent(D),N&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var _=this;return(0,s.Z)(function*(){const v=yield _.getIdToken();return yield nt(_,function(w,_){return ar.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var D,N,$,pe,Ze,ft,Pt,nn;const ni=null!==(D=v.displayName)&&void 0!==D?D:void 0,ia=null!==(N=v.email)&&void 0!==N?N:void 0,uo=null!==($=v.phoneNumber)&&void 0!==$?$:void 0,ra=null!==(pe=v.photoURL)&&void 0!==pe?pe:void 0,Gu=null!==(Ze=v.tenantId)&&void 0!==Ze?Ze:void 0,Cs=null!==(ft=v._redirectEventId)&&void 0!==ft?ft:void 0,Va=null!==(Pt=v.createdAt)&&void 0!==Pt?Pt:void 0,qu=null!==(nn=v.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:$h,emailVerified:Sc,isAnonymous:oy,providerData:ay,stsTokenManager:f0}=v;ve($h&&f0,_,"internal-error");const lg=le.fromJSON(this.name,f0);ve("string"==typeof $h,_,"internal-error"),De(ni,_.name),De(ia,_.name),ve("boolean"==typeof Sc,_,"internal-error"),ve("boolean"==typeof oy,_,"internal-error"),De(uo,_.name),De(ra,_.name),De(Gu,_.name),De(Cs,_.name),De(Va,_.name),De(qu,_.name);const Ua=new Ve({uid:$h,auth:_,email:ia,emailVerified:Sc,displayName:ni,isAnonymous:oy,photoURL:ra,phoneNumber:uo,tenantId:Gu,stsTokenManager:lg,createdAt:Va,lastLoginAt:qu});return ay&&Array.isArray(ay)&&(Ua.providerData=ay.map(Il=>Object.assign({},Il))),Cs&&(Ua._redirectEventId=Cs),Ua}static _fromIdTokenResponse(_,v,D=!1){return(0,s.Z)(function*(){const N=new le;N.updateFromServerResponse(v);const $=new Ve({uid:v.localId,auth:_,stsTokenManager:N,isAnonymous:D});return yield fn($),$})()}}const Qe=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(v,D){var N=this;return(0,s.Z)(function*(){N.storage[v]=D})()}_get(v){var D=this;return(0,s.Z)(function*(){const N=D.storage[v];return void 0===N?null:N})()}_remove(v){var D=this;return(0,s.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return w.type="NONE",w})();function J(w,_,v){return`firebase:${w}:${_}:${v}`}class G{constructor(_,v,D){this.persistence=_,this.auth=v,this.userKey=D;const{config:N,name:$}=this.auth;this.fullUserKey=J(this.userKey,N.apiKey,$),this.fullPersistenceKey=J("persistence",N.apiKey,$),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?Ve._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,s.Z)(function*(){if(v.persistence===_)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,D="authUser"){return(0,s.Z)(function*(){if(!v.length)return new G(_e(Qe),_,D);const N=(yield Promise.all(v.map(function(){var Pt=(0,s.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let $=N[0]||_e(Qe);const pe=J(D,_.config.apiKey,_.name);let Ze=null;for(const Pt of v)try{const nn=yield Pt._get(pe);if(nn){const ni=Ve._fromJSON(_,nn);Pt!==$&&(Ze=ni),$=Pt;break}}catch(nn){}const ft=N.filter(Pt=>Pt._shouldAllowMigration);return $._shouldAllowMigration&&ft.length?($=ft[0],Ze&&(yield $._set(pe,Ze.toJSON())),yield Promise.all(v.map(function(){var Pt=(0,s.Z)(function*(nn){if(nn!==$)try{yield nn._remove(pe)}catch(ni){}});return function(nn){return Pt.apply(this,arguments)}}())),new G($,_,D)):new G($,_,D)})()}}function z(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if($t(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Ie(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vn(_))return"Blackberry";if(Sn(_))return"Webos";if(Ue(_))return"Safari";if((_.includes("chrome/")||bt(_))&&!_.includes("edge/"))return"Chrome";if(Gt(_))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Ie(w=(0,H.z$)()){return/firefox\//i.test(w)}function Ue(w=(0,H.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function bt(w=(0,H.z$)()){return/crios\//i.test(w)}function $t(w=(0,H.z$)()){return/iemobile/i.test(w)}function Gt(w=(0,H.z$)()){return/android/i.test(w)}function vn(w=(0,H.z$)()){return/blackberry/i.test(w)}function Sn(w=(0,H.z$)()){return/webos/i.test(w)}function En(w=(0,H.z$)()){return/iphone|ipad|ipod/i.test(w)}function Ht(w=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function _i(w=(0,H.z$)()){return En(w)||Gt(w)||Sn(w)||vn(w)||/windows phone/i.test(w)||$t(w)}function tn(w,_=[]){let v;switch(w){case"Browser":v=z((0,H.z$)());break;case"Worker":v=`${z((0,H.z$)())}-${w}`;break;default:v=w}const D=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${O.SDK_VERSION}/${D}`}class An{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ns(this),this.idTokenSubscription=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var D=this;return v&&(this._popupRedirectResolver=_e(v)),this._initializationPromise=this.queue((0,s.Z)(function*(){var N,$;D._deleted||(D.persistenceManager=yield G.create(D,_),!D._deleted&&((null===(N=D._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(v),D.lastNotifiedUid=(null===($=D.currentUser)||void 0===$?void 0:$.uid)||null,!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,s.Z)(function*(){var D;let N=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const $=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,pe=null==N?void 0:N._redirectEventId,Ze=yield v.tryRedirectSignIn(_);(!$||$===pe)&&(null==Ze?void 0:Ze.user)&&(N=Ze.user)}return N?N._redirectEventId?(ve(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===N._redirectEventId?v.directlySetCurrentUser(N):v.reloadAndSetCurrentUserOrClear(N)):v.reloadAndSetCurrentUserOrClear(N):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,s.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(N){yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,s.Z)(function*(){try{yield fn(_)}catch(D){if("auth/network-request-failed"!==D.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,s.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,s.Z)(function*(){const D=_?(0,H.m9)(_):null;return D&&ve(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,s.Z)(function*(){if(!v._deleted)return _&&ve(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,s.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,s.Z)(function*(){yield v.assertedPersistence.setPersistence(_e(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,v,D){return this.registerStateListener(this.authStateSubscription,_,v,D)}onIdTokenChanged(_,v,D){return this.registerStateListener(this.idTokenSubscription,_,v,D)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var D=this;return(0,s.Z)(function*(){const N=yield D.getOrInitRedirectPersistenceManager(v);return null===_?N.removeCurrentUser():N.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,s.Z)(function*(){if(!v.redirectPersistenceManager){const D=_&&_e(_)||v._popupRedirectResolver;ve(D,v,"argument-error"),v.redirectPersistenceManager=yield G.create(v,[_e(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,s.Z)(function*(){var D,N;return v._isInitialized&&(yield v.queue((0,s.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===_?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,s.Z)(function*(){if(_===v.currentUser)return v.queue((0,s.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,D,N){if(this._deleted)return()=>{};const $="function"==typeof v?v:v.next.bind(v),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(pe,this,"internal-error"),pe.then(()=>$(this.currentUser)),"function"==typeof v?_.addObserver(v,D,N):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,s.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function In(w){return(0,H.m9)(w)}class ns{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(v=>this.observer=v)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function se(w,_,v){const D=In(w);ve(D._canInitEmulator,D,"emulator-config-failed"),ve(/^https?:\/\//.test(_),D,"invalid-emulator-scheme");const N=!!(null==v?void 0:v.disableWarnings),$=Ne(_),{host:pe,port:Ze}=function(w){const _=Ne(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(D);if(N){const $=N[1];return{host:$,port:ht(D.substr($.length+1))}}{const[$,pe]=D.split(":");return{host:$,port:ht(pe)}}}(_);D.config.emulator={url:`${$}//${pe}${null===Ze?"":`:${Ze}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:pe,port:Ze,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function(){function w(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Ne(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function ht(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class rt{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Xt("not implemented")}_getIdTokenResponse(_){return Xt("not implemented")}_linkToIdToken(_,v){return Xt("not implemented")}_getReauthenticationResolver(_){return Xt("not implemented")}}function Jn(w,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:resetPassword",Nt(w,_))})).apply(this,arguments)}function eo(w,_){return to.apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function _r(w,_){return no.apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:update",Nt(w,_))})).apply(this,arguments)}function Vr(){return(Vr=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithPassword",Nt(w,_))})).apply(this,arguments)}function jt(w,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:sendOobCode",Nt(w,_))})).apply(this,arguments)}function sh(w,_){return zn.apply(this,arguments)}function zn(){return(zn=(0,s.Z)(function*(w,_){return jt(w,_)})).apply(this,arguments)}function wu(w,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(w,_){return jt(w,_)})).apply(this,arguments)}function Ia(w,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(w,_){return jt(w,_)})).apply(this,arguments)}function Xi(w,_){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(w,_){return jt(w,_)})).apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithEmailLink",Nt(w,_))})).apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithEmailLink",Nt(w,_))})).apply(this,arguments)}class yi extends rt{constructor(_,v,D,N=null){super("password",D),this._email=_,this._password=v,this._tenantId=N}static _fromEmailAndPassword(_,v){return new yi(_,v,"password")}static _fromEmailAndCode(_,v,D=null){return new yi(_,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,s.Z)(function*(){switch(v.signInMethod){case"password":return function(w,_){return Vr.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(w,_){return lr.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:$e(_,"internal-error")}})()}_linkToIdToken(_,v){var D=this;return(0,s.Z)(function*(){switch(D.signInMethod){case"password":return eo(_,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(w,_){return Go.apply(this,arguments)}(_,{idToken:v,email:D._email,oobCode:D._password});default:$e(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ri(w,_){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithIdp",Nt(w,_))})).apply(this,arguments)}class Ps extends rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Ps(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):$e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:N}=v,$=(0,ue._T)(v,["providerId","signInMethod"]);if(!D||!N)return null;const pe=new Ps(D,N);return pe.idToken=$.idToken||void 0,pe.accessToken=$.accessToken||void 0,pe.secret=$.secret,pe.nonce=$.nonce,pe.pendingToken=$.pendingToken||null,pe}_getIdTokenResponse(_){return Ri(_,this.buildRequest())}_linkToIdToken(_,v){const D=this.buildRequest();return D.idToken=v,Ri(_,D)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ri(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,H.xO)(v)}return _}}function Lp(w,_){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:sendVerificationCode",Nt(w,_))})).apply(this,arguments)}function ah(){return(ah=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithPhoneNumber",Nt(w,_))})).apply(this,arguments)}function ch(){return(ch=(0,s.Z)(function*(w,_){const v=yield gi(w,"POST","/v1/accounts:signInWithPhoneNumber",Nt(w,_));if(v.temporaryProof)throw Zn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const jb={USER_NOT_FOUND:"user-not-found"};function Ql(){return(Ql=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithPhoneNumber",Nt(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),jb)})).apply(this,arguments)}class ul extends rt{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new ul({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new ul({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(w,_){return ah.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(w,_){return ch.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(w,_){return Ql.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:D,verificationCode:N}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:D,code:N}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:D,phoneNumber:N,temporaryProof:$}=_;return D||v||N||$?new ul({verificationId:v,verificationCode:D,phoneNumber:N,temporaryProof:$}):null}}class Jl{constructor(_){var v,D,N,$,pe,Ze;const ft=(0,H.zd)((0,H.pd)(_)),Pt=null!==(v=ft.apiKey)&&void 0!==v?v:null,nn=null!==(D=ft.oobCode)&&void 0!==D?D:null,ni=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ft.mode)&&void 0!==N?N:null);ve(Pt&&nn&&ni,"argument-error"),this.apiKey=Pt,this.operation=ni,this.code=nn,this.continueUrl=null!==($=ft.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(pe=ft.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(Ze=ft.tenantId)&&void 0!==Ze?Ze:null}static parseLink(_){const v=function(w){const _=(0,H.zd)((0,H.pd)(w)).link,v=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(w)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||v||_||w}(_);try{return new Jl(v)}catch(D){return null}}}let Xl=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,D){return yi._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const N=Jl.parseLink(D);return ve(N,"argument-error"),yi._fromEmailAndCode(v,N.code,N.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Fs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ys extends Fs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class dl extends ys{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ve("providerId"in v&&"signInMethod"in v,"argument-error"),Ps._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ve(_.idToken||_.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return dl.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return dl.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:N,pendingToken:$,nonce:pe,providerId:Ze}=_;if(!D&&!N&&!v&&!$||!Ze)return null;try{return new dl(Ze)._credential({idToken:v,accessToken:D,nonce:pe,pendingToken:$})}catch(ft){return null}}}let uh=(()=>{class w extends ys{constructor(){super("facebook.com")}static credential(v){return Ps._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch(D){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Du=(()=>{class w extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return Ps._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:N}=v;if(!D&&!N)return null;try{return w.credential(D,N)}catch($){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ro=(()=>{class w extends ys{constructor(){super("github.com")}static credential(v){return Ps._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch(D){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ti extends rt{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Ri(_,this.buildRequest())}_linkToIdToken(_,v){const D=this.buildRequest();return D.idToken=v,Ri(_,D)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ri(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:N,pendingToken:$}=v;return D&&N&&$&&D===N?new ti(D,$):null}static _create(_,v){return new ti(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Aa extends Fs{constructor(_){ve(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Aa.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Aa.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=ti.fromJSON(_);return ve(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:D}=_;if(!v||!D)return null;try{return ti._create(D,v)}catch(N){return null}}}let Tu=(()=>{class w extends ys{constructor(){super("twitter.com")}static credential(v,D){return Ps._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:N}=v;if(!D||!N)return null;try{return w.credential(D,N)}catch($){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function hh(w,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signUp",Nt(w,_))})).apply(this,arguments)}class Br{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,D,N=!1){return(0,s.Z)(function*(){const $=yield Ve._fromIdTokenResponse(_,D,N),pe=Su(D);return new Br({user:$,providerId:pe,_tokenResponse:D,operationType:v})})()}static _forOperation(_,v,D){return(0,s.Z)(function*(){yield _._updateTokensIfNecessary(D,!0);const N=Su(D);return new Br({user:_,providerId:N,_tokenResponse:D,operationType:v})})()}}function Su(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function P_(w){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(w){var _;const v=In(w);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new Br({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield hh(v,{returnSecureToken:!0}),N=yield Br._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class qo extends H.ZR{constructor(_,v,D,N){var $;super(v.code,v.message),this.operationType=D,this.user=N,Object.setPrototypeOf(this,qo.prototype),this.customData={appName:_.name,tenantId:null!==($=_.tenantId)&&void 0!==$?$:void 0,_serverResponse:v.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(_,v,D,N){return new qo(_,v,D,N)}}function Iu(w,_,v,D){return("reauthenticate"===_?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?qo._fromErrorAndOperation(w,$,_,D):$})}function hl(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function zo(w,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(w,_){const v=(0,H.m9)(w);yield ic(!0,v,_);const{providerUserInfo:D}=yield ut(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),N=hl(D||[]);return v.providerData=v.providerData.filter($=>N.has($.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Mo(w,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(w,_,v=!1){const D=yield nt(w,_._linkToIdToken(w.auth,yield w.getIdToken()),v);return Br._forOperation(w,"link",D)})).apply(this,arguments)}function ic(w,_,v){return so.apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(w,_,v){yield fn(_);const N=!1===w?"provider-already-linked":"no-such-provider";ve(hl(_.providerData).has(v)===w,_.auth,N)})).apply(this,arguments)}function fh(w,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(w,_,v=!1){const{auth:D}=w,N="reauthenticate";try{const $=yield nt(w,Iu(D,N,_,w),v);ve($.idToken,D,"internal-error");const pe=sn($.idToken);ve(pe,D,"internal-error");const{sub:Ze}=pe;return ve(w.uid===Ze,D,"user-mismatch"),Br._forOperation(w,N,$)}catch($){throw"auth/user-not-found"===(null==$?void 0:$.code)&&$e(D,"user-mismatch"),$}})).apply(this,arguments)}function ph(w,_){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(w,_,v=!1){const D="signIn",N=yield Iu(w,D,_),$=yield Br._fromIdTokenResponse(w,D,N);return v||(yield w._updateCurrentUser($.user)),$})).apply(this,arguments)}function B(w,_){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(w,_){return ph(In(w),_)})).apply(this,arguments)}function Te(w,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(function*(w,_){const v=(0,H.m9)(w);return yield ic(!1,v,_.providerId),Mo(v,_)})).apply(this,arguments)}function ot(w,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(w,_){return fh((0,H.m9)(w),_)})).apply(this,arguments)}function Bi(w,_){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(function*(w,_){return gi(w,"POST","/v1/accounts:signInWithCustomToken",Nt(w,_))})).apply(this,arguments)}function li(w,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(w,_){const v=In(w),D=yield Bi(v,{token:_,returnSecureToken:!0}),N=yield Br._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class is{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?vs._fromServerResponse(_,v):$e(_,"internal-error")}}class vs extends is{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new vs(v)}}function Dt(w,_,v){var D;ve((null===(D=v.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),ve(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ve(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(ve(v.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function rc(w,_,v){return fl.apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w),N={requestType:"PASSWORD_RESET",email:_};v&&Dt(D,N,v),yield wu(D,N)})).apply(this,arguments)}function pl(w,_,v){return oo.apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(w,_,v){yield Jn((0,H.m9)(w),{oobCode:_,newPassword:v})})).apply(this,arguments)}function Ma(w,_){return sc.apply(this,arguments)}function sc(){return(sc=(0,s.Z)(function*(w,_){yield _r((0,H.m9)(w),{oobCode:_})})).apply(this,arguments)}function oc(w,_){return Be.apply(this,arguments)}function Be(){return(Be=(0,s.Z)(function*(w,_){const v=(0,H.m9)(w),D=yield Jn(v,{oobCode:_}),N=D.requestType;switch(ve(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(D.mfaInfo,v,"internal-error");default:ve(D.email,v,"internal-error")}let $=null;return D.mfaInfo&&($=is._fromServerResponse(In(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:$},operation:N}})).apply(this,arguments)}function _n(w,_){return Au.apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(w,_){const{data:v}=yield oc((0,H.m9)(w),_);return v.email})).apply(this,arguments)}function ci(w,_,v){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(w,_,v){const D=In(w),N=yield hh(D,{returnSecureToken:!0,email:_,password:v}),$=yield Br._fromIdTokenResponse(D,"signIn",N);return yield D._updateCurrentUser($.user),$})).apply(this,arguments)}function gl(w,_,v){return B((0,H.m9)(w),Xl.credential(_,v))}function Ls(w,_,v){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w),N={requestType:"EMAIL_SIGNIN",email:_};ve(v.handleCodeInApp,D,"argument-error"),v&&Dt(D,N,v),yield Ia(D,N)})).apply(this,arguments)}function gh(w,_){const v=Jl.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function K1(w,_,v){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w),N=Xl.credentialWithLink(_,v||we());return ve(N._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),B(D,N)})).apply(this,arguments)}function mh(w,_){return lc.apply(this,arguments)}function lc(){return(lc=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:createAuthUri",Nt(w,_))})).apply(this,arguments)}function cr(w,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(w,_){const D={identifier:_,continueUri:Mt()?we():"http://localhost"},{signinMethods:N}=yield mh((0,H.m9)(w),D);return N||[]})).apply(this,arguments)}function zb(w,_){return ao.apply(this,arguments)}function ao(){return(ao=(0,s.Z)(function*(w,_){const v=(0,H.m9)(w),N={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&Dt(v.auth,N,_);const{email:$}=yield sh(v.auth,N);$!==w.email&&(yield w.reload())})).apply(this,arguments)}function lo(w,_,v){return F_.apply(this,arguments)}function F_(){return(F_=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};v&&Dt(D.auth,$,v);const{email:pe}=yield Xi(D.auth,$);pe!==w.email&&(yield w.reload())})).apply(this,arguments)}function L_(w,_){return _h.apply(this,arguments)}function _h(){return(_h=(0,s.Z)(function*(w,_){return en(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Wb(w,_){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,s.Z)(function*(w,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const D=(0,H.m9)(w),$={idToken:yield D.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},pe=yield nt(D,L_(D.auth,$));D.displayName=pe.displayName||null,D.photoURL=pe.photoUrl||null;const Ze=D.providerData.find(({providerId:ft})=>"password"===ft);Ze&&(Ze.displayName=D.displayName,Ze.photoURL=D.photoURL),yield D._updateTokensIfNecessary(pe)})).apply(this,arguments)}function Up(w,_){return cc((0,H.m9)(w),_,null)}function V_(w,_){return cc((0,H.m9)(w),null,_)}function cc(w,_,v){return yh.apply(this,arguments)}function yh(){return(yh=(0,s.Z)(function*(w,_,v){const{auth:D}=w,$={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&($.email=_),v&&($.password=v);const pe=yield nt(w,eo(D,$));yield w._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Wo{constructor(_,v,D={}){this.isNewUser=_,this.providerId=v,this.profile=D}}class Bp extends Wo{constructor(_,v,D,N){super(_,v,D),this.username=N}}class Yb extends Wo{constructor(_,v){super(_,"facebook.com",v)}}class B_ extends Bp{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Kb extends Wo{constructor(_,v){super(_,"google.com",v)}}class Ru extends Bp{constructor(_,v,D){super(_,"twitter.com",v,D)}}function Qb(w){const{user:_,_tokenResponse:v}=w;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(w){var _,v;if(!w)return null;const{providerId:D}=w,N=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},$=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&(null==w?void 0:w.idToken)){const pe=null===(v=null===(_=sn(w.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(pe)return new Wo($,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!D)return null;switch(D){case"facebook.com":return new Yb($,N);case"github.com":return new B_($,N);case"google.com":return new Kb($,N);case"twitter.com":return new Ru($,N,w.screenName||null);case"custom":case"anonymous":return new Wo($,null);default:return new Wo($,D,N)}}(v)}function ml(w,_,v,D){return(0,H.m9)(w).onAuthStateChanged(_,v,D)}class _l{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new _l("enroll",_)}static _fromMfaPendingCredential(_){return new _l("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,D;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return _l._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(D=_.multiFactorSession)||void 0===D?void 0:D.idToken)return _l._fromIdtoken(_.multiFactorSession.idToken)}return null}}class ku{constructor(_,v,D){this.session=_,this.hints=v,this.signInResolver=D}static _fromError(_,v){const D=In(_),N=v.customData._serverResponse,$=(N.mfaInfo||[]).map(Ze=>is._fromServerResponse(D,Ze));ve(N.mfaPendingCredential,D,"internal-error");const pe=_l._fromMfaPendingCredential(N.mfaPendingCredential);return new ku(pe,$,function(){var Ze=(0,s.Z)(function*(ft){const Pt=yield ft._process(D,pe);delete N.mfaInfo,delete N.mfaPendingCredential;const nn=Object.assign(Object.assign({},N),{idToken:Pt.idToken,refreshToken:Pt.refreshToken});switch(v.operationType){case"signIn":const ni=yield Br._fromIdTokenResponse(D,v.operationType,nn);return yield D._updateCurrentUser(ni.user),ni;case"reauthenticate":return ve(v.user,D,"internal-error"),Br._forOperation(v.user,v.operationType,nn);default:$e(D,"internal-error")}});return function(ft){return Ze.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,s.Z)(function*(){return v.signInResolver(_)})()}}function vh(w,_){var v;const D=(0,H.m9)(w),N=_;return ve(_.customData.operationType,D,"argument-error"),ve(null===(v=N.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),ku._fromError(D,N)}function uc(w,_){return en(w,"POST","/v2/accounts/mfaEnrollment:start",Nt(w,_))}class wh{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>is._fromServerResponse(_.auth,D)))})}static _fromUser(_){return new wh(_)}getSession(){var _=this;return(0,s.Z)(function*(){return _l._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var D=this;return(0,s.Z)(function*(){const N=_,$=yield D.getSession(),pe=yield nt(D.user,N._process(D.user.auth,$,v));return yield D.user._updateTokensIfNecessary(pe),D.user.reload()})()}unenroll(_){var v=this;return(0,s.Z)(function*(){const D="string"==typeof _?_:_.uid,N=yield v.user.getIdToken(),$=yield nt(v.user,function(w,_){return en(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(w,_))}(v.user.auth,{idToken:N,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:pe})=>pe!==D),yield v.user._updateTokensIfNecessary($);try{yield v.user.reload()}catch(pe){if("auth/user-token-expired"!==pe.code)throw pe}})()}}const jp=new WeakMap;function Na(w){const _=(0,H.m9)(w);return jp.has(_)||jp.set(_,wh._fromUser(_)),jp.get(_)}const yl="__sak";class Xb{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(yl,"1"),this.storage.removeItem(yl),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const t0=(()=>{class w extends Xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,H.z$)();return Ue(w)||En(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const N=this.storage.getItem(D),$=this.localCache[D];N!==$&&v(D,$,N)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((Ze,ft,Pt)=>{this.notifyListeners(Ze,Pt)});const N=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(N);if(v.newValue!==Ze)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!D)return}const $=()=>{const Ze=this.storage.getItem(N);!D&&this.localCache[N]===Ze||this.notifyListeners(N,Ze)},pe=this.storage.getItem(N);(0,H.w1)()&&10===document.documentMode&&pe!==v.newValue&&v.newValue!==v.oldValue?setTimeout($,10):$()}notifyListeners(v,D){this.localCache[v]=D;const N=this.listeners[v];if(N)for(const $ of Array.from(N))$(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var N=()=>super._set,$=this;return(0,s.Z)(function*(){yield N().call($,v,D),$.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,N=this;return(0,s.Z)(function*(){const $=yield D().call(N,v);return N.localCache[v]=JSON.stringify($),$})()}_remove(v){var D=()=>super._remove,N=this;return(0,s.Z)(function*(){yield D().call(N,v),delete N.localCache[v]})()}}return w.type="LOCAL",w})(),n0=(()=>{class w extends Xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return w.type="SESSION",w})();let Gp=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find($=>$.isListeningto(v));if(D)return D;const N=new w(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,s.Z)(function*(){const N=v,{eventId:$,eventType:pe,data:Ze}=N.data,ft=D.handlersMap[pe];if(!(null==ft?void 0:ft.size))return;N.ports[0].postMessage({status:"ack",eventId:$,eventType:pe});const Pt=Array.from(ft).map(function(){var ni=(0,s.Z)(function*(ia){return ia(N.origin,Ze)});return function(ia){return ni.apply(this,arguments)}}()),nn=yield function(w){return Promise.all(w.map(function(){var _=(0,s.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return _.apply(this,arguments)}}()))}(Pt);N.ports[0].postMessage({status:"done",eventId:$,eventType:pe,response:nn})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function rs(w="",_=10){let v="";for(let D=0;D<_;D++)v+=Math.floor(10*Math.random());return w+v}class Eh{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,D=50){var N=this;return(0,s.Z)(function*(){const $="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let pe,Ze;return new Promise((ft,Pt)=>{const nn=rs("",20);$.port1.start();const ni=setTimeout(()=>{Pt(new Error("unsupported_event"))},D);Ze={messageChannel:$,onMessage(ia){const uo=ia;if(uo.data.eventId===nn)switch(uo.data.status){case"ack":clearTimeout(ni),pe=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),ft(uo.data.response);break;default:clearTimeout(ni),clearTimeout(pe),Pt(new Error("invalid_response"))}}},N.handlers.add(Ze),$.port1.addEventListener("message",Ze.onMessage),N.target.postMessage({eventType:_,eventId:nn,data:v},[$.port2])}).finally(()=>{Ze&&N.removeMessageHandler(Ze)})})()}}function Hi(){return window}function Yo(){return void 0!==Hi().WorkerGlobalScope&&"function"==typeof Hi().importScripts}function vl(){return(vl=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const eD="firebaseLocalStorageDb",Sh="firebaseLocalStorage",r0="fbase_key";class Ih{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ra(w,_){return w.transaction([Sh],_?"readwrite":"readonly").objectStore(Sh)}function dn(){const w=indexedDB.open(eD,1);return new Promise((_,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(Sh,{keyPath:r0})}catch(N){v(N)}}),w.addEventListener("success",(0,s.Z)(function*(){const D=w.result;D.objectStoreNames.contains(Sh)?_(D):(D.close(),yield function(){const w=indexedDB.deleteDatabase(eD);return new Ih(w).toPromise()}(),_(yield dn()))}))})}function ct(w,_,v){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(w,_,v){const D=Ra(w,!0).put({[r0]:_,value:v});return new Ih(D).toPromise()})).apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(w,_){const v=Ra(w,!1).get(_),D=yield new Ih(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function dc(w,_){const v=Ra(w,!0).delete(_);return new Ih(v).toPromise()}const z_=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.Z)(function*(){return v.db||(v.db=yield dn()),v.db})()}_withRetries(v){var D=this;return(0,s.Z)(function*(){let N=0;for(;;)try{const $=yield D._openDb();return yield v($)}catch($){if(N++>3)throw $;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.Z)(function*(){return Yo()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.Z)(function*(){v.receiver=Gp._getInstance(Yo()?self:null),v.receiver._subscribe("keyChanged",function(){var D=(0,s.Z)(function*(N,$){return{keyProcessed:(yield v._poll()).includes($.key)}});return function(N,$){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,s.Z)(function*(N,$){return["keyChanged"]});return function(N,$){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.Z)(function*(){var D,N;if(v.activeServiceWorker=yield function(){return vl.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Eh(v.activeServiceWorker);const $=yield v.sender._send("ping",{},800);!$||(null===(D=$[0])||void 0===D?void 0:D.fulfilled)&&(null===(N=$[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,s.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const v=yield dn();return yield ct(v,yl,"1"),yield dc(v,yl),!0}catch(v){}return!1})()}_withPendingWrite(v){var D=this;return(0,s.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var N=this;return(0,s.Z)(function*(){return N._withPendingWrite((0,s.Z)(function*(){return yield N._withRetries($=>ct($,v,D)),N.localCache[v]=D,N.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,s.Z)(function*(){const N=yield D._withRetries($=>function(w,_){return ri.apply(this,arguments)}($,v));return D.localCache[v]=N,N})()}_remove(v){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(N=>dc(N,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.Z)(function*(){const D=yield v._withRetries(pe=>{const Ze=Ra(pe,!1).getAll();return new Ih(Ze).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const N=[],$=new Set;for(const{fbase_key:pe,value:Ze}of D)$.add(pe),JSON.stringify(v.localCache[pe])!==JSON.stringify(Ze)&&(v.notifyListeners(pe,Ze),N.push(pe));for(const pe of Object.keys(v.localCache))v.localCache[pe]&&!$.has(pe)&&(v.notifyListeners(pe,null),N.push(pe));return N})()}notifyListeners(v,D){this.localCache[v]=D;const N=this.listeners[v];if(N)for(const $ of Array.from(N))$(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ah(w,_){return en(w,"POST","/v2/accounts/mfaSignIn:start",Nt(w,_))}function hc(){return(hc=(0,s.Z)(function*(w){return(yield en(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ko(w){return new Promise((_,v)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=_,D.onerror=N=>{const $=Ke("internal-error");$.customData=N,v($)},D.type="text/javascript",D.charset="UTF-8",function(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(D)})}function Wp(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Vs=1e12;class Qo{constructor(_){this.auth=_,this.counter=Vs,this._widgets=new Map}render(_,v){const D=this.counter;return this._widgets.set(D,new fc(_,this.auth.name,v||{})),this.counter++,D}reset(_){var v;const D=_||Vs;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(_){var v;return(null===(v=this._widgets.get(_||Vs))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,s.Z)(function*(){var D;return null===(D=v._widgets.get(_||Vs))||void 0===D||D.execute(),""})()}}class fc{constructor(_,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof _?document.getElementById(_):_;ve(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ws=Wp("rcb"),Jo=new _t(3e4,6e4);class wt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Hi().grecaptcha}load(_,v=""){return ve((w=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Hi().grecaptcha):new Promise((D,N)=>{const $=Hi().setTimeout(()=>{N(Ke(_,"network-request-failed"))},Jo.get());Hi()[ws]=()=>{Hi().clearTimeout($),delete Hi()[ws];const Ze=Hi().grecaptcha;if(!Ze)return void N(Ke(_,"internal-error"));const ft=Ze.render;Ze.render=(Pt,nn)=>{const ni=ft(Pt,nn);return this.counter++,ni},this.hostLanguage=v,D(Ze)},Ko(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:ws,render:"explicit",hl:v})}`).catch(()=>{clearTimeout($),N(Ke(_,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Hi().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class si{load(_){return(0,s.Z)(function*(){return new Qo(_)})()}clearedOneInstance(){}}const Y_="recaptcha",vi={theme:"light",type:"image"};class nD{constructor(_,v=Object.assign({},vi),D){this.parameters=v,this.type=Y_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(D),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof _?document.getElementById(_):_;ve(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new si:new wt,this.validateStartingState()}verify(){var _=this;return(0,s.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),D=_.getAssertedRecaptcha();return D.getResponse(v)||new Promise($=>{const pe=Ze=>{!Ze||(_.tokenChangeListeners.delete(pe),$(Ze))};_.tokenChangeListeners.add(pe),_.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof _)_(v);else if("string"==typeof _){const D=Hi()[_];"function"==typeof D&&D(v)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.Z)(function*(){ve(Mt()&&!Yo(),_.auth,"internal-error"),yield function(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(w){return hc.apply(this,arguments)}(_.auth);ve(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bi{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=ul._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function iD(w,_,v){return K_.apply(this,arguments)}function K_(){return(K_=(0,s.Z)(function*(w,_,v){const D=In(w),N=yield Nn(D,_,(0,H.m9)(v));return new bi(N,$=>B(D,$))})).apply(this,arguments)}function No(w,_,v){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w);yield ic(!1,D,"phone");const N=yield Nn(D.auth,_,(0,H.m9)(v));return new bi(N,$=>Te(D,$))})).apply(this,arguments)}function rD(w,_,v){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w),N=yield Nn(D.auth,_,(0,H.m9)(v));return new bi(N,$=>ot(D,$))})).apply(this,arguments)}function Nn(w,_,v){return J_.apply(this,arguments)}function J_(){return(J_=(0,s.Z)(function*(w,_,v){var D;const N=yield v.verify();try{let $;if(ve("string"==typeof N,w,"argument-error"),ve(v.type===Y_,w,"argument-error"),$="string"==typeof _?{phoneNumber:_}:_,"session"in $){const pe=$.session;if("phoneNumber"in $)return ve("enroll"===pe.type,w,"internal-error"),(yield uc(w,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ve("signin"===pe.type,w,"internal-error");const Ze=(null===(D=$.multiFactorHint)||void 0===D?void 0:D.uid)||$.multiFactorUid;return ve(Ze,w,"missing-multi-factor-info"),(yield Ah(w,{mfaPendingCredential:pe.credential,mfaEnrollmentId:Ze,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield Lp(w,{phoneNumber:$.phoneNumber,recaptchaToken:N});return pe}}finally{v._reset()}})).apply(this,arguments)}function Ou(w,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,s.Z)(function*(w,_){yield Mo((0,H.m9)(w),_)})).apply(this,arguments)}let er=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=In(v)}verifyPhoneNumber(v,D){return Nn(this.auth,v,(0,H.m9)(D))}static credential(v,D){return ul._fromVerification(v,D)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:N}=v;return D&&N?ul._fromTokenResponse(D,N):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ro(w,_){return _?_e(_):(ve(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class wi extends rt{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ri(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Ri(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Ri(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Mh(w){return ph(w.auth,new wi(w),w.bypassAuthState)}function Qp(w){const{auth:_,user:v}=w;return ve(v,_,"internal-error"),fh(v,new wi(w),w.bypassAuthState)}function Us(w){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(w){const{auth:_,user:v}=w;return ve(v,_,"internal-error"),Mo(v,new wi(w),w.bypassAuthState)})).apply(this,arguments)}class pc{constructor(_,v,D,N,$=!1){this.auth=_,this.resolver=D,this.user=N,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,s.Z)(function*(D,N){_.pendingPromise={resolve:D,reject:N};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch($){_.reject($)}});return function(D,N){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,s.Z)(function*(){const{urlResponse:D,sessionId:N,postBody:$,tenantId:pe,error:Ze,type:ft}=_;if(Ze)return void v.reject(Ze);const Pt={auth:v.auth,requestUri:D,sessionId:N,tenantId:pe||void 0,postBody:$||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ft)(Pt))}catch(nn){v.reject(nn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Mh;case"linkViaPopup":case"linkViaRedirect":return Us;case"reauthViaPopup":case"reauthViaRedirect":return Qp;default:$e(this.auth,"internal-error")}}resolve(_){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wl=new _t(2e3,1e4);function Pa(w,_,v){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,s.Z)(function*(w,_,v){const D=In(w);xt(w,_,Fs);const N=Ro(D,v);return new Rh(D,"signInViaPopup",_,N).executeNotNull()})).apply(this,arguments)}function X_(w,_,v){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w);xt(D.auth,_,Fs);const N=Ro(D.auth,v);return new Rh(D.auth,"reauthViaPopup",_,N,D).executeNotNull()})).apply(this,arguments)}function sD(w,_,v){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w);xt(D.auth,_,Fs);const N=Ro(D.auth,v);return new Rh(D.auth,"linkViaPopup",_,N,D).executeNotNull()})).apply(this,arguments)}let Rh=(()=>{class w extends pc{constructor(v,D,N,$,pe){super(v,D,$,pe),this.provider=N,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.Z)(function*(){const D=yield v.execute();return ve(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,s.Z)(function*(){ge(1===v.filter.length,"Popup operations only handle one event");const D=rs();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(Ke(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,N;this.pollId=(null===(N=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,wl.get())};v()}}return w.currentPopupAction=null,w})();const Ci=new Map;class gc extends pc{constructor(_,v,D=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,s.Z)(function*(){let D=Ci.get(v.auth._key());if(!D){try{const $=(yield function(w,_){return mc.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;D=()=>Promise.resolve($)}catch(N){D=()=>Promise.reject(N)}Ci.set(v.auth._key(),D)}return v.bypassAuthState||Ci.set(v.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,D=this;return(0,s.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(D,_);if("unknown"!==_.type){if(_.eventId){const N=yield D.auth._redirectUserForId(_.eventId);if(N)return D.user=N,v().call(D,_);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function mc(){return(mc=(0,s.Z)(function*(w,_){const v=_c(_),D=kh(w);if(!(yield D._isAvailable()))return!1;const N="true"===(yield D._get(v));return yield D._remove(v),N})).apply(this,arguments)}function eg(w,_){return tg.apply(this,arguments)}function tg(){return(tg=(0,s.Z)(function*(w,_){return kh(w)._set(_c(_),"true")})).apply(this,arguments)}function Xo(){Ci.clear()}function kh(w){return _e(w._redirectPersistence)}function _c(w){return J("pendingRedirect",w.config.apiKey,w.name)}function yc(w,_,v){return function(w,_,v){return vc.apply(this,arguments)}(w,_,v)}function vc(){return(vc=(0,s.Z)(function*(w,_,v){const D=In(w);xt(w,_,Fs);const N=Ro(D,v);return yield eg(N,D),N._openRedirect(D,_,"signInViaRedirect")})).apply(this,arguments)}function oD(w,_,v){return function(w,_,v){return Fu.apply(this,arguments)}(w,_,v)}function Fu(){return(Fu=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w);xt(D.auth,_,Fs);const N=Ro(D.auth,v);yield eg(N,D.auth);const $=yield Cl(D);return N._openRedirect(D.auth,_,"reauthViaRedirect",$)})).apply(this,arguments)}function bc(w,_,v){return function(w,_,v){return xh.apply(this,arguments)}(w,_,v)}function xh(){return(xh=(0,s.Z)(function*(w,_,v){const D=(0,H.m9)(w);xt(D.auth,_,Fs);const N=Ro(D.auth,v);yield ic(!1,D,_.providerId),yield eg(N,D.auth);const $=yield Cl(D);return N._openRedirect(D.auth,_,"linkViaRedirect",$)})).apply(this,arguments)}function s0(w,_){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(w,_){return yield In(w)._initializationPromise,ty(w,_,!1)})).apply(this,arguments)}function ty(w,_){return wc.apply(this,arguments)}function wc(){return(wc=(0,s.Z)(function*(w,_,v=!1){const D=In(w),N=Ro(D,_),pe=yield new gc(D,N,v).execute();return pe&&!v&&(delete pe.user._redirectEventId,yield D._persistUserIfCurrent(pe.user),yield D._setRedirectUser(null,_)),pe})).apply(this,arguments)}function Cl(w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(w){const _=rs(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Yn{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(_,D)&&(v=!0,this.sendToConsumer(_,D),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ph(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var D;if(_.error&&!Ph(_)){const N=(null===(D=_.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(Ke(this.auth,N))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const D=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&D}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oh(_))}saveEventToCache(_){this.cachedEventUids.add(Oh(_)),this.lastProcessedEventTime=Date.now()}}function Oh(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function Ph({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Cc(w){return ig.apply(this,arguments)}function ig(){return(ig=(0,s.Z)(function*(w,_={}){return en(w,"GET","/v1/projects",_)})).apply(this,arguments)}const co=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rg=/^https?/;function ea(){return(ea=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield Cc(w);for(const v of _)try{if(Fa(v))return}catch(D){}$e(w,"unauthorized-domain")})).apply(this,arguments)}function Fa(w){const _=we(),{protocol:v,hostname:D}=new URL(_);if(w.startsWith("chrome-extension://")){const pe=new URL(w);return""===pe.hostname&&""===D?"chrome-extension:"===v&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&pe.hostname===D}if(!rg.test(v))return!1;if(co.test(w))return D===w;const N=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(D)}const Zi=new _t(3e4,6e4);function ur(){const w=Hi().___jsl;if(null==w?void 0:w.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Vu=null;function Fh(w){return Vu=Vu||function(w){return new Promise((_,v)=>{var D,N,$;function pe(){ur(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{ur(),v(Ke(w,"network-request-failed"))},timeout:Zi.get()})}if(null===(N=null===(D=Hi().gapi)||void 0===D?void 0:D.iframes)||void 0===N?void 0:N.Iframe)_(gapi.iframes.getContext());else{if(!(null===($=Hi().gapi)||void 0===$?void 0:$.load)){const Ze=Wp("iframefcb");return Hi()[Ze]=()=>{gapi.load?pe():v(Ke(w,"network-request-failed"))},Ko(`https://apis.google.com/js/api.js?onload=${Ze}`)}pe()}}).catch(_=>{throw Vu=null,_})}(w),Vu}const Uu=new _t(5e3,15e3),c0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ec(w){const _=w.config;ve(_.authDomain,w,"auth-domain-config-required");const v=_.emulator?Ot(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:_.apiKey,appName:w.name,v:O.SDK_VERSION},N=Dl.get(w.config.apiHost);N&&(D.eid=N);const $=w._getFrameworks();return $.length&&(D.fw=$.join(",")),`${v}?${(0,H.xO)(D).slice(1)}`}function La(){return(La=(0,s.Z)(function*(w){const _=yield Fh(w),v=Hi().gapi;return ve(v,w,"internal-error"),_.open({where:document.body,url:Ec(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c0,dontclear:!0},D=>new Promise(function(){var N=(0,s.Z)(function*($,pe){yield D.restyle({setHideOnLeave:!1});const Ze=Ke(w,"network-request-failed"),ft=Hi().setTimeout(()=>{pe(Ze)},Uu.get());function Pt(){Hi().clearTimeout(ft),$(D)}D.ping(Pt).then(Pt,()=>{pe(Ze)})});return function($,pe){return N.apply(this,arguments)}}()))})).apply(this,arguments)}const pn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vh{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Uh(w,_,v,D,N,$){ve(w.config.authDomain,w,"auth-domain-config-required"),ve(w.config.apiKey,w,"invalid-api-key");const pe={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:D,v:O.SDK_VERSION,eventId:N};if(_ instanceof Fs){_.setDefaultLanguage(w.languageCode),pe.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(pe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[ft,Pt]of Object.entries($||{}))pe[ft]=Pt}if(_ instanceof ys){const ft=_.getScopes().filter(Pt=>""!==Pt);ft.length>0&&(pe.scopes=ft.join(","))}w.tenantId&&(pe.tid=w.tenantId);const Ze=pe;for(const ft of Object.keys(Ze))void 0===Ze[ft]&&delete Ze[ft];return`${function({config:w}){return w.emulator?Ot(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,H.xO)(Ze).slice(1)}`}const Dc="webStorageSupport",Tc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=ty}_openPopup(_,v,D,N){var $=this;return(0,s.Z)(function*(){var pe;ge(null===(pe=$.eventManagers[_._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const Ze=Uh(_,v,D,we(),N);return function(w,_,v,D=500,N=600){const $=Math.max((window.screen.availHeight-N)/2,0).toString(),pe=Math.max((window.screen.availWidth-D)/2,0).toString();let Ze="";const ft=Object.assign(Object.assign({},pn),{width:D.toString(),height:N.toString(),top:$,left:pe}),Pt=(0,H.z$)().toLowerCase();v&&(Ze=bt(Pt)?"_blank":v),Ie(Pt)&&(_=_||"http://localhost",ft.scrollbars="yes");const nn=Object.entries(ft).reduce((ia,[uo,ra])=>`${ia}${uo}=${ra},`,"");if(function(w=(0,H.z$)()){var _;return En(w)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(Pt)&&"_self"!==Ze)return function(w,_){const v=document.createElement("a");v.href=w,v.target=_;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(_||"",Ze),new Vh(null);const ni=window.open(_||"",Ze,nn);ve(ni,w,"popup-blocked");try{ni.focus()}catch(ia){}return new Vh(ni)}(_,Ze,rs())})()}_openRedirect(_,v,D,N){var $=this;return(0,s.Z)(function*(){return yield $._originValidation(_),w=Uh(_,v,D,we(),N),Hi().location.href=w,new Promise(()=>{});var w})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:N,promise:$}=this.eventManagers[v];return N?Promise.resolve(N):(ge($,"If manager is not set, promise should be"),$)}const D=this.initAndGetManager(_);return this.eventManagers[v]={promise:D},D}initAndGetManager(_){var v=this;return(0,s.Z)(function*(){const D=yield function(w){return La.apply(this,arguments)}(_),N=new Yn(_);return D.register("authEvent",$=>(ve(null==$?void 0:$.authEvent,_,"invalid-auth-event"),{status:N.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:N},v.iframes[_._key()]=D,N})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Dc,{type:Dc},N=>{var $;const pe=null===($=null==N?void 0:N[0])||void 0===$?void 0:$[Dc];void 0!==pe&&v(!!pe),$e(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(w){return ea.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return _i()||Ue()||En()}};class Zu extends class{constructor(_){this.factorId=_}_process(_,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,D);case"signin":return this._finalizeSignIn(_,v.credential);default:return Xt("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Zu(_)}_finalizeEnroll(_,v,D){return function(w,_){return en(w,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(w,_))}(_,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(w,_){return en(w,"POST","/v2/accounts/mfaSignIn:finalize",Nt(w,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class w{constructor(){}static assertion(v){return Zu._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var w,ry="@firebase/auth";class Bh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,s.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(D=>{var N;_((null===(N=D)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function na(w=(0,O.getApp)()){const _=(0,O._getProvider)(w,"auth");return _.isInitialized()?_.getImmediate():function(w,_){const v=(0,O._getProvider)(w,"auth");if(v.isInitialized()){const N=v.getImmediate(),$=v.getOptions();if((0,H.vZ)($,null!=_?_:{}))return N;$e(N,"already-initialized")}return v.initialize({options:_})}(w,{popupRedirectResolver:Tc,persistence:[z_,t0,n0]})}w="Browser",(0,O._registerComponent)(new oe.wA("auth",(_,{options:v})=>{const D=_.getProvider("app").getImmediate(),{apiKey:N,authDomain:$}=D.options;return(pe=>{ve(N&&!N.includes(":"),"invalid-api-key",{appName:pe.name}),ve(!(null==$?void 0:$.includes(":")),"argument-error",{appName:pe.name});const Ze={apiKey:N,authDomain:$,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tn(w)},ft=new An(pe,Ze);return function(w,_){const v=(null==_?void 0:_.persistence)||[],D=(Array.isArray(v)?v:[v]).map(_e);(null==_?void 0:_.errorMap)&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(D,null==_?void 0:_.popupRedirectResolver)}(ft,v),ft})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,D)=>{_.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new oe.wA("auth-internal",_=>{const v=In(_.getProvider("auth").getImmediate());return new Bh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(ry,"0.19.2",void 0),(0,O.registerVersion)(ry,"0.19.2","esm2017")},3854:(dt,xe,x)=>{"use strict";x.d(xe,{BH:()=>ce,LL:()=>we,ZR:()=>He,gQ:()=>Zn,zI:()=>Ee,hu:()=>H,g5:()=>O,US:()=>oe,tV:()=>K,h$:()=>ie,$s:()=>Vi,r3:()=>Nt,Sg:()=>Se,ne:()=>Ni,p$:()=>P,vZ:()=>Ai,ZB:()=>j,gK:()=>yt,pd:()=>Mi,m9:()=>Sr,z$:()=>Le,GJ:()=>ii,jU:()=>ae,ru:()=>ke,d:()=>Ke,xb:()=>un,w1:()=>Lt,hl:()=>Xt,uI:()=>Ae,UG:()=>ye,Yr:()=>Jt,b$:()=>$e,G6:()=>ve,Mn:()=>xt,w9:()=>or,cI:()=>kn,UI:()=>Tn,xO:()=>oi,zd:()=>Ji,DV:()=>en,ug:()=>sn,dS:()=>qn,Pz:()=>St,Dv:()=>Gn,Wj:()=>Yt,lb:()=>Bt,eu:()=>ge});const H=function(Q,W){if(!Q)throw O(W)},O=function(Q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Q)},ue=function(Q){const W=[];let ee=0;for(let Oe=0;Oe<Q.length;Oe++){let de=Q.charCodeAt(Oe);de<128?W[ee++]=de:de<2048?(W[ee++]=de>>6|192,W[ee++]=63&de|128):55296==(64512&de)&&Oe+1<Q.length&&56320==(64512&Q.charCodeAt(Oe+1))?(de=65536+((1023&de)<<10)+(1023&Q.charCodeAt(++Oe)),W[ee++]=de>>18|240,W[ee++]=de>>12&63|128,W[ee++]=de>>6&63|128,W[ee++]=63&de|128):(W[ee++]=de>>12|224,W[ee++]=de>>6&63|128,W[ee++]=63&de|128)}return W},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,W){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let de=0;de<Q.length;de+=3){const it=Q[de],le=de+1<Q.length,De=le?Q[de+1]:0,Ve=de+2<Q.length,Xe=Ve?Q[de+2]:0;let G=(15&De)<<2|Xe>>6,z=63&Xe;Ve||(z=64,le||(G=64)),Oe.push(ee[it>>2],ee[(3&it)<<4|De>>4],ee[G],ee[z])}return Oe.join("")},encodeString(Q,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(Q):this.encodeByteArray(ue(Q),W)},decodeString(Q,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(Q):function(Q){const W=[];let ee=0,Oe=0;for(;ee<Q.length;){const de=Q[ee++];if(de<128)W[Oe++]=String.fromCharCode(de);else if(de>191&&de<224){const it=Q[ee++];W[Oe++]=String.fromCharCode((31&de)<<6|63&it)}else if(de>239&&de<365){const Ve=((7&de)<<18|(63&Q[ee++])<<12|(63&Q[ee++])<<6|63&Q[ee++])-65536;W[Oe++]=String.fromCharCode(55296+(Ve>>10)),W[Oe++]=String.fromCharCode(56320+(1023&Ve))}else{const it=Q[ee++],le=Q[ee++];W[Oe++]=String.fromCharCode((15&de)<<12|(63&it)<<6|63&le)}}return W.join("")}(this.decodeStringToByteArray(Q,W))},decodeStringToByteArray(Q,W){this.init_();const ee=W?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let de=0;de<Q.length;){const it=ee[Q.charAt(de++)],De=de<Q.length?ee[Q.charAt(de)]:0;++de;const Xe=de<Q.length?ee[Q.charAt(de)]:64;++de;const J=de<Q.length?ee[Q.charAt(de)]:64;if(++de,null==it||null==De||null==Xe||null==J)throw Error();Oe.push(it<<2|De>>4),64!==Xe&&(Oe.push(De<<4&240|Xe>>2),64!==J&&Oe.push(Xe<<6&192|J))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},ie=function(Q){const W=ue(Q);return oe.encodeByteArray(W,!0)},X=function(Q){return ie(Q).replace(/\./g,"")},K=function(Q){try{return oe.decodeString(Q,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function P(Q){return j(void 0,Q)}function j(Q,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return W}for(const ee in W)!W.hasOwnProperty(ee)||!q(ee)||(Q[ee]=j(Q[ee],W[ee]));return Q}function q(Q){return"__proto__"!==Q}class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,ee)=>{this.resolve=W,this.reject=ee})}wrapCallback(W){return(ee,Oe)=>{ee?this.reject(ee):this.resolve(Oe),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(ee):W(ee,Oe))}}}function Se(Q,W){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=W||"demo-project",de=Q.iat||0,it=Q.sub||Q.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const le=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:de,exp:de+3600,auth_time:de,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(le)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function ae(){return"object"==typeof self&&self.self===self}function ke(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){return Le().indexOf("Electron/")>=0}function Lt(){const Q=Le();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function xt(){return Le().indexOf("MSAppHost/")>=0}function Jt(){return!1}function ve(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xt(){return"object"==typeof indexedDB}function ge(){return new Promise((Q,W)=>{try{let ee=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Oe);de.onsuccess=()=>{de.result.close(),ee||self.indexedDB.deleteDatabase(Oe),Q(!0)},de.onupgradeneeded=()=>{ee=!1},de.onerror=()=>{var it;W((null===(it=de.error)||void 0===it?void 0:it.message)||"")}}catch(ee){W(ee)}})}function Ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class He extends Error{constructor(W,ee,Oe){super(ee),this.code=W,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(W,ee,Oe){this.service=W,this.serviceName=ee,this.errors=Oe}create(W,...ee){const Oe=ee[0]||{},de=`${this.service}/${W}`,it=this.errors[W],le=it?function(Q,W){return Q.replace(cn,(ee,Oe)=>{const de=W[Oe];return null!=de?String(de):`<${Oe}?>`})}(it,Oe):"Error";return new He(de,`${this.serviceName}: ${le} (${de}).`,Oe)}}const cn=/\{\$([^}]+)}/g;function kn(Q){return JSON.parse(Q)}function St(Q){return JSON.stringify(Q)}const _t=function(Q){let W={},ee={},Oe={},de="";try{const it=Q.split(".");W=kn(K(it[0])||""),ee=kn(K(it[1])||""),de=it[2],Oe=ee.d||{},delete ee.d}catch(it){}return{header:W,claims:ee,data:Oe,signature:de}},or=function(Q){const ee=_t(Q).claims;return!!ee&&"object"==typeof ee&&ee.hasOwnProperty("iat")},ii=function(Q){const W=_t(Q).claims;return"object"==typeof W&&!0===W.admin};function Nt(Q,W){return Object.prototype.hasOwnProperty.call(Q,W)}function en(Q,W){if(Object.prototype.hasOwnProperty.call(Q,W))return Q[W]}function un(Q){for(const W in Q)if(Object.prototype.hasOwnProperty.call(Q,W))return!1;return!0}function Tn(Q,W,ee){const Oe={};for(const de in Q)Object.prototype.hasOwnProperty.call(Q,de)&&(Oe[de]=W.call(ee,Q[de],de,Q));return Oe}function Ai(Q,W){if(Q===W)return!0;const ee=Object.keys(Q),Oe=Object.keys(W);for(const de of ee){if(!Oe.includes(de))return!1;const it=Q[de],le=W[de];if(gi(it)&&gi(le)){if(!Ai(it,le))return!1}else if(it!==le)return!1}for(const de of Oe)if(!ee.includes(de))return!1;return!0}function gi(Q){return null!==Q&&"object"==typeof Q}function oi(Q){const W=[];for(const[ee,Oe]of Object.entries(Q))Array.isArray(Oe)?Oe.forEach(de=>{W.push(encodeURIComponent(ee)+"="+encodeURIComponent(de))}):W.push(encodeURIComponent(ee)+"="+encodeURIComponent(Oe));return W.length?"&"+W.join("&"):""}function Ji(Q){const W={};return Q.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[de,it]=Oe.split("=");W[decodeURIComponent(de)]=decodeURIComponent(it)}}),W}function Mi(Q){const W=Q.indexOf("?");if(!W)return"";const ee=Q.indexOf("#",W);return Q.substring(W,ee>0?ee:void 0)}class Zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,ee){ee||(ee=0);const Oe=this.W_;if("string"==typeof W)for(let J=0;J<16;J++)Oe[J]=W.charCodeAt(ee)<<24|W.charCodeAt(ee+1)<<16|W.charCodeAt(ee+2)<<8|W.charCodeAt(ee+3),ee+=4;else for(let J=0;J<16;J++)Oe[J]=W[ee]<<24|W[ee+1]<<16|W[ee+2]<<8|W[ee+3],ee+=4;for(let J=16;J<80;J++){const G=Oe[J-3]^Oe[J-8]^Oe[J-14]^Oe[J-16];Oe[J]=4294967295&(G<<1|G>>>31)}let Xe,Qe,de=this.chain_[0],it=this.chain_[1],le=this.chain_[2],De=this.chain_[3],Ve=this.chain_[4];for(let J=0;J<80;J++){J<40?J<20?(Xe=De^it&(le^De),Qe=1518500249):(Xe=it^le^De,Qe=1859775393):J<60?(Xe=it&le|De&(it|le),Qe=2400959708):(Xe=it^le^De,Qe=3395469782);const G=(de<<5|de>>>27)+Xe+Ve+Qe+Oe[J]&4294967295;Ve=De,De=le,le=4294967295&(it<<30|it>>>2),it=de,de=G}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+it&4294967295,this.chain_[2]=this.chain_[2]+le&4294967295,this.chain_[3]=this.chain_[3]+De&4294967295,this.chain_[4]=this.chain_[4]+Ve&4294967295}update(W,ee){if(null==W)return;void 0===ee&&(ee=W.length);const Oe=ee-this.blockSize;let de=0;const it=this.buf_;let le=this.inbuf_;for(;de<ee;){if(0===le)for(;de<=Oe;)this.compress_(W,de),de+=this.blockSize;if("string"==typeof W){for(;de<ee;)if(it[le]=W.charCodeAt(de),++le,++de,le===this.blockSize){this.compress_(it),le=0;break}}else for(;de<ee;)if(it[le]=W[de],++le,++de,le===this.blockSize){this.compress_(it),le=0;break}}this.inbuf_=le,this.total_+=ee}digest(){const W=[];let ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ee,ee/=256;this.compress_(this.buf_);let Oe=0;for(let de=0;de<5;de++)for(let it=24;it>=0;it-=8)W[Oe]=this.chain_[de]>>it&255,++Oe;return W}}function Ni(Q,W){const ee=new ar(Q,W);return ee.subscribe.bind(ee)}class ar{constructor(W,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{W(this)}).catch(Oe=>{this.error(Oe)})}next(W){this.forEachObserver(ee=>{ee.next(W)})}error(W){this.forEachObserver(ee=>{ee.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,ee,Oe){let de;if(void 0===W&&void 0===ee&&void 0===Oe)throw new Error("Missing Observer.");de=function(Q,W){if("object"!=typeof Q||null===Q)return!1;for(const ee of["next","error","complete"])if(ee in Q&&"function"==typeof Q[ee])return!0;return!1}(W)?W:{next:W,error:ee,complete:Oe},void 0===de.next&&(de.next=ai),void 0===de.error&&(de.error=ai),void 0===de.complete&&(de.complete=ai);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch(le){}}),this.observers.push(de),it}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,W)}sendOne(W,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{ee(this.observers[W])}catch(Oe){"undefined"!=typeof console&&console.error&&console.error(Oe)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ai(){}const Gn=function(Q,W,ee,Oe){let de;if(Oe<W?de="at least "+W:Oe>ee&&(de=0===ee?"none":"no more than "+ee),de)throw new Error(Q+" failed: Was called with "+Oe+(1===Oe?" argument.":" arguments.")+" Expects "+de+".")};function yt(Q,W){return`${Q} failed: ${W} argument `}function Yt(Q,W,ee,Oe){if((!Oe||ee)&&"function"!=typeof ee)throw new Error(yt(Q,W)+"must be a valid function.")}function Bt(Q,W,ee,Oe){if((!Oe||ee)&&("object"!=typeof ee||null===ee))throw new Error(yt(Q,W)+"must be a valid context object.")}const qn=function(Q){const W=[];let ee=0;for(let Oe=0;Oe<Q.length;Oe++){let de=Q.charCodeAt(Oe);if(de>=55296&&de<=56319){const it=de-55296;Oe++,H(Oe<Q.length,"Surrogate pair missing trail surrogate."),de=65536+(it<<10)+(Q.charCodeAt(Oe)-56320)}de<128?W[ee++]=de:de<2048?(W[ee++]=de>>6|192,W[ee++]=63&de|128):de<65536?(W[ee++]=de>>12|224,W[ee++]=de>>6&63|128,W[ee++]=63&de|128):(W[ee++]=de>>18|240,W[ee++]=de>>12&63|128,W[ee++]=de>>6&63|128,W[ee++]=63&de|128)}return W},sn=function(Q){let W=0;for(let ee=0;ee<Q.length;ee++){const Oe=Q.charCodeAt(ee);Oe<128?W++:Oe<2048?W+=2:Oe>=55296&&Oe<=56319?(W+=4,ee++):W+=3}return W};function Vi(Q,W=1e3,ee=2){const Oe=W*Math.pow(ee,Q),de=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+de)}function Sr(Q){return Q&&Q._delegate?Q._delegate:Q}},6279:(dt,xe,x)=>{"use strict";x.d(xe,{Gb:()=>Vi,Kz:()=>ee,Iv:()=>Sr});var s=x(8239),H=x(8026),O=x(5422),ue=x(3854),me=x(3910);x(3328);const ie="analytics",X="firebase_id",K="origin",j="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",q="https://www.googletagmanager.com/gtag/js",ce=new O.Yd("@firebase/analytics");function Se(le){return Promise.all(le.map(De=>De.catch(Ve=>Ve)))}function Le(le,De){const Ve=document.createElement("script");Ve.src=`${q}?l=${le}&id=${De}`,Ve.async=!0,document.head.appendChild(Ve)}function ye(le,De,Ve,Xe,Qe,J){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(function*(le,De,Ve,Xe,Qe,J){const G=Xe[Qe];try{if(G)yield De[G];else{const Ie=(yield Se(Ve)).find(Ue=>Ue.measurementId===Qe);Ie&&(yield De[Ie.appId])}}catch(z){ce.error(z)}le("config",Qe,J)})).apply(this,arguments)}function ke(le,De,Ve,Xe,Qe){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(le,De,Ve,Xe,Qe){try{let J=[];if(Qe&&Qe.send_to){let G=Qe.send_to;Array.isArray(G)||(G=[G]);const z=yield Se(Ve);for(const Ie of G){const Ue=z.find($t=>$t.measurementId===Ie),bt=Ue&&De[Ue.appId];if(!bt){J=[];break}J.push(bt)}}0===J.length&&(J=Object.values(De)),yield Promise.all(J),le("event",Xe,Qe||{})}catch(J){ce.error(J)}})).apply(this,arguments)}function xt(){const le=window.document.getElementsByTagName("script");for(const De of Object.values(le))if(De.src&&De.src.includes(q))return De;return null}const ve=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_e=new class{constructor(De={},Ve=1e3){this.throttleMetadata=De,this.intervalMillis=Ve}getThrottleMetadata(De){return this.throttleMetadata[De]}setThrottleMetadata(De,Ve){this.throttleMetadata[De]=Ve}deleteThrottleMetadata(De){delete this.throttleMetadata[De]}};function be(le){return new Headers({Accept:"application/json","x-goog-api-key":le})}function He(le){return we.apply(this,arguments)}function we(){return(we=(0,s.Z)(function*(le){var De;const{appId:Ve,apiKey:Xe}=le,Qe={method:"GET",headers:be(Xe)},J=j.replace("{app-id}",Ve),G=yield fetch(J,Qe);if(200!==G.status&&304!==G.status){let z="";try{const Ie=yield G.json();(null===(De=Ie.error)||void 0===De?void 0:De.message)&&(z=Ie.error.message)}catch(Ie){}throw ve.create("config-fetch-failed",{httpStatus:G.status,responseMessage:z})}return G.json()})).apply(this,arguments)}function Mt(le){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)(function*(le,De=_e,Ve){const{appId:Xe,apiKey:Qe,measurementId:J}=le.options;if(!Xe)throw ve.create("no-app-id");if(!Qe){if(J)return{measurementId:J,appId:Xe};throw ve.create("no-api-key")}const G=De.getThrottleMetadata(Xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},z=new xn;return setTimeout((0,s.Z)(function*(){z.abort()}),void 0!==Ve?Ve:6e4),kn({appId:Xe,apiKey:Qe,measurementId:J},G,z,De)})).apply(this,arguments)}function kn(le,De,Ve){return St.apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(le,{throttleEndTimeMillis:De,backoffCount:Ve},Xe,Qe=_e){const{appId:J,measurementId:G}=le;try{yield _t(Xe,De)}catch(z){if(G)return ce.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${G} provided in the "measurementId" field in the local Firebase config. [${z.message}]`),{appId:J,measurementId:G};throw z}try{const z=yield He(le);return Qe.deleteThrottleMetadata(J),z}catch(z){if(!Ot(z)){if(Qe.deleteThrottleMetadata(J),G)return ce.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${G} provided in the "measurementId" field in the local Firebase config. [${z.message}]`),{appId:J,measurementId:G};throw z}const Ie=503===Number(z.customData.httpStatus)?(0,ue.$s)(Ve,Qe.intervalMillis,30):(0,ue.$s)(Ve,Qe.intervalMillis),Ue={throttleEndTimeMillis:Date.now()+Ie,backoffCount:Ve+1};return Qe.setThrottleMetadata(J,Ue),ce.debug(`Calling attemptFetch again in ${Ie} millis`),kn(le,Ue,Xe,Qe)}})).apply(this,arguments)}function _t(le,De){return new Promise((Ve,Xe)=>{const Qe=Math.max(De-Date.now(),0),J=setTimeout(Ve,Qe);le.addEventListener(()=>{clearTimeout(J),Xe(ve.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}function Ot(le){if(!(le instanceof ue.ZR&&le.customData))return!1;const De=Number(le.customData.httpStatus);return 429===De||500===De||503===De||504===De}class xn{constructor(){this.listeners=[]}addEventListener(De){this.listeners.push(De)}abort(){this.listeners.forEach(De=>De())}}function or(){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(){if(!(0,ue.hl)())return ce.warn(ve.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(le){return ce.warn(ve.create("indexeddb-unavailable",{errorInfo:le}).message),!1}return!0})).apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(le,De,Ve,Xe,Qe,J,G){var z;const Ie=Mt(le);Ie.then(vn=>{Ve[vn.measurementId]=vn.appId,le.options.measurementId&&vn.measurementId!==le.options.measurementId&&ce.warn(`The measurement ID in the local Firebase config (${le.options.measurementId}) does not match the measurement ID fetched from the server (${vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vn=>ce.error(vn)),De.push(Ie);const Ue=or().then(vn=>{if(vn)return Xe.getId()}),[bt,$t]=yield Promise.all([Ie,Ue]);xt()||Le(J,bt.measurementId),Qe("js",new Date);const Gt=null!==(z=null==G?void 0:G.config)&&void 0!==z?z:{};return Gt[K]="firebase",Gt.update=!0,null!=$t&&(Gt[X]=$t),Qe("config",bt.measurementId,Gt),bt.measurementId})).apply(this,arguments)}class un{constructor(De){this.app=De}_delete(){return delete Tn[this.app.options.appId],Promise.resolve()}}let Tn={},Ai=[];const gi={};let Mi,Zn,oi="dataLayer",Ni=!1;function Vt(le,De,Ve){!function(){const le=[];if((0,ue.ru)()&&le.push("This is a browser extension environment."),(0,ue.zI)()||le.push("Cookies are not available."),le.length>0){const De=le.map((Xe,Qe)=>`(${Qe+1}) ${Xe}`).join(" "),Ve=ve.create("invalid-analytics-context",{errorInfo:De});ce.warn(Ve.message)}}();const Xe=le.options.appId;if(!Xe)throw ve.create("no-app-id");if(!le.options.apiKey){if(!le.options.measurementId)throw ve.create("no-api-key");ce.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${le.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tn[Xe])throw ve.create("already-exists",{id:Xe});if(!Ni){!function(le){let De=[];Array.isArray(window[le])?De=window[le]:window[le]=De}(oi);const{wrappedGtag:J,gtagCore:G}=function(le,De,Ve,Xe,Qe){let J=function(...G){window[Xe].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(J=window[Qe]),window[Qe]=function(le,De,Ve,Xe){function J(){return(J=(0,s.Z)(function*(G,z,Ie){try{"event"===G?yield ke(le,De,Ve,z,Ie):"config"===G?yield ye(le,De,Ve,Xe,z,Ie):le("set",z)}catch(Ue){ce.error(Ue)}})).apply(this,arguments)}return function(G,z,Ie){return J.apply(this,arguments)}}(J,le,De,Ve),{gtagCore:J,wrappedGtag:window[Qe]}}(Tn,Ai,gi,oi,"gtag");Zn=J,Mi=G,Ni=!0}return Tn[Xe]=function(le,De,Ve,Xe,Qe,J,G){return en.apply(this,arguments)}(le,Ai,gi,De,Mi,oi,Ve),new un(le)}function Gn(){return(Gn=(0,s.Z)(function*(le,De,Ve,Xe,Qe){if(Qe&&Qe.global)le("event",Ve,Xe);else{const J=yield De;le("event",Ve,Object.assign(Object.assign({},Xe),{send_to:J}))}})).apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(le,De,Ve,Xe){if(Xe&&Xe.global)return le("set",{user_id:Ve}),Promise.resolve();le("config",yield De,{update:!0,user_id:Ve})})).apply(this,arguments)}function Vi(){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(le){return!1}})).apply(this,arguments)}function Sr(le,De,Ve){le=(0,ue.m9)(le),function(le,De,Ve,Xe){return Bt.apply(this,arguments)}(Zn,Tn[le.app.options.appId],De,Ve).catch(Xe=>ce.error(Xe))}function ee(le,De,Ve,Xe){le=(0,ue.m9)(le),function(le,De,Ve,Xe,Qe){return Gn.apply(this,arguments)}(Zn,Tn[le.app.options.appId],De,Ve,Xe).catch(Qe=>ce.error(Qe))}const Oe="@firebase/analytics";(0,H._registerComponent)(new me.wA(ie,(De,{options:Ve})=>Vt(De.getProvider("app").getImmediate(),De.getProvider("installations-internal").getImmediate(),Ve),"PUBLIC")),(0,H._registerComponent)(new me.wA("analytics-internal",function(De){try{const Ve=De.getProvider(ie).getImmediate();return{logEvent:(Xe,Qe,J)=>ee(Ve,Xe,Qe,J)}}catch(Ve){throw ve.create("interop-component-reg-failed",{reason:Ve})}},"PRIVATE")),(0,H.registerVersion)(Oe,"0.7.4"),(0,H.registerVersion)(Oe,"0.7.4","esm2017")},2329:(dt,xe,x)=>{"use strict";x.d(xe,{Mq:()=>s.getApp,C6:()=>s.getApps,ZF:()=>s.initializeApp,KN:()=>s.registerVersion});var s=x(8026);(0,s.registerVersion)("firebase","9.4.0","app")},7841:(dt,xe,x)=>{"use strict";x.d(xe,{Z:()=>s.Z});var s=x(3394);s.Z.registerVersion("firebase","9.4.0","app-compat")},4828:(dt,xe,x)=>{"use strict";x.r(xe);var s=x(8239),H=x(3394),O=x(7039),ue=x(3854),ie=(x(8026),x(5422),x(3910));function X(){return window}function j(){return(j=(0,s.Z)(function*(J,G,z){var Ie;const{BuildInfo:Ue}=X();(0,O.ap)(G.sessionId,"AuthEvent did not contain a session ID");const bt=yield ae(G.sessionId),$t={};return(0,O.aq)()?$t.ibi=Ue.packageName:(0,O.ar)()?$t.apn=Ue.packageName:(0,O.as)(J,"operation-not-supported-in-this-environment"),Ue.displayName&&($t.appDisplayName=Ue.displayName),$t.sessionId=bt,(0,O.at)(J,z,G.type,void 0,null!==(Ie=G.eventId)&&void 0!==Ie?Ie:void 0,$t)})).apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(J){const{BuildInfo:G}=X(),z={};(0,O.aq)()?z.iosBundleId=G.packageName:(0,O.ar)()?z.androidPackageName=G.packageName:(0,O.as)(J,"operation-not-supported-in-this-environment"),yield(0,O.au)(J,z)})).apply(this,arguments)}function Ae(){return(Ae=(0,s.Z)(function*(J,G,z){const{cordova:Ie}=X();let Ue=()=>{};try{yield new Promise((bt,$t)=>{let Gt=null;function vn(){var Ht;bt();const Qn=null===(Ht=Ie.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Qn&&Qn(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function Sn(){Gt||(Gt=window.setTimeout(()=>{$t((0,O.av)(J,"redirect-cancelled-by-user"))},2e3))}function En(){"visible"===(null==document?void 0:document.visibilityState)&&Sn()}G.addPassiveListener(vn),document.addEventListener("resume",Sn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",En,!1),Ue=()=>{G.removePassiveListener(vn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",En,!1),Gt&&window.clearTimeout(Gt)}})}finally{Ue()}})).apply(this,arguments)}function ae(J){return ke.apply(this,arguments)}function ke(){return(ke=(0,s.Z)(function*(J){const G=$e(J),z=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(z)).map(Ue=>Ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(J){if((0,O.ap)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(J);const G=new ArrayBuffer(J.length),z=new Uint8Array(G);for(let Ie=0;Ie<J.length;Ie++)z[Ie]=J.charCodeAt(Ie);return z}class Lt extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(G)),super.onEvent(G)}initialized(){var G=this;return(0,s.Z)(function*(){yield G.initPromise})()}}function ve(J){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(J){const G=yield _e()._get(be(J));return G&&(yield _e()._remove(be(J))),G})).apply(this,arguments)}function Ee(){const J=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ie=Math.floor(Math.random()*G.length);J.push(G.charAt(Ie))}return J.join("")}function _e(){return(0,O.ax)(O.b)}function be(J){return(0,O.ay)("authEvent",J.config.apiKey,J.name)}function Mt(J){if(!(null==J?void 0:J.includes("?")))return{};const[G,...z]=J.split("?");return(0,ue.zd)(z.join("?"))}function _t(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function Nt(){var J;return(null===(J=null==self?void 0:self.location)||void 0===J?void 0:J.protocol)||null}function un(J=(0,ue.z$)()){return!("file:"!==Nt()&&"ionic:"!==Nt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ji(){try{const J=self.localStorage,G=O.aG();if(J)return J.setItem(G,"1"),J.removeItem(G),!function(J=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(J=(0,ue.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,ue.hl)()}catch(J){return Mi()&&(0,ue.hl)()}return!1}function Mi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return("http:"===Nt()||"https:"===Nt()||(0,ue.ru)()||un())&&!((0,ue.b$)()||(0,ue.UG)())&&Ji()&&!Mi()}function Ni(){return un()&&"undefined"!=typeof document}function ut(){return(ut=(0,s.Z)(function*(){return!!Ni()&&new Promise(J=>{const G=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),J(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},ai=O.aw,Gn="persistence";function Et(J){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(J){yield J._initializationPromise;const G=qn(),z=O.ay(Gn,J.config.apiKey,J.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(z,J._getPersistence())})).apply(this,arguments)}function qn(){return"undefined"!=typeof window?window:null}const sn=O.aw;class Ye{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(G){var z=this;return(0,s.Z)(function*(){const Ie=G._key();let Ue=z.eventManagers.get(Ie);return Ue||(Ue=new Lt(G),z.eventManagers.set(Ie,Ue),z.attachCallbackListeners(G,Ue)),Ue})()}_openPopup(G){(0,O.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,z,Ie,Ue){var bt=this;return(0,s.Z)(function*(){!function(J){var G,z,Ie,Ue,bt,$t,Gt,vn,Sn,En;const Ht=X();(0,O.aw)("function"==typeof(null===(G=null==Ht?void 0:Ht.universalLinks)||void 0===G?void 0:G.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(z=null==Ht?void 0:Ht.BuildInfo)||void 0===z?void 0:z.packageName),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(bt=null===(Ue=null===(Ie=null==Ht?void 0:Ht.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===bt?void 0:bt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(vn=null===(Gt=null===($t=null==Ht?void 0:Ht.cordova)||void 0===$t?void 0:$t.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===vn?void 0:vn.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(En=null===(Sn=null==Ht?void 0:Ht.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===En?void 0:En.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const $t=yield bt._initialize(G);yield $t.initialized(),$t.resetRedirect(),(0,O.aB)(),yield bt._originValidation(G);const Gt=function(J,G,z=null){return{type:G,eventId:z,urlResponse:null,sessionId:Ee(),postBody:null,tenantId:J.tenantId,error:(0,O.av)(J,"no-auth-event")}}(G,Ie,Ue);yield function(J,G){return _e()._set(be(J),G)}(G,Gt);const vn=yield function(J,G,z){return j.apply(this,arguments)}(G,Gt,z),Sn=yield function(J){const{cordova:G}=X();return new Promise(z=>{G.plugins.browsertab.isAvailable(Ie=>{let Ue=null;Ie?G.plugins.browsertab.openUrl(J):Ue=G.InAppBrowser.open(J,(0,O.ao)()?"_blank":"_system","location=yes"),z(Ue)})})}(vn);return function(J,G,z){return Ae.apply(this,arguments)}(G,$t,Sn)})()}_isIframeWebStorageSupported(G,z){throw new Error("Method not implemented.")}_originValidation(G){const z=G._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function(J){return ce.apply(this,arguments)}(G)),this.originValidationPromises[z]}attachCallbackListeners(G,z){const{universalLinks:Ie,handleOpenURL:Ue,BuildInfo:bt}=X(),$t=setTimeout((0,s.Z)(function*(){yield ve(G),z.onEvent(_t())}),500),Gt=function(){var En=(0,s.Z)(function*(Ht){clearTimeout($t);const Qn=yield ve(G);let Ao=null;Qn&&(null==Ht?void 0:Ht.url)&&(Ao=function(J,G){var z,Ie;const Ue=function(J){const G=Mt(J),z=G.link?decodeURIComponent(G.link):void 0,Ie=Mt(z).link,Ue=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Mt(Ue).link||Ue||Ie||z||J}(G);if(Ue.includes("/__/auth/callback")){const bt=Mt(Ue),$t=bt.firebaseError?function(J){try{return JSON.parse(J)}catch(G){return null}}(decodeURIComponent(bt.firebaseError)):null,Gt=null===(Ie=null===(z=null==$t?void 0:$t.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ie?void 0:Ie[1],vn=Gt?(0,O.av)(Gt):null;return vn?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:Ue,postBody:null}}return null}(Qn,Ht.url)),z.onEvent(Ao||_t())});return function(Qn){return En.apply(this,arguments)}}();void 0!==Ie&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,Gt);const vn=Ue,Sn=`${bt.packageName.toLowerCase()}://`;X().handleOpenURL=function(){var En=(0,s.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Sn)&&Gt({url:Ht}),"function"==typeof vn)try{vn(Ht)}catch(Qn){console.error(Qn)}});return function(Ht){return En.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(G){var z=this;return(0,s.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,z,Ie,Ue){var bt=this;return(0,s.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(G,z,Ie,Ue)})()}_openRedirect(G,z,Ie,Ue){var bt=this;return(0,s.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(G,z,Ie,Ue)})()}_isIframeWebStorageSupported(G,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,z)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Ni()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,s.Z)(function*(){if(G.underlyingResolver)return;const z=yield function(){return ut.apply(this,arguments)}();G.underlyingResolver=z?G.cordovaResolver:G.browserResolver})()}}function nt(J){return J.unwrap()}function ts(J){return on(J)}function on(J){const{_tokenResponse:G}=J instanceof ue.ZR?J.customData:J;if(!G)return null;if(!(J instanceof ue.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return O.P.credentialFromResult(J);const z=G.providerId;if(!z||z===O.o.PASSWORD)return null;let Ie;switch(z){case O.o.GOOGLE:Ie=O.N;break;case O.o.FACEBOOK:Ie=O.M;break;case O.o.GITHUB:Ie=O.Q;break;case O.o.TWITTER:Ie=O.V;break;default:const{oauthIdToken:Ue,oauthAccessToken:bt,oauthTokenSecret:$t,pendingToken:Gt,nonce:vn}=G;return bt||$t||Ue||Gt?Gt?z.startsWith("saml.")?O.aJ._create(z,Gt):O.I._fromParams({providerId:z,signInMethod:z,pendingToken:Gt,idToken:Ue,accessToken:bt}):new O.T(z).credential({idToken:Ue,accessToken:bt,rawNonce:vn}):null}return J instanceof ue.ZR?Ie.credentialFromError(J):Ie.credentialFromResult(J)}function fn(J,G){return G.catch(z=>{throw z instanceof ue.ZR&&function(J,G){var z;const Ie=null===(z=G.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new W(J,O.am(J,G));else if(Ie){const Ue=on(G),bt=G;Ue&&(bt.credential=Ue,bt.tenantId=Ie.tenantId||void 0,bt.email=Ie.email||void 0,bt.phoneNumber=Ie.phoneNumber||void 0)}}(J,z),z}).then(z=>{const Ue=z.user;return{operationType:z.operationType,credential:ts(z),additionalUserInfo:O.ak(z),user:ee.getOrCreate(Ue)}})}function Sr(J,G){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(J,G){const z=yield G;return{verificationId:z.verificationId,confirm:Ie=>fn(J,z.confirm(Ie))}})).apply(this,arguments)}class W{constructor(G,z){this.resolver=z,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return fn(nt(this.auth),this.resolver.resolveSignIn(G))}}class ee{constructor(G){this._delegate=G,this.multiFactor=O.an(G)}static getOrCreate(G){return ee.USER_MAP.has(G)||ee.USER_MAP.set(G,new ee(G)),ee.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var z=this;return(0,s.Z)(function*(){return fn(z.auth,O.Y(z._delegate,G))})()}linkWithPhoneNumber(G,z){var Ie=this;return(0,s.Z)(function*(){return Sr(Ie.auth,O.l(Ie._delegate,G,z))})()}linkWithPopup(G){var z=this;return(0,s.Z)(function*(){return fn(z.auth,O.d(z._delegate,G,Ye))})()}linkWithRedirect(G){var z=this;return(0,s.Z)(function*(){return yield Et(O.aC(z.auth)),O.g(z._delegate,G,Ye)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var z=this;return(0,s.Z)(function*(){return fn(z.auth,O.Z(z._delegate,G))})()}reauthenticateWithPhoneNumber(G,z){return Sr(this.auth,O.r(this._delegate,G,z))}reauthenticateWithPopup(G){return fn(this.auth,O.e(this._delegate,G,Ye))}reauthenticateWithRedirect(G){var z=this;return(0,s.Z)(function*(){return yield Et(O.aC(z.auth)),O.h(z._delegate,G,Ye)})()}sendEmailVerification(G){return O.aa(this._delegate,G)}unlink(G){var z=this;return(0,s.Z)(function*(){return yield O.aj(z._delegate,G),z})()}updateEmail(G){return O.af(this._delegate,G)}updatePassword(G){return O.ag(this._delegate,G)}updatePhoneNumber(G){return O.u(this._delegate,G)}updateProfile(G){return O.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,z){return O.ab(this._delegate,G,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ee.USER_MAP=new WeakMap;const Oe=O.aw;let de=(()=>{class J{constructor(z,Ie){if(this.app=z,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ue}=z.options;Oe(Ue,"invalid-api-key",{appName:z.name});let bt=[O.K];if("undefined"!=typeof window){bt=function(J,G){const z=qn();if(!(null==z?void 0:z.sessionStorage))return[];const Ie=O.ay(Gn,J,G);switch(z.sessionStorage.getItem(Ie)){case Vt.NONE:return[O.K];case Vt.LOCAL:return[O.i,O.a];case Vt.SESSION:return[O.a];default:return[]}}(Ue,z.name);for(const Gt of[O.i,O.b,O.a])bt.includes(Gt)||bt.push(Gt)}Oe(Ue,"invalid-api-key",{appName:z.name});const $t="undefined"!=typeof window?Ye:void 0;this._delegate=Ie.initialize({options:{persistence:bt,popupRedirectResolver:$t}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ie){O.E(this._delegate,z,Ie)}applyActionCode(z){return O.a1(this._delegate,z)}checkActionCode(z){return O.a2(this._delegate,z)}confirmPasswordReset(z,Ie){return O.a0(this._delegate,z,Ie)}createUserWithEmailAndPassword(z,Ie){var Ue=this;return(0,s.Z)(function*(){return fn(Ue._delegate,O.a4(Ue._delegate,z,Ie))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return O.a9(this._delegate,z)}isSignInWithEmailLink(z){return O.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,s.Z)(function*(){Oe(Zn(),z._delegate,"operation-not-supported-in-this-environment");const Ie=yield O.j(z._delegate,Ye);return Ie?fn(z._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function(J,G){(0,O.aC)(J)._logFramework(G)}(this._delegate,z)}onAuthStateChanged(z,Ie,Ue){const{next:bt,error:$t,complete:Gt}=it(z,Ie,Ue);return this._delegate.onAuthStateChanged(bt,$t,Gt)}onIdTokenChanged(z,Ie,Ue){const{next:bt,error:$t,complete:Gt}=it(z,Ie,Ue);return this._delegate.onIdTokenChanged(bt,$t,Gt)}sendSignInLinkToEmail(z,Ie){return O.a6(this._delegate,z,Ie)}sendPasswordResetEmail(z,Ie){return O.$(this._delegate,z,Ie||void 0)}setPersistence(z){var Ie=this;return(0,s.Z)(function*(){let Ue;switch(function(J,G){ai(Object.values(Vt).includes(G),J,"invalid-persistence-type"),(0,ue.b$)()?ai(G!==Vt.SESSION,J,"unsupported-persistence-type"):(0,ue.UG)()?ai(G===Vt.NONE,J,"unsupported-persistence-type"):Mi()?ai(G===Vt.NONE||G===Vt.LOCAL&&(0,ue.hl)(),J,"unsupported-persistence-type"):ai(G===Vt.NONE||Ji(),J,"unsupported-persistence-type")}(Ie._delegate,z),z){case Vt.SESSION:Ue=O.a;break;case Vt.LOCAL:Ue=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Vt.NONE:Ue=O.K;break;default:return O.as("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(Ue)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return fn(this._delegate,O.W(this._delegate))}signInWithCredential(z){return fn(this._delegate,O.X(this._delegate,z))}signInWithCustomToken(z){return fn(this._delegate,O._(this._delegate,z))}signInWithEmailAndPassword(z,Ie){return fn(this._delegate,O.a5(this._delegate,z,Ie))}signInWithEmailLink(z,Ie){return fn(this._delegate,O.a8(this._delegate,z,Ie))}signInWithPhoneNumber(z,Ie){return Sr(this._delegate,O.s(this._delegate,z,Ie))}signInWithPopup(z){var Ie=this;return(0,s.Z)(function*(){return Oe(Zn(),Ie._delegate,"operation-not-supported-in-this-environment"),fn(Ie._delegate,O.c(Ie._delegate,z,Ye))})()}signInWithRedirect(z){var Ie=this;return(0,s.Z)(function*(){return Oe(Zn(),Ie._delegate,"operation-not-supported-in-this-environment"),yield Et(Ie._delegate),O.f(Ie._delegate,z,Ye)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return O.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=Vt,J})();function it(J,G,z){let Ie=J;"function"!=typeof J&&({next:Ie,error:G,complete:z}=J);const Ue=Ie;return{next:$t=>Ue($t&&ee.getOrCreate($t)),error:G,complete:z}}class le{constructor(){this.providerId="phone",this._delegate=new O.P(nt(H.Z.auth()))}static credential(G,z){return O.P.credential(G,z)}verifyPhoneNumber(G,z){return this._delegate.verifyPhoneNumber(G,z)}unwrap(){return this._delegate}}le.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,le.PROVIDER_ID=O.P.PROVIDER_ID;const De=O.aw;var J;(J=H.Z).INTERNAL.registerComponent(new ie.wA("auth-compat",G=>{const z=G.getProvider("app-compat").getImmediate(),Ie=G.getProvider("auth");return new de(z,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:le,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(G,z,Ie=H.Z.app()){var Ue;De(null===(Ue=Ie.options)||void 0===Ue?void 0:Ue.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new O.R(G,z,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:de,AuthCredential:O.G,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.2")},6676:function(dt,xe){!function(x){"use strict";function s(ye){return Array.prototype.slice.call(ye)}function H(ye){return new Promise(function(ae,ke){ye.onsuccess=function(){ae(ye.result)},ye.onerror=function(){ke(ye.error)}})}function O(ye,ae,ke){var $e,Ke=new Promise(function(Lt,xt){H($e=ye[ae].apply(ye,ke)).then(Lt,xt)});return Ke.request=$e,Ke}function ue(ye,ae,ke){var $e=O(ye,ae,ke);return $e.then(function(Ke){if(Ke)return new P(Ke,$e.request)})}function me(ye,ae,ke){ke.forEach(function($e){Object.defineProperty(ye.prototype,$e,{get:function(){return this[ae][$e]},set:function(Ke){this[ae][$e]=Ke}})})}function oe(ye,ae,ke,$e){$e.forEach(function(Ke){Ke in ke.prototype&&(ye.prototype[Ke]=function(){return O(this[ae],Ke,arguments)})})}function ie(ye,ae,ke,$e){$e.forEach(function(Ke){Ke in ke.prototype&&(ye.prototype[Ke]=function(){return this[ae][Ke].apply(this[ae],arguments)})})}function X(ye,ae,ke,$e){$e.forEach(function(Ke){Ke in ke.prototype&&(ye.prototype[Ke]=function(){return ue(this[ae],Ke,arguments)})})}function K(ye){this._index=ye}function P(ye,ae){this._cursor=ye,this._request=ae}function j(ye){this._store=ye}function q(ye){this._tx=ye,this.complete=new Promise(function(ae,ke){ye.oncomplete=function(){ae()},ye.onerror=function(){ke(ye.error)},ye.onabort=function(){ke(ye.error)}})}function ce(ye,ae,ke){this._db=ye,this.oldVersion=ae,this.transaction=new q(ke)}function Se(ye){this._db=ye}me(K,"_index",["name","keyPath","multiEntry","unique"]),oe(K,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),X(K,"_index",IDBIndex,["openCursor","openKeyCursor"]),me(P,"_cursor",["direction","key","primaryKey","value"]),oe(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ye){ye in IDBCursor.prototype&&(P.prototype[ye]=function(){var ae=this,ke=arguments;return Promise.resolve().then(function(){return ae._cursor[ye].apply(ae._cursor,ke),H(ae._request).then(function($e){if($e)return new P($e,ae._request)})})})}),j.prototype.createIndex=function(){return new K(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new K(this._store.index.apply(this._store,arguments))},me(j,"_store",["name","keyPath","indexNames","autoIncrement"]),oe(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),X(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ie(j,"_store",IDBObjectStore,["deleteIndex"]),q.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},me(q,"_tx",["objectStoreNames","mode"]),ie(q,"_tx",IDBTransaction,["abort"]),ce.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},me(ce,"_db",["name","version","objectStoreNames"]),ie(ce,"_db",IDBDatabase,["deleteObjectStore","close"]),Se.prototype.transaction=function(){return new q(this._db.transaction.apply(this._db,arguments))},me(Se,"_db",["name","version","objectStoreNames"]),ie(Se,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ye){[j,K].forEach(function(ae){ye in ae.prototype&&(ae.prototype[ye.replace("open","iterate")]=function(){var ke=s(arguments),$e=ke[ke.length-1],Ke=this._store||this._index,Lt=Ke[ye].apply(Ke,ke.slice(0,-1));Lt.onsuccess=function(){$e(Lt.result)}})})}),[K,j].forEach(function(ye){ye.prototype.getAll||(ye.prototype.getAll=function(ae,ke){var $e=this,Ke=[];return new Promise(function(Lt){$e.iterateCursor(ae,function(xt){xt?(Ke.push(xt.value),void 0===ke||Ke.length!=ke?xt.continue():Lt(Ke)):Lt(Ke)})})})}),x.openDb=function(ye,ae,ke){var $e=O(indexedDB,"open",[ye,ae]),Ke=$e.request;return Ke&&(Ke.onupgradeneeded=function(Lt){ke&&ke(new ce(Ke.result,Lt.oldVersion,Ke.transaction))}),$e.then(function(Lt){return new Se(Lt)})},x.deleteDb=function(ye){return O(indexedDB,"deleteDatabase",[ye])},Object.defineProperty(x,"__esModule",{value:!0})}(xe)},1593:(dt,xe,x)=>{"use strict";x.d(xe,{P:()=>ie});var s=x(9193),H=x(5917),O=x(7574);class ie{constructor(K,P,j){this.kind=K,this.value=P,this.error=j,this.hasValue="N"===K}observe(K){switch(this.kind){case"N":return K.next&&K.next(this.value);case"E":return K.error&&K.error(this.error);case"C":return K.complete&&K.complete()}}do(K,P,j){switch(this.kind){case"N":return K&&K(this.value);case"E":return P&&P(this.error);case"C":return j&&j()}}accept(K,P,j){return K&&"function"==typeof K.next?this.observe(K):this.do(K,P,j)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return X=this.error,new O.y(P=>P.error(X));case"C":return(0,s.c)()}var X;throw new Error("unexpected notification kind value")}static createNext(K){return void 0!==K?new ie("N",K):ie.undefinedValueNotification}static createError(K){return new ie("E",void 0,K)}static createComplete(){return ie.completeNotification}}ie.completeNotification=new ie("C"),ie.undefinedValueNotification=new ie("N",void 0)},7574:(dt,xe,x)=>{"use strict";x.d(xe,{y:()=>j});var s=x(7393),O=x(9181),ue=x(6490),oe=x(6554),ie=x(4487);var P=x(2494);let j=(()=>{class ce{constructor(Le){this._isScalar=!1,Le&&(this._subscribe=Le)}lift(Le){const Ae=new ce;return Ae.source=this,Ae.operator=Le,Ae}subscribe(Le,Ae,ye){const{operator:ae}=this,ke=function(ce,Se,Le){if(ce){if(ce instanceof s.L)return ce;if(ce[O.b])return ce[O.b]()}return ce||Se||Le?new s.L(ce,Se,Le):new s.L(ue.c)}(Le,Ae,ye);if(ke.add(ae?ae.call(ke,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!ke.syncErrorThrowable?this._subscribe(ke):this._trySubscribe(ke)),P.v.useDeprecatedSynchronousErrorHandling&&ke.syncErrorThrowable&&(ke.syncErrorThrowable=!1,ke.syncErrorThrown))throw ke.syncErrorValue;return ke}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ae){P.v.useDeprecatedSynchronousErrorHandling&&(Le.syncErrorThrown=!0,Le.syncErrorValue=Ae),function(ce){for(;ce;){const{closed:Se,destination:Le,isStopped:Ae}=ce;if(Se||Ae)return!1;ce=Le&&Le instanceof s.L?Le:null}return!0}(Le)?Le.error(Ae):console.warn(Ae)}}forEach(Le,Ae){return new(Ae=q(Ae))((ye,ae)=>{let ke;ke=this.subscribe($e=>{try{Le($e)}catch(Ke){ae(Ke),ke&&ke.unsubscribe()}},ae,ye)})}_subscribe(Le){const{source:Ae}=this;return Ae&&Ae.subscribe(Le)}[oe.L](){return this}pipe(...Le){return 0===Le.length?this:function(ce){return 0===ce.length?ie.y:1===ce.length?ce[0]:function(Le){return ce.reduce((Ae,ye)=>ye(Ae),Le)}}(Le)(this)}toPromise(Le){return new(Le=q(Le))((Ae,ye)=>{let ae;this.subscribe(ke=>ae=ke,ke=>ye(ke),()=>Ae(ae))})}}return ce.create=Se=>new ce(Se),ce})();function q(ce){if(ce||(ce=P.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:(dt,xe,x)=>{"use strict";x.d(xe,{c:()=>O});var s=x(2494),H=x(4449);const O={closed:!0,next(ue){},error(ue){if(s.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,H.z)(ue)},complete(){}}},9765:(dt,xe,x)=>{"use strict";x.d(xe,{Yc:()=>ie,xQ:()=>X});var s=x(7574),H=x(7393),O=x(5319),ue=x(7971),me=x(8858),oe=x(9181);class ie extends H.L{constructor(j){super(j),this.destination=j}}let X=(()=>{class P extends s.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new ie(this)}lift(q){const ce=new K(this,this);return ce.operator=q,ce}next(q){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:ce}=this,Se=ce.length,Le=ce.slice();for(let Ae=0;Ae<Se;Ae++)Le[Ae].next(q)}}error(q){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:ce}=this,Se=ce.length,Le=ce.slice();for(let Ae=0;Ae<Se;Ae++)Le[Ae].error(q);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:q}=this,ce=q.length,Se=q.slice();for(let Le=0;Le<ce;Le++)Se[Le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new ue.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new ue.N;return this.hasError?(q.error(this.thrownError),O.w.EMPTY):this.isStopped?(q.complete(),O.w.EMPTY):(this.observers.push(q),new me.W(this,q))}asObservable(){const q=new s.y;return q.source=this,q}}return P.create=(j,q)=>new K(j,q),P})();class K extends X{constructor(j,q){super(),this.destination=j,this.source=q}next(j){const{destination:q}=this;q&&q.next&&q.next(j)}error(j){const{destination:q}=this;q&&q.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:q}=this;return q?this.source.subscribe(j):O.w.EMPTY}}},8858:(dt,xe,x)=>{"use strict";x.d(xe,{W:()=>H});var s=x(5319);class H extends s.w{constructor(ue,me){super(),this.subject=ue,this.subscriber=me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,me=ue.observers;if(this.subject=null,!me||0===me.length||ue.isStopped||ue.closed)return;const oe=me.indexOf(this.subscriber);-1!==oe&&me.splice(oe,1)}}},7393:(dt,xe,x)=>{"use strict";x.d(xe,{L:()=>ie});var s=x(9105),H=x(6490),O=x(5319),ue=x(9181),me=x(2494),oe=x(4449);class ie extends O.w{constructor(P,j,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=H.c;break;case 1:if(!P){this.destination=H.c;break}if("object"==typeof P){P instanceof ie?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new X(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new X(this,P,j,q)}}[ue.b](){return this}static create(P,j,q){const ce=new ie(P,j,q);return ce.syncErrorThrowable=!1,ce}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class X extends ie{constructor(P,j,q,ce){super(),this._parentSubscriber=P;let Se,Le=this;(0,s.m)(j)?Se=j:j&&(Se=j.next,q=j.error,ce=j.complete,j!==H.c&&(Le=Object.create(j),(0,s.m)(Le.unsubscribe)&&this.add(Le.unsubscribe.bind(Le)),Le.unsubscribe=this.unsubscribe.bind(this))),this._context=Le,this._next=Se,this._error=q,this._complete=ce}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;me.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:q}=me.v;if(this._error)q&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(j.syncErrorThrowable)q?(j.syncErrorValue=P,j.syncErrorThrown=!0):(0,oe.z)(P),this.unsubscribe();else{if(this.unsubscribe(),q)throw P;(0,oe.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const j=()=>this._complete.call(this._context);me.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,j){try{P.call(this._context,j)}catch(q){if(this.unsubscribe(),me.v.useDeprecatedSynchronousErrorHandling)throw q;(0,oe.z)(q)}}__tryOrSetError(P,j,q){if(!me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,q)}catch(ce){return me.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=ce,P.syncErrorThrown=!0,!0):((0,oe.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(dt,xe,x)=>{"use strict";x.d(xe,{w:()=>oe});var s=x(9796),H=x(1555),O=x(9105);const me=(()=>{function X(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((P,j)=>`${j+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return X.prototype=Object.create(Error.prototype),X})();class oe{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:j,_unsubscribe:q,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof oe)P.remove(this);else if(null!==P)for(let Se=0;Se<P.length;++Se)P[Se].remove(this);if((0,O.m)(q)){j&&(this._unsubscribe=void 0);try{q.call(this)}catch(Se){K=Se instanceof me?ie(Se.errors):[Se]}}if((0,s.k)(ce)){let Se=-1,Le=ce.length;for(;++Se<Le;){const Ae=ce[Se];if((0,H.K)(Ae))try{Ae.unsubscribe()}catch(ye){K=K||[],ye instanceof me?K=K.concat(ie(ye.errors)):K.push(ye)}}}if(K)throw new me(K)}add(K){let P=K;if(!K)return oe.EMPTY;switch(typeof K){case"function":P=new oe(K);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof oe)){const ce=P;P=new oe,P._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:j}=P;if(null===j)P._parentOrParents=this;else if(j instanceof oe){if(j===this)return P;P._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return P;j.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[P]:q.push(P),P}remove(K){const P=this._subscriptions;if(P){const j=P.indexOf(K);-1!==j&&P.splice(j,1)}}}var X;function ie(X){return X.reduce((K,P)=>K.concat(P instanceof me?P.errors:P),[])}oe.EMPTY=((X=new oe).closed=!0,X)},2494:(dt,xe,x)=>{"use strict";x.d(xe,{v:()=>H});let s=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=O},get useDeprecatedSynchronousErrorHandling(){return s}}},5345:(dt,xe,x)=>{"use strict";x.d(xe,{IY:()=>ue,Ds:()=>oe,ft:()=>X});var s=x(7393),H=x(7574),O=x(7444);class ue extends s.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends s.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function X(K,P){if(P.closed)return;if(K instanceof H.y)return K.subscribe(P);let j;try{j=(0,O.s)(K)(P)}catch(q){P.error(q)}return j}},2441:(dt,xe,x)=>{"use strict";x.d(xe,{c:()=>me,N:()=>oe});var s=x(9765),H=x(7574),O=x(5319),ue=x(1307);class me extends H.y{constructor(j,q){super(),this.source=j,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new O.w,j.add(this.source.subscribe(new ie(this.getSubject(),this))),j.closed&&(this._connection=null,j=O.w.EMPTY)),j}refCount(){return(0,ue.x)()(this)}}const oe=(()=>{const P=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class ie extends s.Yc{constructor(j,q){super(j),this.connectable=q}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const q=j._connection;j._refCount=0,j._subject=null,j._connection=null,q&&q.unsubscribe()}}}},9193:(dt,xe,x)=>{"use strict";x.d(xe,{E:()=>H,c:()=>O});var s=x(7574);const H=new s.y(me=>me.complete());function O(me){return me?function(me){return new s.y(oe=>me.schedule(()=>oe.complete()))}(me):H}},4402:(dt,xe,x)=>{"use strict";x.d(xe,{D:()=>Le});var s=x(7574),H=x(7444),O=x(5319),ue=x(6554),ie=x(4087),X=x(377),j=x(4072),q=x(9489);function Le(Ae,ye){return ye?function(Ae,ye){if(null!=Ae){if(function(Ae){return Ae&&"function"==typeof Ae[ue.L]}(Ae))return function(Ae,ye){return new s.y(ae=>{const ke=new O.w;return ke.add(ye.schedule(()=>{const $e=Ae[ue.L]();ke.add($e.subscribe({next(Ke){ke.add(ye.schedule(()=>ae.next(Ke)))},error(Ke){ke.add(ye.schedule(()=>ae.error(Ke)))},complete(){ke.add(ye.schedule(()=>ae.complete()))}}))})),ke})}(Ae,ye);if((0,j.t)(Ae))return function(Ae,ye){return new s.y(ae=>{const ke=new O.w;return ke.add(ye.schedule(()=>Ae.then($e=>{ke.add(ye.schedule(()=>{ae.next($e),ke.add(ye.schedule(()=>ae.complete()))}))},$e=>{ke.add(ye.schedule(()=>ae.error($e)))}))),ke})}(Ae,ye);if((0,q.z)(Ae))return(0,ie.r)(Ae,ye);if(function(Ae){return Ae&&"function"==typeof Ae[X.hZ]}(Ae)||"string"==typeof Ae)return function(Ae,ye){if(!Ae)throw new Error("Iterable cannot be null");return new s.y(ae=>{const ke=new O.w;let $e;return ke.add(()=>{$e&&"function"==typeof $e.return&&$e.return()}),ke.add(ye.schedule(()=>{$e=Ae[X.hZ](),ke.add(ye.schedule(function(){if(ae.closed)return;let Ke,Lt;try{const xt=$e.next();Ke=xt.value,Lt=xt.done}catch(xt){return void ae.error(xt)}Lt?ae.complete():(ae.next(Ke),this.schedule())}))})),ke})}(Ae,ye)}throw new TypeError((null!==Ae&&typeof Ae||Ae)+" is not observable")}(Ae,ye):Ae instanceof s.y?Ae:new s.y((0,H.s)(Ae))}},6693:(dt,xe,x)=>{"use strict";x.d(xe,{n:()=>ue});var s=x(7574),H=x(5015),O=x(4087);function ue(me,oe){return oe?(0,O.r)(me,oe):new s.y((0,H.V)(me))}},6682:(dt,xe,x)=>{"use strict";x.d(xe,{T:()=>me});var s=x(7574),H=x(4869),O=x(3282),ue=x(6693);function me(...oe){let ie=Number.POSITIVE_INFINITY,X=null,K=oe[oe.length-1];return(0,H.K)(K)?(X=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(ie=oe.pop())):"number"==typeof K&&(ie=oe.pop()),null===X&&1===oe.length&&oe[0]instanceof s.y?oe[0]:(0,O.J)(ie)((0,ue.n)(oe,X))}},5917:(dt,xe,x)=>{"use strict";x.d(xe,{of:()=>ue});var s=x(4869),H=x(6693),O=x(4087);function ue(...me){let oe=me[me.length-1];return(0,s.K)(oe)?(me.pop(),(0,O.r)(me,oe)):(0,H.n)(me)}},8002:(dt,xe,x)=>{"use strict";x.d(xe,{U:()=>H});var s=x(7393);function H(me,oe){return function(X){if("function"!=typeof me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return X.lift(new O(me,oe))}}class O{constructor(oe,ie){this.project=oe,this.thisArg=ie}call(oe,ie){return ie.subscribe(new ue(oe,this.project,this.thisArg))}}class ue extends s.L{constructor(oe,ie,X){super(oe),this.project=ie,this.count=0,this.thisArg=X||this}_next(oe){let ie;try{ie=this.project.call(this.thisArg,oe,this.count++)}catch(X){return void this.destination.error(X)}this.destination.next(ie)}}},3282:(dt,xe,x)=>{"use strict";x.d(xe,{J:()=>O});var s=x(9773),H=x(4487);function O(ue=Number.POSITIVE_INFINITY){return(0,s.zg)(H.y,ue)}},9773:(dt,xe,x)=>{"use strict";x.d(xe,{zg:()=>ue});var s=x(8002),H=x(4402),O=x(5345);function ue(X,K,P=Number.POSITIVE_INFINITY){return"function"==typeof K?j=>j.pipe(ue((q,ce)=>(0,H.D)(X(q,ce)).pipe((0,s.U)((Se,Le)=>K(q,Se,ce,Le))),P)):("number"==typeof K&&(P=K),j=>j.lift(new me(X,P)))}class me{constructor(K,P=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=P}call(K,P){return P.subscribe(new oe(K,this.project,this.concurrent))}}class oe extends O.Ds{constructor(K,P,j=Number.POSITIVE_INFINITY){super(K),this.project=P,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let P;const j=this.index++;try{P=this.project(K,j)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(P)}_innerSub(K){const P=new O.IY(this),j=this.destination;j.add(P);const q=(0,O.ft)(K,P);q!==P&&j.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(dt,xe,x)=>{"use strict";x.d(xe,{QV:()=>O,ht:()=>me});var s=x(7393),H=x(1593);function O(ie,X=0){return function(P){return P.lift(new ue(ie,X))}}class ue{constructor(X,K=0){this.scheduler=X,this.delay=K}call(X,K){return K.subscribe(new me(X,this.scheduler,this.delay))}}class me extends s.L{constructor(X,K,P=0){super(X),this.scheduler=K,this.delay=P}static dispatch(X){const{notification:K,destination:P}=X;K.observe(P),this.unsubscribe()}scheduleMessage(X){this.destination.add(this.scheduler.schedule(me.dispatch,this.delay,new oe(X,this.destination)))}_next(X){this.scheduleMessage(H.P.createNext(X))}_error(X){this.scheduleMessage(H.P.createError(X)),this.unsubscribe()}_complete(){this.scheduleMessage(H.P.createComplete()),this.unsubscribe()}}class oe{constructor(X,K){this.notification=X,this.destination=K}}},1307:(dt,xe,x)=>{"use strict";x.d(xe,{x:()=>H});var s=x(7393);function H(){return function(oe){return oe.lift(new O(oe))}}class O{constructor(oe){this.connectable=oe}call(oe,ie){const{connectable:X}=this;X._refCount++;const K=new ue(oe,X),P=ie.subscribe(K);return K.closed||(K.connection=X.connect()),P}}class ue extends s.L{constructor(oe,ie){super(oe),this.connectable=ie}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const ie=oe._refCount;if(ie<=0)return void(this.connection=null);if(oe._refCount=ie-1,ie>1)return void(this.connection=null);const{connection:X}=this,K=oe._connection;this.connection=null,K&&(!X||K===X)&&K.unsubscribe()}}},8819:(dt,xe,x)=>{"use strict";x.d(xe,{B:()=>ie});var s=x(2441);var ue=x(1307),me=x(9765);function oe(){return new me.xQ}function ie(){return X=>(0,ue.x)()(function(X,K){return function(j){let q;q="function"==typeof X?X:function(){return X};const ce=Object.create(j,s.N);return ce.source=j,ce.subjectFactory=q,ce}}(oe)(X))}},9673:(dt,xe,x)=>{"use strict";x.d(xe,{R:()=>me});var s=x(7574),H=x(4581),O=x(6561);class ue extends s.y{constructor(X,K=0,P=H.e){super(),this.source=X,this.delayTime=K,this.scheduler=P,(!(0,O.k)(K)||K<0)&&(this.delayTime=0),(!P||"function"!=typeof P.schedule)&&(this.scheduler=H.e)}static create(X,K=0,P=H.e){return new ue(X,K,P)}static dispatch(X){const{source:K,subscriber:P}=X;return this.add(K.subscribe(P))}_subscribe(X){return this.scheduler.schedule(ue.dispatch,this.delayTime,{source:this.source,subscriber:X})}}function me(ie,X=0){return function(P){return P.lift(new oe(ie,X))}}class oe{constructor(X,K){this.scheduler=X,this.delay=K}call(X,K){return new ue(K,this.delay,this.scheduler).subscribe(X)}}},8307:(dt,xe,x)=>{"use strict";x.d(xe,{b:()=>ue});var s=x(7393),H=x(8640),O=x(9105);function ue(ie,X,K){return function(j){return j.lift(new me(ie,X,K))}}class me{constructor(X,K,P){this.nextOrObserver=X,this.error=K,this.complete=P}call(X,K){return K.subscribe(new oe(X,this.nextOrObserver,this.error,this.complete))}}class oe extends s.L{constructor(X,K,P,j){super(X),this._tapNext=H.Z,this._tapError=H.Z,this._tapComplete=H.Z,this._tapError=P||H.Z,this._tapComplete=j||H.Z,(0,O.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||H.Z,this._tapError=K.error||H.Z,this._tapComplete=K.complete||H.Z)}_next(X){try{this._tapNext.call(this._context,X)}catch(K){return void this.destination.error(K)}this.destination.next(X)}_error(X){try{this._tapError.call(this._context,X)}catch(K){return void this.destination.error(K)}this.destination.error(X)}_complete(){try{this._tapComplete.call(this._context)}catch(X){return void this.destination.error(X)}return this.destination.complete()}}},4087:(dt,xe,x)=>{"use strict";x.d(xe,{r:()=>O});var s=x(7574),H=x(5319);function O(ue,me){return new s.y(oe=>{const ie=new H.w;let X=0;return ie.add(me.schedule(function(){X!==ue.length?(oe.next(ue[X++]),oe.closed||ie.add(this.schedule())):oe.complete()})),ie})}},6465:(dt,xe,x)=>{"use strict";x.d(xe,{o:()=>O});var s=x(5319);class H extends s.w{constructor(me,oe){super()}schedule(me,oe=0){return this}}class O extends H{constructor(me,oe){super(me,oe),this.scheduler=me,this.work=oe,this.pending=!1}schedule(me,oe=0){if(this.closed)return this;this.state=me;const ie=this.id,X=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(X,ie,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(X,this.id,oe),this}requestAsyncId(me,oe,ie=0){return setInterval(me.flush.bind(me,this),ie)}recycleAsyncId(me,oe,ie=0){if(null!==ie&&this.delay===ie&&!1===this.pending)return oe;clearInterval(oe)}execute(me,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(me,oe);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,oe){let X,ie=!1;try{this.work(me)}catch(K){ie=!0,X=!!K&&K||new Error(K)}if(ie)return this.unsubscribe(),X}_unsubscribe(){const me=this.id,oe=this.scheduler,ie=oe.actions,X=ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==X&&ie.splice(X,1),null!=me&&(this.id=this.recycleAsyncId(oe,me,null)),this.delay=null}}},6102:(dt,xe,x)=>{"use strict";x.d(xe,{v:()=>H});let s=(()=>{class O{constructor(me,oe=O.now){this.SchedulerAction=me,this.now=oe}schedule(me,oe=0,ie){return new this.SchedulerAction(this,me).schedule(ie,oe)}}return O.now=()=>Date.now(),O})();class H extends s{constructor(ue,me=s.now){super(ue,()=>H.delegate&&H.delegate!==this?H.delegate.now():me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,me=0,oe){return H.delegate&&H.delegate!==this?H.delegate.schedule(ue,me,oe):super.schedule(ue,me,oe)}flush(ue){const{actions:me}=this;if(this.active)return void me.push(ue);let oe;this.active=!0;do{if(oe=ue.execute(ue.state,ue.delay))break}while(ue=me.shift());if(this.active=!1,oe){for(;ue=me.shift();)ue.unsubscribe();throw oe}}}},4581:(dt,xe,x)=>{"use strict";x.d(xe,{e:()=>q,E:()=>j});let s=1;const H=Promise.resolve(),O={};function ue(ce){return ce in O&&(delete O[ce],!0)}const me={setImmediate(ce){const Se=s++;return O[Se]=!0,H.then(()=>ue(Se)&&ce()),Se},clearImmediate(ce){ue(ce)}};var ie=x(6465),K=x(6102);const j=new class extends K.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Le}=this;let Ae,ye=-1,ae=Le.length;Se=Se||Le.shift();do{if(Ae=Se.execute(Se.state,Se.delay))break}while(++ye<ae&&(Se=Le.shift()));if(this.active=!1,Ae){for(;++ye<ae&&(Se=Le.shift());)Se.unsubscribe();throw Ae}}}(class extends ie.o{constructor(Se,Le){super(Se,Le),this.scheduler=Se,this.work=Le}requestAsyncId(Se,Le,Ae=0){return null!==Ae&&Ae>0?super.requestAsyncId(Se,Le,Ae):(Se.actions.push(this),Se.scheduled||(Se.scheduled=me.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Le,Ae=0){if(null!==Ae&&Ae>0||null===Ae&&this.delay>0)return super.recycleAsyncId(Se,Le,Ae);0===Se.actions.length&&(me.clearImmediate(Le),Se.scheduled=void 0)}}),q=j},3637:(dt,xe,x)=>{"use strict";x.d(xe,{z:()=>O,P:()=>ue});var s=x(6465);const O=new(x(6102).v)(s.o),ue=O},7771:(dt,xe,x)=>{"use strict";x.d(xe,{c:()=>oe,N:()=>me});var s=x(6465),O=x(6102);const me=new class extends O.v{}(class extends s.o{constructor(X,K){super(X,K),this.scheduler=X,this.work=K}schedule(X,K=0){return K>0?super.schedule(X,K):(this.delay=K,this.state=X,this.scheduler.flush(this),this)}execute(X,K){return K>0||this.closed?super.execute(X,K):this._execute(X,K)}requestAsyncId(X,K,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(X,K,P):X.flush(this)}}),oe=me},377:(dt,xe,x)=>{"use strict";x.d(xe,{hZ:()=>H});const H="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(dt,xe,x)=>{"use strict";x.d(xe,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(dt,xe,x)=>{"use strict";x.d(xe,{b:()=>s});const s="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(dt,xe,x)=>{"use strict";x.d(xe,{N:()=>H});const H=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(dt,xe,x)=>{"use strict";function s(H){setTimeout(()=>{throw H},0)}x.d(xe,{z:()=>s})},4487:(dt,xe,x)=>{"use strict";function s(H){return H}x.d(xe,{y:()=>s})},9796:(dt,xe,x)=>{"use strict";x.d(xe,{k:()=>s});const s=Array.isArray||(H=>H&&"number"==typeof H.length)},9489:(dt,xe,x)=>{"use strict";x.d(xe,{z:()=>s});const s=H=>H&&"number"==typeof H.length&&"function"!=typeof H},9105:(dt,xe,x)=>{"use strict";function s(H){return"function"==typeof H}x.d(xe,{m:()=>s})},6561:(dt,xe,x)=>{"use strict";x.d(xe,{k:()=>H});var s=x(9796);function H(O){return!(0,s.k)(O)&&O-parseFloat(O)+1>=0}},1555:(dt,xe,x)=>{"use strict";function s(H){return null!==H&&"object"==typeof H}x.d(xe,{K:()=>s})},4072:(dt,xe,x)=>{"use strict";function s(H){return!!H&&"function"!=typeof H.subscribe&&"function"==typeof H.then}x.d(xe,{t:()=>s})},4869:(dt,xe,x)=>{"use strict";function s(H){return H&&"function"==typeof H.schedule}x.d(xe,{K:()=>s})},8640:(dt,xe,x)=>{"use strict";function s(){}x.d(xe,{Z:()=>s})},7444:(dt,xe,x)=>{"use strict";x.d(xe,{s:()=>j});var s=x(5015),H=x(4449),ue=x(377),oe=x(6554),X=x(9489),K=x(4072),P=x(1555);const j=q=>{if(q&&"function"==typeof q[oe.L])return(q=>ce=>{const Se=q[oe.L]();if("function"!=typeof Se.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Se.subscribe(ce)})(q);if((0,X.z)(q))return(0,s.V)(q);if((0,K.t)(q))return(q=>ce=>(q.then(Se=>{ce.closed||(ce.next(Se),ce.complete())},Se=>ce.error(Se)).then(null,H.z),ce))(q);if(q&&"function"==typeof q[ue.hZ])return(q=>ce=>{const Se=q[ue.hZ]();for(;;){let Le;try{Le=Se.next()}catch(Ae){return ce.error(Ae),ce}if(Le.done){ce.complete();break}if(ce.next(Le.value),ce.closed)break}return"function"==typeof Se.return&&ce.add(()=>{Se.return&&Se.return()}),ce})(q);{const Se=`You provided ${(0,P.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Se)}}},5015:(dt,xe,x)=>{"use strict";x.d(xe,{V:()=>s});const s=H=>O=>{for(let ue=0,me=H.length;ue<me&&!O.closed;ue++)O.next(H[ue]);O.complete()}},7900:(dt,xe,x)=>{"use strict";var s=x(7716);let H=null;function O(){return H}const ie=new s.OlP("DocumentToken");let X=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function K(){return(0,s.LFG)(j)}const P=new s.OlP("Location Initialized");let j=(()=>{class n extends X{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=(0,s.Yz7)({factory:ce,token:n,providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ce(){return new j((0,s.LFG)(ie))}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Le(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ae(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:ae,token:n,providedIn:"root"}),n})();function ae(n){const t=(0,s.LFG)(ie).location;return new $e((0,s.LFG)(X),t&&t.origin||"")}const ke=new s.OlP("appBaseHref");let $e=(()=>{class n extends ye{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ae(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const u=this.prepareExternalUrl(r+Ae(l));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){const u=this.prepareExternalUrl(r+Ae(l));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(ke,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let u=this.prepareExternalUrl(r+Ae(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){let u=this.prepareExternalUrl(r+Ae(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(ke,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Lt=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Le(ve(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ae(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ae(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ae(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ye),s.LFG(X))},n.normalizeQueryParams=Ae,n.joinWithSlash=Se,n.stripTrailingSlash=Le,n.\u0275prov=(0,s.Yz7)({factory:xt,token:n,providedIn:"root"}),n})();function xt(){return new Lt((0,s.LFG)(ye),(0,s.LFG)(X))}function ve(n){return n.replace(/\/index.html$/,"")}var Ee=(()=>((Ee=Ee||{})[Ee.Zero=0]="Zero",Ee[Ee.One=1]="One",Ee[Ee.Two=2]="Two",Ee[Ee.Few=3]="Few",Ee[Ee.Many=4]="Many",Ee[Ee.Other=5]="Other",Ee))();const Mi=s.kL8;class Jn{}let eo=(()=>{class n extends Jn{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Mi(i||this.locale)(e)){case Ee.Zero:return"zero";case Ee.One:return"one";case Ee.Two:return"two";case Ee.Few:return"few";case Ee.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n{constructor(e,i,r,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vr{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((r,l,u)=>{if(null==r.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new Vr(null,this._ngForOf,-1,-1),null===u?void 0:u),g=new Kl(r,f);i.push(g)}else if(null==u)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const f=this._viewContainer.get(l);this._viewContainer.move(f,u);const g=new Kl(r,f);i.push(g)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,l=this._viewContainer.length;r<l;r++){const u=this._viewContainer.get(r);u.context.index=r,u.context.count=l,u.context.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Kl{constructor(t,e){this.record=t,this.view=e}}let zn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new wu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Os("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Os("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wu{constructor(){this.$implicit=null,this.ngIf=null}}function Os(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let Go=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,l]=e.split(".");null!=(i=null!=i&&l?`${i}${l}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ti=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Jn,useClass:eo}]}),n})();function Br(n){return"server"===n}let qo=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Iu((0,s.LFG)(ie),window)}),n})();class Iu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const u=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=hl(this.window.history)||hl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function hl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ic extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ic,H||(H=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(so=so||document.querySelector("base"),so?so.getAttribute("href"):null);return null==e?null:function(n){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",n);const t=Wn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){so=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Wn,so=null;const V=new s.OlP("TRANSITION_ID"),re=[{provide:s.ip1,useFactory:function(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[V,ie,s.zs3],multi:!0}];class Te{static init(){(0,s.VLi)(new Te)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let l=r.length,u=!1;const f=function(g){u=u||g,l--,0==l&&i(u)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ge=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=new s.OlP("EventManagerPlugins");let Be=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const u=r[l];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class _n{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Au=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ci=(()=>{class n extends Au{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Mu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Mu))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Mu(n){O().remove(n)}const gl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ls=/%COMP%/g;function cr(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?cr(n,r,e):(r=r.replace(Ls,n),e.push(r))}return e}function bs(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ao=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new lo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Wb(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Nu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=cr(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Be),s.LFG(ci),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class lo{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=gl[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=gl[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bs(i)):this.eventManager.addEventListener(t,e,bs(i))}}class Wb extends lo{constructor(t,e,i,r){super(t),this.component=i;const l=cr(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Ls,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ls,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Nu extends lo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=cr(r.id,r.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Up=(()=>{class n extends _n{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ru=["alt","control","meta","shift"],Q1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$r={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jb={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $p=(()=>{class n extends _n{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let u="";if(Ru.forEach(g=>{const y=i.indexOf(g);y>-1&&(i.splice(y,1),u+=g+".")}),u+=l,0!=i.length||0===l.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&$r.hasOwnProperty(t)&&(t=$r[t]))}return Q1[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ru.forEach(l=>{l!=r&&Jb[l](e)&&(i+=l+".")}),i+=r,i}static eventCallback(e,i,r){return l=>{n.getEventFullKey(l)===e&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xu=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function(){ic.makeCurrent(),Te.init()},multi:!0},{provide:ie,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),Zp=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:oc,useClass:Up,multi:!0,deps:[ie,s.R0b,s.Lbi]},{provide:oc,useClass:$p,multi:!0,deps:[ie]},[],{provide:ao,useClass:ao,deps:[Be,ci,s.AFp]},{provide:s.FYo,useExisting:ao},{provide:Au,useExisting:ci},{provide:ci,useClass:ci,deps:[ie]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Be,useClass:Be,deps:[oc,s.R0b]},{provide:class{},useClass:Ge,deps:[]},[]];let $_=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:V,useExisting:s.AFp},re]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Zp,imports:[ti,s.hGG]}),n})();function Ch(){return new Gp((0,s.LFG)(ie))}let Gp=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=(0,s.Yz7)({factory:Ch,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;var dn=x(4402),ct=x(5917),Tt=x(9765),G_=x(7971);class ri extends Tt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new G_.N;return this._value}next(t){super.next(this._value=t)}}var dc=x(4869),bl=x(9796),ji=x(7393);class q_ extends ji.L{notifyNext(t,e,i,r,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class z_ extends ji.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ah=x(7444),Pn=x(7574);function qp(n,t,e,i,r=new z_(n,e,i)){if(!r.closed)return t instanceof Pn.y?t.subscribe(r):(0,Ah.s)(t)(r)}var hc=x(6693);const zp={};class Wp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Yp(t,this.resultSelector))}}class Yp extends q_{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(qp(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,u=this.toRespond?r[i]===zp?--this.toRespond:this.toRespond:0;r[i]=e,0===u&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Vs=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Qo=x(3282);function ka(...n){return(0,Qo.J)(1)((0,ct.of)(...n))}var ws=x(9193);function Jo(n){return new Pn.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,dn.D)(e):(0,ws.c)()).subscribe(t)})}var tD=x(2441),wt=x(8002),Hr=x(5345);function si(n,t){return"function"==typeof t?e=>e.pipe(si((i,r)=>(0,dn.D)(n(i,r)).pipe((0,wt.U)((l,u)=>t(i,l,r,u))))):e=>e.lift(new Y_(n))}class Y_{constructor(t){this.project=t}call(t,e){return e.subscribe(new vi(t,this.project))}}class vi extends Hr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Hr.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,Hr.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Kp=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function bi(n){return t=>0===n?(0,ws.c)():t.lift(new iD(n))}class iD{constructor(t){if(this.total=t,this.total<0)throw new Kp}call(t,e){return e.subscribe(new K_(t,this.total))}}class K_ extends ji.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function No(...n){const t=n[n.length-1];return(0,dc.K)(t)?(n.pop(),e=>ka(n,e,t)):e=>ka(n,e)}function xa(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new rD(n,t,e))}}class rD{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Q_(t,this.accumulator,this.seed,this.hasSeed))}}class Q_ extends ji.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Nn(n,t){return function(i){return i.lift(new J_(n,t))}}class J_{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ou(t,this.predicate,this.thisArg))}}class Ou extends ji.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Oa(n){return function(e){const i=new er(n),r=e.lift(i);return i.caught=r}}class er{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ro(t,this.selector,this.caught))}}class Ro extends Hr.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const i=new Hr.IY(this);this.add(i);const r=(0,Hr.ft)(e,i);r!==i&&this.add(r)}}}var wi=x(9773);function Mh(n,t){return(0,wi.zg)(n,t,1)}function Qp(n){return function(e){return 0===n?(0,ws.c)():e.lift(new Us(n))}}class Us{constructor(t){if(this.total=t,this.total<0)throw new Kp}call(t,e){return e.subscribe(new Bs(t,this.total))}}class Bs extends ji.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let l=0;l<i;l++){const u=e++%i;t.next(r[u])}}t.complete()}}function pc(n=Nh){return t=>t.lift(new wl(n))}class wl{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Pa(t,this.errorFactory))}}class Pa extends ji.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Nh(){return new Vs}function X_(n=null){return t=>t.lift(new Jp(n))}class Jp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new sD(t,this.defaultValue))}}class sD extends ji.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Xp=x(4487);function tr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nn((r,l)=>n(r,l,i)):Xp.y,bi(1),e?X_(t):pc(()=>new Vs))}var Ci=x(8307),gc=x(1307),ko=x(5319);function mc(n){return t=>t.lift(new eg(n))}class eg{constructor(t){this.callback=t}call(t,e){return e.subscribe(new tg(t,this.callback))}}class tg extends ji.L{constructor(t,e){super(t),this.add(new ko.w(e))}}class Xo{constructor(t,e){this.id=t,this.url=e}}class kh extends Xo{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _c extends Xo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yc extends Xo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ng extends Xo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vc extends Xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oD extends Xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pu extends Xo{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fu extends Xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bc extends Xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ey{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s0{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ty{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class o0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yn(n){return new o0(n)}const Oh="ngNavigationCancelingError";function Ph(n){const t=Error("NavigationCancelingError: "+n);return t[Oh]=!0,t}function Cc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const u=i[l],f=n[l];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function co(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!rg(n[r],t[r]))return!1;return!0}function rg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function a0(n){return Array.prototype.concat.apply([],n)}function ea(n){return n.length>0?n[n.length-1]:null}function Zi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ur(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,dn.D)(Promise.resolve(n)):(0,ct.of)(n)}const Vu={exact:function iy(n,t,e){if(!Tl(n.segments,t.segments)||!Lh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!iy(n.children[i],t.children[i],e))return!1;return!0},subset:Dl},Fh={exact:function(n,t){return co(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>rg(n[e],t[e]))},ignored:()=>!0};function Uu(n,t,e){return Vu[e.paths](n.root,t.root,e.matrixParams)&&Fh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Dl(n,t,e){return Ec(n,t,t.segments,e)}function Ec(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Tl(r,e)||t.hasChildren()||!Lh(r,e,i))}if(n.segments.length===e.length){if(!Tl(n.segments,e)||!Lh(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Dl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Tl(n.segments,r)&&Lh(n.segments,r,i)&&n.children[Kt])&&Ec(n.children[Kt],t,l,i)}}function Lh(n,t,e){return t.every((i,r)=>Fh[e](n[r].parameters,i.parameters))}class La{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return sg.serialize(this)}}class pn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Zi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ta(this)}}class Bu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return Zu(this)}}function Tl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Vh{}class $u{parse(t){const e=new _(t);return new La(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${Hu(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${og(e)}=${og(r)}`).join("&"):`${og(e)}=${og(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const sg=new $u;function ta(n){return n.segments.map(t=>Zu(t)).join("/")}function Hu(n,t){if(!n.hasChildren())return ta(n);if(t){const e=n.children[Kt]?Hu(n.children[Kt],!1):"",i=[];return Zi(n.children,(r,l)=>{l!==Kt&&i.push(`${l}:${Hu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Zi(n.children,(i,r)=>{r===Kt&&(e=e.concat(t(i,r)))}),Zi(n.children,(i,r)=>{r!==Kt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Kt?[Hu(n.children[Kt],!1)]:[`${r}:${Hu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${ta(n)}/${e[0]}`:`${ta(n)}/(${e.join("//")})`}}function Uh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function og(n){return Uh(n).replace(/%3B/gi,";")}function ju(n){return Uh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tc(n){return decodeURIComponent(n)}function ag(n){return Tc(n.replace(/\+/g,"%20"))}function Zu(n){return`${ju(n.path)}${function(n){return Object.keys(n).map(t=>`;${ju(t)}=${ju(n[t])}`).join("")}(n.parameters)}`}const sy=/^[^\/()?;=#]+/;function Bh(n){const t=n.match(sy);return t?t[0]:""}const d0=/^[^=?&#]+/,na=/^[^?&#]+/;class _{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Kt]=new pn(t,e)),i}parseSegment(){const t=Bh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Bu(Tc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Bh(this.remaining);r&&(i=r,this.capture(i))}t[Tc(e)]=Tc(i)}parseQueryParam(t){const e=function(n){const t=n.match(d0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function(n){const t=n.match(na);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=ag(e),l=ag(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Bh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Kt);const u=this.parseChildren();e[l]=1===Object.keys(u).length?u[Kt]:new pn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class v{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=D(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=D(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=N(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return N(t,this._root).map(e=>e.value)}}function D(n,t){if(n===t.value)return t;for(const e of t.children){const i=D(n,e);if(i)return i}return null}function N(n,t){if(n===t.value)return[t];for(const e of t.children){const i=N(n,e);if(i.length)return i.unshift(t),i}return[]}class ${constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function pe(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ze extends v{constructor(t,e){super(t),this.snapshot=e,Gu(this,t)}toString(){return this.snapshot.toString()}}function ft(n,t){const e=function(n,t){const u=new uo([],{},{},"",{},Kt,t,null,n.root,-1,{});return new ra("",new $(u,[]))}(n,t),i=new ri([new Bu("",{})]),r=new ri({}),l=new ri({}),u=new ri({}),f=new ri(""),g=new nn(i,r,u,f,l,Kt,t,e.root);return g.snapshot=e.root,new Ze(new $(g,[]),e)}class nn{constructor(t,e,i,r,l,u,f,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(t=>Yn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(t=>Yn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ni(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class uo{constructor(t,e,i,r,l,u,f,g,y,E,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ra extends v{constructor(t,e){super(e),this.url=t,Gu(this,e)}toString(){return Cs(this._root)}}function Gu(n,t){t.value._routerState=n,t.children.forEach(e=>Gu(n,e))}function Cs(n){const t=n.children.length>0?` { ${n.children.map(Cs).join(", ")} } `:"";return`${n.value}${t}`}function Va(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,co(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),co(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!co(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),co(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qu(n,t){return co(n.params,t.params)&&function(n,t){return Tl(n,t)&&n.every((e,i)=>co(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||qu(n.parent,t.parent))}function Sc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Sc(n,i,r);return Sc(n,i)})}(n,t,e);return new $(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const u=l.route;return oy(t,u),u}}const i=function(n){return new nn(new ri(n.url),new ri(n.params),new ri(n.queryParams),new ri(n.fragment),new ri(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>Sc(n,l));return new $(i,r)}}function oy(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)oy(n.children[e],t.children[e])}function Ua(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Il(n){return"object"==typeof n&&null!=n&&n.outlets}function lD(n,t,e,i,r){let l={};return i&&Zi(i,(u,f)=>{l[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),new La(e.root===n?t:$N(e.root,n,t),l,r)}function $N(n,t,e){const i={};return Zi(n.children,(r,l)=>{i[l]=r===t?e:$N(r,t,e)}),new pn(n.segments,i)}class p0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ua(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Il);if(r&&r!==ea(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class g0{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function cg(n,t,e){if(n||(n=new pn([],{})),0===n.segments.length&&n.hasChildren())return ug(n,t,e);const i=function(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const u=n.segments[r],f=e[i];if(Il(f))break;const g=`${f}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!dD(g,y,u))return l;i+=2}else{if(!dD(g,{},u))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new pn(n.segments.slice(0,i.pathIndex),{});return l.children[Kt]=new pn(n.segments.slice(i.pathIndex),n.children),ug(l,0,r)}return i.match&&0===r.length?new pn(n.segments,{}):i.match&&!n.hasChildren()?_0(n,t,e):i.match?ug(n,0,r):_0(n,t,e)}function ug(n,t,e){if(0===e.length)return new pn(n.segments,{});{const i=function(n){return Il(n[0])?n[0].outlets:{[Kt]:n}}(e),r={};return Zi(i,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[u]=cg(n.children[u],t,l))}),Zi(n.children,(l,u)=>{void 0===i[u]&&(r[u]=l)}),new pn(n.segments,r)}}function _0(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(Il(l)){const g=Gi(l.outlets);return new pn(i,g)}if(0===r&&Ua(e[0])){i.push(new Bu(n.segments[t].path,uD(e[0]))),r++;continue}const u=Il(l)?l.outlets[Kt]:`${l}`,f=r<e.length-1?e[r+1]:null;u&&f&&Ua(f)?(i.push(new Bu(u,uD(f))),r+=2):(i.push(new Bu(u,{})),r++)}return new pn(i,{})}function Gi(n){const t={};return Zi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=_0(new pn([],{}),0,e))}),t}function uD(n){const t={};return Zi(n,(e,i)=>t[i]=`${e}`),t}function dD(n,t,e){return n==e.path&&co(t,e.parameters)}class hD{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Va(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=pe(e);t.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,r[u],i),delete r[u]}),Zi(r,(l,u)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=pe(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=pe(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new wc(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Lu(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(Va(r),r===l)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),fD(f.route)}else{const f=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),g=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=g,u.outlet&&u.outlet.activateWith(r,g),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}function fD(n){Va(n.value),n.children.forEach(fD)}class v0{constructor(t,e){this.routes=t,this.module=e}}function Ic(n){return"function"==typeof n}function Hh(n){return n instanceof La}const jh=Symbol("INITIAL_VALUE");function Zh(){return si(n=>function(...n){let t,e;return(0,dc.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,bl.k)(n[0])&&(n=n[0]),(0,hc.n)(n,e).lift(new Wp(t))}(n.map(t=>t.pipe(bi(1),No(jh)))).pipe(xa((t,e)=>{let i=!1;return e.reduce((r,l,u)=>r!==jh?r:(l===jh&&(i=!0),i||!1!==l&&u!==e.length-1&&!Hh(l)?r:l),t)},jh),Nn(t=>t!==jh),(0,wt.U)(t=>Hh(t)?t:!0===t),bi(1)))}let Ar=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[Yh]},encapsulation:2}),n})();function Gh(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];w0(i,zN(t,i))}}function w0(n,t){n.children&&Gh(n.children,t)}function zN(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function C0(n){const t=n.children&&n.children.map(C0),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Kt&&(e.component=Ar),e}function ho(n){return n.outlet||Kt}function pD(n,t){const e=n.filter(i=>ho(i)===t);return e.push(...n.filter(i=>ho(i)!==t)),e}const E0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ly(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},E0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||Cc)(e,n,t);if(!l)return Object.assign({},E0);const u={};Zi(l.posParams,(g,y)=>{u[y]=g.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:f,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function hg(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>qh(n,t,i)&&ho(i)!==Kt)}(n,e,i)){const u=new pn(t,function(n,t,e,i){const r={};r[Kt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&ho(l)!==Kt){const u=new pn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ho(l)]=u}return r}(n,t,i,new pn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>qh(n,t,i))}(n,e,i)){const u=new pn(n.segments,function(n,t,e,i,r,l){const u={};for(const f of i)if(qh(n,e,f)&&!r[ho(f)]){const g=new pn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===l?n.segments.length:t.length,u[ho(f)]=g}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const l=new pn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function qh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function D0(n,t,e,i){return!!(ho(n)===i||i!==Kt&&qh(t,e,n))&&("**"===n.path||ly(t,n,e).matched)}function mD(n,t,e){return 0===t.length&&!n.children[e]}class cy{constructor(t){this.segmentGroup=t||null}}class T0{constructor(t){this.urlTree=t}}function zu(n){return new Pn.y(t=>t.error(new cy(n)))}function _D(n){return new Pn.y(t=>t.error(new T0(n)))}function QN(n){return new Pn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class XN{constructor(t,e,i,r,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=hg(this.urlTree.root,[],[],this.config).segmentGroup,e=new pn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Kt).pipe((0,wt.U)(l=>this.createUrlTree(S0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oa(l=>{if(l instanceof T0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof cy?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Kt).pipe((0,wt.U)(r=>this.createUrlTree(S0(r),t.queryParams,t.fragment))).pipe(Oa(r=>{throw r instanceof cy?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new pn([],{[Kt]:t}):t;return new La(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,wt.U)(l=>new pn([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,dn.D)(r).pipe(Mh(l=>{const u=i.children[l],f=pD(e,l);return this.expandSegmentGroup(t,f,u,l).pipe((0,wt.U)(g=>({segment:g,outlet:l})))}),xa((l,u)=>(l[u.outlet]=u.segment,l),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nn((r,l)=>n(r,l,i)):Xp.y,Qp(1),e?X_(t):pc(()=>new Vs))}())}expandSegment(t,e,i,r,l,u){return(0,dn.D)(i).pipe(Mh(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,l,u).pipe(Oa(y=>{if(y instanceof cy)return(0,ct.of)(null);throw y}))),tr(f=>!!f),Oa((f,g)=>{if(f instanceof Vs||"EmptyError"===f.name){if(mD(e,r,l))return(0,ct.of)(new pn([],{}));throw new cy(e)}throw f}))}expandSegmentAgainstRoute(t,e,i,r,l,u,f){return D0(r,e,l,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u):zu(e):zu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_D(l):this.lineralizeSegments(i,l).pipe((0,wi.zg)(u=>{const f=new pn(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){const{matched:f,consumedSegments:g,lastChild:y,positionalParamSegments:E}=ly(e,r,l);if(!f)return zu(e);const T=this.applyRedirectCommands(g,r.redirectTo,E);return r.redirectTo.startsWith("/")?_D(T):this.lineralizeSegments(r,T).pipe((0,wi.zg)(I=>this.expandSegment(t,e,i,I.concat(l.slice(y)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,ct.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,wt.U)(I=>(i._loadedConfig=I,new pn(r,{})))):(0,ct.of)(new pn(r,{}));const{matched:u,consumedSegments:f,lastChild:g}=ly(e,i,r);if(!u)return zu(e);const y=r.slice(g);return this.getChildConfig(t,i,r).pipe((0,wi.zg)(T=>{const I=T.module,R=T.routes,{segmentGroup:U,slicedSegments:te}=hg(e,f,y,R),fe=new pn(U.segments,U.children);if(0===te.length&&fe.hasChildren())return this.expandChildren(I,R,fe).pipe((0,wt.U)(at=>new pn(f,at)));if(0===R.length&&0===te.length)return(0,ct.of)(new pn(f,{}));const We=ho(i)===l;return this.expandSegment(I,fe,R,te,We?Kt:l,!0).pipe((0,wt.U)(mt=>new pn(f.concat(mt.segments),mt.children)))}))}getChildConfig(t,e,i){return e.children?(0,ct.of)(new v0(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ct.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,wi.zg)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,wt.U)(l=>(e._loadedConfig=l,l))):(n=e,new Pn.y(t=>t.error(Ph(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,ct.of)(new v0([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,ct.of)(!0);const l=r.map(u=>{const f=t.get(u);let g;if((n=f)&&Ic(n.canLoad))g=f.canLoad(e,i);else{if(!Ic(f))throw new Error("Invalid CanLoad guard");g=f(e,i)}var n;return ur(g)});return(0,ct.of)(l).pipe(Zh(),(0,Ci.b)(u=>{if(!Hh(u))return;const f=Ph(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,wt.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,ct.of)(i);if(r.numberOfChildren>1||!r.children[Kt])return QN(t.redirectTo);r=r.children[Kt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new La(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Zi(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[l]=e[f]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let u={};return Zi(e.children,(f,g)=>{u[g]=this.createSegmentGroup(t,f,i,r)}),new pn(l,u)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function S0(n){const t={};for(const i of Object.keys(n.children)){const l=S0(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Kt]){const t=n.children[Kt];return new pn(n.segments.concat(t.segments),t.children)}return n}(new pn(n.segments,t))}class fg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ds{constructor(t,e){this.component=t,this.route=e}}function yD(n,t,e){const i=n._root;return dy(i,t?t._root:null,e,[i.value])}function uy(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function dy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=pe(t);return n.children.forEach(u=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const g=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Tl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Tl(n.url,t.url)||!co(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qu(n,t)||!co(n.queryParams,t.queryParams);case"paramsChange":default:return!qu(n,t)}}(u,l,l.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new fg(i)):(l.data=u.data,l._resolvedData=u._resolvedData),dy(n,t,l.component?f?f.children:null:e,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ds(f.outlet.component,u))}else u&&pg(t,f,r),r.canActivateChecks.push(new fg(i)),dy(n,null,l.component?f?f.children:null:e,i,r)})(u,l[u.value.outlet],e,i.concat([u.value]),r),delete l[u.value.outlet]}),Zi(l,(u,f)=>pg(u,e.getContext(f),r)),r}function pg(n,t,e){const i=pe(n),r=n.value;Zi(i,(l,u)=>{pg(l,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Ds(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class I0{}function hy(n){return new Pn.y(t=>t.error(n))}class CD{constructor(t,e,i,r,l,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const t=hg(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Kt);if(null===e)return null;const i=new uo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $(i,e),l=new ra(this.url,r);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=ni(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const u=e.children[l],f=pD(t,l),g=this.processSegmentGroup(f,u,l);if(null===g)return null;i.push(...g)}const r=fy(i);return r.sort((t,e)=>t.value.outlet===Kt?-1:e.value.outlet===Kt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const l of t){const u=this.processSegmentAgainstRoute(l,e,i,r);if(null!==u)return u}return mD(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!D0(t,e,i,r))return null;let l,u=[],f=[];if("**"===t.path){const R=i.length>0?ea(i).parameters:{};l=new uo(i,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wu(t),ho(t),t.component,t,A0(e),oR(e)+i.length,py(t))}else{const R=ly(e,t,i);if(!R.matched)return null;u=R.consumedSegments,f=i.slice(R.lastChild),l=new uo(u,R.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wu(t),ho(t),t.component,t,A0(e),oR(e)+u.length,py(t))}const g=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:y,slicedSegments:E}=hg(e,u,f,g.filter(R=>void 0===R.redirectTo),this.relativeLinkResolution);var n;if(0===E.length&&y.hasChildren()){const R=this.processChildren(g,y);return null===R?null:[new $(l,R)]}if(0===g.length&&0===E.length)return[new $(l,[])];const T=ho(t)===r,I=this.processSegment(g,y,E,T?Kt:r);return null===I?null:[new $(l,I)]}}function DD(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function fy(n){const t=[],e=new Set;for(const i of n){if(!DD(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=fy(i.children);t.push(new $(i.value,r))}return t.filter(i=>!e.has(i))}function A0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function oR(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Wu(n){return n.data||{}}function py(n){return n.resolve||{}}function N0(n){return si(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,wt.U)(()=>t)):(0,ct.of)(t)})}class hR extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const gy=new s.OlP("ROUTES");class my{constructor(t,e,i,r){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,wt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=l.create(t);return new v0(a0(u.injector.get(gy,void 0,s.XFs.Self|s.XFs.Optional)).map(C0),u)}),Oa(l=>{throw e._loader$=void 0,l}));return e._loader$=new tD.c(r,()=>new Tt.xQ).pipe((0,gc.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,dn.D)(this.loader.load(t)):ur(t()).pipe((0,wi.zg)(e=>e instanceof s.YKP?(0,ct.of)(e):(0,dn.D)(this.compiler.compileModuleAsync(e))))}}class ID{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ac,this.attachRef=null}}class Ac{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ID,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class pR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function AD(n){throw n}function MD(n,t,e){return t.parse("/")}function Mc(n,t){return(0,ct.of)(null)}const ND={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ki=(()=>{class n{constructor(e,i,r,l,u,f,g,y){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tt.xQ,this.errorHandler=AD,this.malformedUriErrorHandler=MD,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mc,afterPreactivation:Mc},this.urlHandlingStrategy=new pR,this.routeReuseStrategy=new hR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const I=u.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=new La(new pn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new my(f,g,R=>this.triggerEvent(new ey(R)),R=>this.triggerEvent(new xh(R))),this.routerState=ft(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Nn(r=>0!==r.id),(0,wt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),si(r=>{let l=!1,u=!1;return(0,ct.of)(r).pipe((0,Ci.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),si(f=>{const g=this.browserUrlTree.toString(),y=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return yy(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,ct.of)(f).pipe(si(T=>{const I=this.transitions.getValue();return i.next(new kh(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),I!==this.transitions.getValue()?ws.E:Promise.resolve(T)}),function(n,t,e,i){return si(r=>function(n,t,e,i,r){return new XN(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,wt.U)(l=>Object.assign(Object.assign({},r),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(n,t,e,i,r){return(0,wi.zg)(l=>function(n,t,e,i,r="emptyOnly",l="legacy"){try{const u=new CD(n,t,e,i,r,l).recognize();return null===u?hy(new I0):(0,ct.of)(u)}catch(u){return hy(u)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,r).pipe((0,wt.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(T=>{"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(T.urlAfterRedirects,T),this.browserUrlTree=T.urlAfterRedirects);const I=new vc(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(I)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:R,source:U,restoredState:te,extras:fe}=f,We=new kh(I,this.serializeUrl(R),U,te);i.next(We);const Je=ft(R,this.rootComponentType).snapshot;return(0,ct.of)(Object.assign(Object.assign({},f),{targetSnapshot:Je,urlAfterRedirects:R,extras:Object.assign(Object.assign({},fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),ws.E}),N0(f=>{const{targetSnapshot:g,id:y,extractedUrl:E,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:R}}=f;return this.hooks.beforePreactivation(g,{navigationId:y,appliedUrlTree:E,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!R})}),(0,Ci.b)(f=>{const g=new oD(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:yD(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,t){return(0,wi.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:u}}=e;return 0===u.length&&0===l.length?(0,ct.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,dn.D)(n).pipe((0,wi.zg)(r=>function(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,ct.of)(!0);const u=l.map(f=>{const g=uy(f,t,r);let y;if(function(n){return n&&Ic(n.canDeactivate)}(g))y=ur(g.canDeactivate(n,t,e,i));else{if(!Ic(g))throw new Error("Invalid CanDeactivate guard");y=ur(g(n,t,e,i))}return y.pipe(tr())});return(0,ct.of)(u).pipe(Zh())}(r.component,r.route,e,t,i)),tr(r=>!0!==r,!0))}(u,i,r,n).pipe((0,wi.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,t,e,i){return(0,dn.D)(t).pipe(Mh(r=>ka(function(n,t){return null!==n&&t&&t(new s0(n)),(0,ct.of)(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new ty(n)),(0,ct.of)(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Jo(()=>{const f=u.guards.map(g=>{const y=uy(g,u.node,e);let E;if(function(n){return n&&Ic(n.canActivateChild)}(y))E=ur(y.canActivateChild(i,n));else{if(!Ic(y))throw new Error("Invalid CanActivateChild guard");E=ur(y(i,n))}return E.pipe(tr())});return(0,ct.of)(f).pipe(Zh())}));return(0,ct.of)(l).pipe(Zh())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ct.of)(!0);const r=i.map(l=>Jo(()=>{const u=uy(l,t,e);let f;if(function(n){return n&&Ic(n.canActivate)}(u))f=ur(u.canActivate(t,n));else{if(!Ic(u))throw new Error("Invalid CanActivate guard");f=ur(u(t,n))}return f.pipe(tr())}));return(0,ct.of)(r).pipe(Zh())}(n,r.route,e))),tr(r=>!0!==r,!0))}(i,l,n,t):(0,ct.of)(f)),(0,wt.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ci.b)(f=>{if(Hh(f.guardsResult)){const y=Ph(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw y.url=f.guardsResult,y}const g=new Pu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),Nn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),N0(f=>{if(f.guards.canActivateChecks.length)return(0,ct.of)(f).pipe((0,Ci.b)(g=>{const y=new Fu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),si(g=>{let y=!1;return(0,ct.of)(g).pipe(function(n,t){return(0,wi.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,ct.of)(e);let l=0;return(0,dn.D)(r).pipe(Mh(u=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return(0,ct.of)({});const l={};return(0,dn.D)(r).pipe((0,wi.zg)(u=>function(n,t,e,i){const r=uy(n,t,i);return ur(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Ci.b)(f=>{l[u]=f}))),Qp(1),(0,wi.zg)(()=>Object.keys(l).length===r.length?(0,ct.of)(l):ws.E))}(n._resolve,n,t,i).pipe((0,wt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),ni(n,e).resolve),null)))}(u.route,i,n,t)),(0,Ci.b)(()=>l++),Qp(1),(0,wi.zg)(u=>l===r.length?(0,ct.of)(e):ws.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Ci.b)(g=>{const y=new bc(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}))}),N0(f=>{const{targetSnapshot:g,id:y,extractedUrl:E,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:R}}=f;return this.hooks.afterPreactivation(g,{navigationId:y,appliedUrlTree:E,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!R})}),(0,wt.U)(f=>{const g=function(n,t,e){const i=Sc(n,t._root,e?e._root:void 0);return new Ze(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,Ci.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,wt.U)(i=>(new hD(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ci.b)({next(){l=!0},complete(){l=!0}}),mc(()=>{var f;if(!l&&!u){const g=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,g)):this.cancelNavigationTransition(r,g)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Oa(f=>{if(u=!0,function(n){return n&&n[Oh]}(f)){const g=Hh(f.url);g||(this.navigated=!0,this.restoreHistory(r,!0));const y=new yc(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(y),g?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yy(r.source)};this.scheduleNavigation(E,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new ng(r.id,this.serializeUrl(r.extractedUrl),f);i.next(g);try{r.resolve(this.errorHandler(f))}catch(y){r.reject(y)}}return ws.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:l,urlTree:u}=i,f={replaceUrl:!0};if(l){const g=Object.assign({},l);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(f.state=g)}this.scheduleNavigation(u,r,l,f)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const r=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!r||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Gh(e),this.config=e.map(C0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,y=r||this.routerState.root,E=g?this.currentUrlTree.fragment:u;let T=null;switch(f){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=l||null}return null!==T&&(T=this.removeEmptyProps(T)),function(n,t,e,i,r){if(0===e.length)return lD(t.root,t.root,t,i,r);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new p0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Zi(l.outlets,(g,y)=>{f[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===u?(l.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,l]},[]);return new p0(e,t,i)}(e);if(l.toRoot())return lD(t.root,new pn([],{}),t,i,r);const u=function(n,t,e){if(n.isAbsolute)return new g0(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new g0(l,l===t.root,0)}const i=Ua(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new g0(i,!1,r-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),f=u.processChildren?ug(u.segmentGroup,u.index,l.commands):cg(u.segmentGroup,u.index,l.commands);return lD(u.segmentGroup,f,t,i,r)}(y,this.currentUrlTree,e,T,null!=E?E:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Hh(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},ND):!1===i?Object.assign({},RD):i,Hh(e))return Uu(this.currentUrlTree,e,r);const l=this.parseUrl(e);return Uu(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _c(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,u){var f,g;if(this.disposed)return Promise.resolve(!1);const y=this.getTransition(),E=yy(i)&&y&&!yy(y.source),R=(this.lastSuccessfulId===y.id||this.currentNavigation?y.rawUrl:y.urlAfterRedirects).toString()===e.toString();if(E&&R)return Promise.resolve(!0);let U,te,fe;u?(U=u.resolve,te=u.reject,fe=u.promise):fe=new Promise((mt,at)=>{U=mt,te=at});const We=++this.navigationId;let Je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Je=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):Je=0,this.setTransition({id:We,targetPageId:Je,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:U,reject:te,promise:fe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fe.catch(mt=>Promise.reject(mt))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){var r,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new yc(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.DyG),s.LFG(Vh),s.LFG(Ac),s.LFG(Lt),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function yy(n){return"imperative"!==n}let Yu=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new Tt.xQ,this.subscription=e.events.subscribe(l=>{l instanceof _c&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,l,u){if(0!==e||i||r||l||u||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:Ku(this.skipLocationChange),replaceUrl:Ku(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ku(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ki),s.Y36(nn),s.Y36(ye))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&(s.Ikx("href",i.href,s.LSH),s.uIk("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),n})();function Ku(n){return""===n||!!n}let Yh=(()=>{class n{constructor(e,i,r,l,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=l||Kt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new by(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ac),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class by{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===nn?this.route:t===Ac?this.childContexts:this.parent.get(t,e)}}class k0{}class O0{preload(t,e){return(0,ct.of)(null)}}let wy=(()=>{class n{constructor(e,i,r,l,u){this.router=e,this.injector=l,this.preloadingStrategy=u,this.loader=new my(i,r,y=>e.triggerEvent(new ey(y)),y=>e.triggerEvent(new xh(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(e=>e instanceof _c),Mh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(e,l)):l.children&&r.push(this.processRoutes(e,l.children));return(0,dn.D)(r).pipe((0,Qo.J)(),(0,wt.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,ct.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,wi.zg)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ki),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(k0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qu=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _c&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Cl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ki),s.LFG(qo),s.LFG(void 0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=new s.OlP("ROUTER_CONFIGURATION"),xD=new s.OlP("ROUTER_FORROOT_GUARD"),OD=[Lt,{provide:Vh,useClass:$u},{provide:ki,useFactory:function(n,t,e,i,r,l,u,f={},g,y){const E=new ki(null,n,t,e,i,r,l,a0(u));return g&&(E.urlHandlingStrategy=g),y&&(E.routeReuseStrategy=y),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(f,E),f.enableTracing&&E.events.subscribe(T=>{var I,R;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(R=console.groupEnd)||void 0===R||R.call(console)}),E},deps:[Vh,Ac,Lt,s.zs3,s.v3s,s.Sil,gy,Nc,[class{},new s.FiY],[class{},new s.FiY]]},Ac,{provide:nn,useFactory:function(n){return n.routerState.root},deps:[ki]},{provide:s.v3s,useClass:s.EAV},wy,O0,class{preload(t,e){return e().pipe(Oa(()=>(0,ct.of)(null)))}},{provide:Nc,useValue:{enableTracing:!1}}];function P0(){return new s.PXZ("Router",ki)}let F0=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[OD,L0(e),{provide:xD,useFactory:mR,deps:[[ki,new s.FiY,new s.tp0]]},{provide:Nc,useValue:i||{}},{provide:ye,useFactory:PD,deps:[X,[new s.tBr(ke),new s.FiY],Nc]},{provide:Qu,useFactory:h2,deps:[ki,qo,Nc]},{provide:k0,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:O0},{provide:s.PXZ,multi:!0,useFactory:P0},[V0,{provide:s.ip1,multi:!0,useFactory:FD,deps:[V0]},{provide:LD,useFactory:vR,deps:[V0]},{provide:s.tb,multi:!0,useExisting:LD}]]}}static forChild(e){return{ngModule:n,providers:[L0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xD,8),s.LFG(ki,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function h2(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Qu(n,t,e)}function PD(n,t,e={}){return e.useHash?new Ke(n,t):new $e(n,t)}function mR(n){return"guarded"}function L0(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:gy,multi:!0,useValue:n}]}let V0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Tt.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),l=this.injector.get(ki),u=this.injector.get(Nc);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,ct.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Nc),r=this.injector.get(wy),l=this.injector.get(Qu),u=this.injector.get(ki),f=this.injector.get(s.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function FD(n){return n.appInitializer.bind(n)}function vR(n){return n.bootstrapListener.bind(n)}const LD=new s.OlP("Router Initializer");var Me=x(8239);class VD{constructor(t){this.id="",this.name="",this.url="",this.email="",this.citit="",this.file=t}}var Kh=x(3637),gt=x(8995);function Zt(){return n=>n.lift(new UD)}class UD{call(t,e){return e.subscribe(new BD(t))}}class BD extends ji.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function oa(n,t){return e=>e.lift(new aa(n,t))}class aa{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new $D(t,this.compare,this.keySelector))}}class $D extends ji.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var lt,yr=x(8939),la=(x(4828),x(3394)),xi=x(8026),xo=x(3910),fo=x(5422),F=x(3854),jD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rc={},Qh=Qh||{},zt=jD||self;function Jh(){}function ZD(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function mg(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var qD="closure_uid_"+(1e9*Math.random()>>>0),wR=0;function p2(n,t,e){return n.call.apply(n.bind,arguments)}function zD(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Mr(n,t,e){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p2:zD).apply(null,arguments)}function Cy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function Ju(){this.s=this.s,this.o=this.o}var m2={};Ju.prototype.s=!1,Ju.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,qD)&&n[qD]||(n[qD]=++wR)}(this);delete m2[n]}},Ju.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CR=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},ER=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&t.call(e,r[l],l,n)};function DR(n){return Array.prototype.concat.apply([],arguments)}function WD(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function U0(n){return/^[\s\xa0]*$/.test(n)}var jr,TR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $s(n,t){return-1!=n.indexOf(t)}function Ha(n,t){return n<t?-1:n>t?1:0}e:{var YD=zt.navigator;if(YD){var B0=YD.userAgent;if(B0){jr=B0;break e}}jr=""}function _g(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function $0(n){const t={};for(const e in n)t[e]=n[e];return t}var Ey="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KD(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let l=0;l<Ey.length;l++)e=Ey[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function ja(n){return ja[" "](n),n}ja[" "]=Jh;var kc,n,SR=$s(jr,"Opera"),yg=$s(jr,"Trident")||$s(jr,"MSIE"),Dy=$s(jr,"Edge"),H0=Dy||yg,j0=$s(jr,"Gecko")&&!($s(jr.toLowerCase(),"webkit")&&!$s(jr,"Edge"))&&!($s(jr,"Trident")||$s(jr,"MSIE"))&&!$s(jr,"Edge"),IR=$s(jr.toLowerCase(),"webkit")&&!$s(jr,"Edge");function JD(){var n=zt.document;return n?n.documentMode:void 0}e:{var xc="",vg=(n=jr,j0?/rv:([^\);]+)(\)|;)/.exec(n):Dy?/Edge\/([\d\.]+)/.exec(n):yg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):IR?/WebKit\/(\S+)/.exec(n):SR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vg&&(xc=vg?vg[1]:""),yg){var Oc=JD();if(null!=Oc&&Oc>parseFloat(xc)){kc=String(Oc);break e}}kc=xc}var bg={};function Xh(){return t=bg,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=TR(String(kc)).split("."),e=TR("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",l=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=Ha(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||Ha(0==r[2].length,0==l[2].length)||Ha(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n}();var t}var XD=zt.document&&yg&&(JD()||parseInt(kc,10))||void 0,q0=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",Jh,t),zt.removeEventListener("test",Jh,t)}catch(e){}return n}();function Nr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function ef(n,t){if(Nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(j0){e:{try{ja(t.nodeName);var r=!0;break e}catch(l){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ty[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ef.Z.h.call(this)}}Nr.prototype.h=function(){this.defaultPrevented=!0},vr(ef,Nr);var Ty={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wg="closure_listenable_"+(1e6*Math.random()|0),eT=0;function y2(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++eT,this.ca=this.fa=!1}function Cg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Eg(n){this.src=n,this.g={},this.h=0}function z0(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],r=CR(i,t);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(Cg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Sy(n,t,e,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==i)return r}return-1}Eg.prototype.add=function(n,t,e,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=Sy(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new y2(t,this.src,l,!!i,r)).fa=e,n.push(t)),t};var W0="closure_lm_"+(1e6*Math.random()|0),Y0={};function Hs(n,t,e,i,r){if(i&&i.once)return MR(n,t,e,i,r);if(Array.isArray(t)){for(var l=0;l<t.length;l++)Hs(n,t[l],e,i,r);return null}return e=K0(e),n&&n[wg]?n.N(t,e,mg(i)?!!i.capture:!!i,r):tT(n,t,e,!1,i,r)}function tT(n,t,e,i,r,l){if(!t)throw Error("Invalid event type");var u=mg(r)?!!r.capture:!!r,f=Dg(n);if(f||(n[W0]=f=new Eg(n)),(e=f.add(t,e,i,u,l)).proxy)return e;if(i=function(){var t=kR;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)q0||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(RR(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function MR(n,t,e,i,r){if(Array.isArray(t)){for(var l=0;l<t.length;l++)MR(n,t[l],e,i,r);return null}return e=K0(e),n&&n[wg]?n.O(t,e,mg(i)?!!i.capture:!!i,r):tT(n,t,e,!0,i,r)}function NR(n,t,e,i,r){if(Array.isArray(t))for(var l=0;l<t.length;l++)NR(n,t[l],e,i,r);else i=mg(i)?!!i.capture:!!i,e=K0(e),n&&n[wg]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Sy(l=n.g[t],e,i,r))&&(Cg(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=Dg(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Sy(t,e,i,r)),(e=-1<n?t[n]:null)&&Iy(e))}function Iy(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[wg])z0(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(RR(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Dg(t))?(z0(e,n),0==e.h&&(e.src=null,t[W0]=null)):Cg(n)}}}function RR(n){return n in Y0?Y0[n]:Y0[n]="on"+n}function kR(n,t){if(n.ca)n=!0;else{t=new ef(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Iy(n),n=e.call(i,t)}return n}function Dg(n){return(n=n[W0])instanceof Eg?n:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function K0(n){return"function"==typeof n?n:(n[Ay]||(n[Ay]=function(t){return n.handleEvent(t)}),n[Ay])}function Rr(){Ju.call(this),this.i=new Eg(this),this.P=this,this.I=null}function Zr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Nr(t,n);else if(t instanceof Nr)t.target=t.target||n;else{var r=t;KD(t=new Nr(i,n),r)}if(r=!0,e)for(var l=e.length-1;0<=l;l--){var u=t.g=e[l];r=Tg(u,i,!0,t)&&r}if(r=Tg(u=t.g=n,i,!0,t)&&r,r=Tg(u,i,!1,t)&&r,e)for(l=0;l<e.length;l++)r=Tg(u=t.g=e[l],i,!1,t)&&r}function Tg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.ca&&u.capture==e){var f=u.listener,g=u.ia||u.src;u.fa&&z0(n.i,u),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}vr(Rr,Ju),Rr.prototype[wg]=!0,Rr.prototype.removeEventListener=function(n,t,e,i){NR(this,n,t,e,i)},Rr.prototype.M=function(){if(Rr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Cg(e[i]);delete n.g[t],n.h--}}this.I=null},Rr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Rr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Q0=zt.JSON.stringify;function nT(){var n=oT;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Oo,iT=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rT,n=>n.reset());class rT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function sT(n){zt.setTimeout(()=>{throw n},0)}function J0(n,t){Oo||function(){var n=zt.Promise.resolve(void 0);Oo=function(){n.then(v2)}}(),ew||(Oo(),ew=!0),oT.add(n,t)}var ew=!1,oT=new class{constructor(){this.h=this.g=null}add(t,e){const i=iT.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function v2(){for(var n;n=nT();){try{n.h.call(n.g)}catch(e){sT(e)}var t=iT;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}ew=!1}function Sg(n,t){Rr.call(this),this.h=n||1,this.g=t||zt,this.j=Mr(this.kb,this),this.l=Date.now()}function tw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function nw(n,t,e){if("function"==typeof n)e&&(n=Mr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mr(n.handleEvent,n)}return 2147483647<Number(t)?-1:zt.setTimeout(n,t||0)}function aT(n){n.g=nw(()=>{n.g=null,n.i&&(n.i=!1,aT(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}vr(Sg,Rr),(lt=Sg.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zr(this,"tick"),this.da&&(tw(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){Sg.Z.M.call(this),tw(this),delete this.g};class iw extends Ju{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:aT(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ig(n){Ju.call(this),this.h=n,this.g={}}vr(Ig,Ju);var lT=[];function Ag(n,t,e,i){Array.isArray(e)||(e&&(lT[0]=e.toString()),e=lT);for(var r=0;r<e.length;r++){var l=Hs(t,e[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function My(n){_g(n.g,function(t,e){this.g.hasOwnProperty(e)&&Iy(t)},n),n.g={}}function Ny(){this.g=!0}function Xu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<r.length;u++)r[u]=""}}}return Q0(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}Ig.prototype.M=function(){Ig.Z.M.call(this),My(this)},Ig.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ny.prototype.Aa=function(){this.g=!1},Ny.prototype.info=function(){};var Al={},FR=null;function Ry(){return FR=FR||new Rr}function ow(n){Nr.call(this,Al.Ma,n)}function tf(n){const t=Ry();Zr(t,new ow(t,n))}function aw(n,t){Nr.call(this,Al.STAT_EVENT,n),this.stat=t}function ss(n){const t=Ry();Zr(t,new aw(t,n))}function lw(n,t){Nr.call(this,Al.Na,n),this.size=t}function po(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},t)}Al.Ma="serverreachability",vr(ow,Nr),Al.STAT_EVENT="statevent",vr(aw,Nr),Al.Na="timingevent",vr(lw,Nr);var ed={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cw(){}function td(){}cw.prototype.h=null;var uw,nf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function nd(){Nr.call(this,"d")}function id(){Nr.call(this,"c")}function rf(){}function sf(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Ig(this),this.P=dT,this.W=new Sg(n=H0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uT}function uT(){this.i=null,this.g="",this.h=!1}vr(nd,Nr),vr(id,Nr),vr(rf,cw),rf.prototype.g=function(){return new XMLHttpRequest},rf.prototype.i=function(){return{}},uw=new rf;var dT=45e3,dw={},af={};function hw(n,t,e){n.K=1,n.v=Rg(ca(t)),n.s=e,n.U=!0,hT(n,null)}function hT(n,t){n.F=Date.now(),Mg(n),n.A=ca(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),mw(e.h,"t",i),n.C=0,e=n.l.H,n.h=new uT,n.g=Dw(n.l,e?t:null,!n.s),0<n.O&&(n.L=new iw(Mr(n.Ia,n,n.g),n.O)),Ag(n.V,n.g,"readystatechange",n.gb),t=n.H?$0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),tf(1),function(n,t,e,i,r,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),g=0;g<f.length;g++){var y=f[g].split("=");if(1<y.length){var E=y[0];y=y[1];var T=E.split("_");u=2<=T.length&&"type"==T[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function fw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function rd(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=fT(n,e),r==af){4==t&&(n.o=4,ss(14),i=!1),Xu(n.j,n.m,null,"[Incomplete Response]");break}if(r==dw){n.o=4,ss(15),Xu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Xu(n.j,n.m,r,null),pw(n,r)}fw(n)&&r!=af&&r!=dw&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ss(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Lc(t),t.L=!0,ss(11))):(Xu(n.j,n.m,e,"[Invalid Chunked Response]"),sd(n),Ng(n))}function fT(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?af:(e=Number(t.substring(e,i)),isNaN(e)?dw:(i+=1)+e>t.length?af:(t=t.substr(i,e),n.C=i+e,t))}function Mg(n){n.Y=Date.now()+n.P,pT(n,n.P)}function pT(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=po(Mr(n.eb,n),t)}function Ml(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Ng(n){0==n.l.G||n.I||bw(n.l,n)}function sd(n){Ml(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,tw(n.W),My(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function pw(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||_w(e.i,n)))if(e.I=n.N,!n.J&&_w(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=po(Mr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Nl(e),Za(e)}Fc(e),ss(18)}if(1>=Fy(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else Vc(e,11)}else if((n.J||e.g==n)&&Nl(e),!U0(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const E=y[3];null!=E&&(e.ma=E,e.h.info("VER="+e.ma));const T=y[4];null!=T&&(e.za=T,e.h.info("SVER="+e.za));const I=y[5];null!=I&&"number"==typeof I&&0<I&&(e.K=i=1.5*I,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const U=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var l=i.i;!l.g&&($s(U,"spdy")||$s(U,"quic")||$s(U,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Ly(l,l.h),l.h=null))}if(i.D){const te=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.sa=te,ui(i.F,i.D,te))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=Ew(i,i.H?i.la:null,i.W),u.J){yw(i.i,u);var f=u,g=i.K;g&&f.setTimeout(g),f.B&&(Ml(f),Mg(f)),i.g=u}else ud(i);0<e.l.length&&ff(e)}else"stop"!=y[0]&&"close"!=y[0]||Vc(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Vc(e,7):kr(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}tf(4)}catch(y){}}function gT(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ZD(n)||"string"==typeof n)ER(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(ZD(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;r=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ZD(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var l=0;l<r;l++)t.call(void 0,i[l],e&&e[l],n)}}function lf(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof lf)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function ky(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];$n(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)$n(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function $n(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(lt=sf.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const t=this.L;t&&3==mo(n)?t.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const E=mo(this.g);var t=this.g.Da();const T=this.g.ba();if(!(3>E)&&(3!=E||H0||this.g&&(this.h.h||this.g.ga()||MT(this.g)))){this.I||4!=E||7==t||tf(8==t||0>=T?3:2),Ml(this);var e=this.g.ba();this.N=e;t:if(fw(this)){var i=MT(this.g);n="";var r=i.length,l=4==mo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sd(this),Ng(this);var u="";break t}this.h.i=new zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function(n,t,e,i,r,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,E,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U0(f)){var y=f;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,ss(12),sd(this),Ng(this);break e}Xu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pw(this,e)}this.U?(rd(this,E,u),H0&&this.i&&3==E&&(Ag(this.V,this.W,"tick",this.fb),this.W.start())):(Xu(this.j,this.m,u,null),pw(this,u)),4==E&&sd(this),this.i&&!this.I&&(4==E?bw(this.l,this):(this.i=!1,Mg(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,ss(12)):(this.o=0,ss(13)),sd(this),Ng(this)}}}catch(E){}},lt.fb=function(){if(this.g){var n=mo(this.g),t=this.g.ga();this.C<t.length&&(Ml(this),rd(this,n,t),this.i&&4!=n&&Mg(this))}},lt.cancel=function(){this.I=!0,sd(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tf(3),ss(17)),sd(this),this.o=2,Ng(this)):pT(this,this.Y-n)},(lt=lf.prototype).R=function(){ky(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},lt.T=function(){return ky(this),this.g.concat()},lt.get=function(n,t){return $n(this.h,n)?this.h[n]:t},lt.set=function(n,t){$n(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},lt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],l=this.get(r);n.call(t,l,r,this)}};var xy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ts(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ts){this.g=void 0!==t?t:n.g,cf(this,n.j),this.s=n.s,gw(this,n.i),Oy(this,n.m),this.l=n.l,t=n.h;var e=new Pg;e.i=t.i,t.g&&(e.g=new lf(t.g),e.h=t.h),mT(this,e),this.o=n.o}else n&&(e=String(n).match(xy))?(this.g=!!t,cf(this,e[1]||"",!0),this.s=kg(e[2]||""),gw(this,e[3]||"",!0),Oy(this,e[4]),this.l=kg(e[5]||"",!0),mT(this,e[6]||"",!0),this.o=kg(e[7]||"")):(this.g=!!t,this.h=new Pg(null,this.g))}function ca(n){return new Ts(n)}function cf(n,t,e){n.j=e?kg(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function gw(n,t,e){n.i=e?kg(t,!0):t}function Oy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function mT(n,t,e){t instanceof Pg?(n.h=t,function(n,t){t&&!n.j&&(Pc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(ET(this,i),mw(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=xg(t,wT)),n.h=new Pg(t,n.g))}function ui(n,t,e){n.h.set(t,e)}function Rg(n){return ui(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kg(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xg(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Og),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Og(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ts.prototype.toString=function(){var n=[],t=this.j;t&&n.push(xg(t,Py,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(xg(t,Py,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(xg(e,"/"==e.charAt(0)?bT:vT,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",xg(e,CT)),n.join("")};var Py=/[#\/\?@]/g,vT=/[#\?:]/g,bT=/[#\?]/g,wT=/[#\?@]/g,CT=/#/g;function Pg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Pc(n){n.g||(n.g=new lf,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var l=n[e].substring(0,i);r=n[e].substring(i+1)}else l=n[e];t(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ET(n,t){Pc(n),t=Fg(n,t),$n(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,$n((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&ky(n)))}function DT(n,t){return Pc(n),t=Fg(n,t),$n(n.g.h,t)}function mw(n,t,e){ET(n,t),0<e.length&&(n.i=null,n.g.set(Fg(n,t),WD(e)),n.h+=e.length)}function Fg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ST(n){this.l=n||w2,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ea&&zt.g.Ea()&&zt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Pg.prototype).add=function(n,t){Pc(this),this.i=null,n=Fg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){Pc(this),this.g.forEach(function(e,i){ER(e,function(r){n.call(t,r,i,this)},this)},this)},lt.T=function(){Pc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],l=0;l<r.length;l++)e.push(t[i]);return e},lt.R=function(n){Pc(this);var t=[];if("string"==typeof n)DT(this,n)&&(t=DR(t,this.g.get(Fg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=DR(t,n[e])}return t},lt.set=function(n,t){return Pc(this),this.i=null,DT(this,n=Fg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var u=r;""!==i[l]&&(u+="="+encodeURIComponent(String(i[l]))),n.push(u)}}return this.i=n.join("&")};var w2=10;function BR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fy(n){return n.h?1:n.g?n.g.size:0}function _w(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Ly(n,t){n.g?n.g.add(t):n.h=t}function yw(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function $R(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return WD(n.i)}function go(){}function C2(){this.g=new go}function E2(n,t,e){const i=e||"";try{gT(n,function(r,l){let u=r;mg(r)&&(u=Q0(r)),t.push(i+l+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Lg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(l){}}function uf(n){this.l=n.$b||null,this.j=n.ib||!1}function Vg(n,t){Rr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=vw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ST.prototype.cancel=function(){if(this.i=$R(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},go.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},go.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},vr(uf,cw),uf.prototype.g=function(){return new Vg(this.l,this.j)},uf.prototype.i=function(n){return function(){return n}}({}),vr(Vg,Rr);var vw=0;function HR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function df(n){n.readyState=4,n.l=null,n.j=null,n.A=null,od(n)}function od(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=Vg.prototype).open=function(n,t){if(this.readyState!=vw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,od(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||zt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,df(this)),this.readyState=vw},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==zt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?df(this):od(this),3==this.readyState&&HR(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,df(this))},lt.Ta=function(n){this.g&&(this.response=n,df(this))},lt.ha=function(){this.g&&df(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jR=zt.JSON.parse;function qi(n){Rr.call(this),this.headers=new lf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IT,this.K=this.L=!1}vr(qi,Rr);var IT="",ZR=/^https?$/i,GR=["POST","PUT"];function zR(n){return"content-type"==n.toLowerCase()}function AT(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Ug(n),Bg(n)}function Ug(n){n.D||(n.D=!0,Zr(n,"complete"),Zr(n,"error"))}function ad(n){if(n.h&&void 0!==Qh&&(!n.C[1]||4!=mo(n)||2!=n.ba()))if(n.v&&4==mo(n))nw(n.Fa,0,n);else if(Zr(n,"readystatechange"),4==mo(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(xy)[1]||null;if(!r&&zt.self&&zt.self.location){var l=zt.self.location.protocol;r=l.substr(0,l.length-1)}i=!ZR.test(r?r.toLowerCase():"")}e=i}if(e)Zr(n,"complete"),Zr(n,"success");else{n.m=6;try{var u=2<mo(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",Ug(n)}}finally{Bg(n)}}}function Bg(n,t){if(n.g){Po(n);const e=n.g,i=n.C[0]?Jh:null;n.g=null,n.C=null,t||Zr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Po(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function mo(n){return n.g?n.g.readyState:0}function MT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $g(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return _g(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ui(n,t,e))}function js(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function hf(n){this.za=0,this.l=[],this.h=new Ny,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=js("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=js("baseRetryDelayMs",5e3,n),this.$a=js("retryDelaySeedMs",1e4,n),this.Ya=js("forwardChannelMaxRetries",2,n),this.ra=js("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ST(n&&n.concurrentRequestLimit),this.Ca=new C2,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function kr(n){if(Hg(n),3==n.G){var t=n.V++,e=ca(n.F);ui(e,"SID",n.J),ui(e,"RID",t),ui(e,"TYPE","terminate"),Ga(n,e),(t=new sf(n,n.h,t,void 0)).K=2,t.v=Rg(ca(e)),e=!1,zt.navigator&&zt.navigator.sendBeacon&&(e=zt.navigator.sendBeacon(t.v.toString(),"")),!e&&zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Dw(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mg(t)}Cw(n)}function Za(n){n.g&&(Lc(n),n.g.cancel(),n.g=null)}function Hg(n){Za(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Nl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Zs(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&ff(n)}function ff(n){BR(n.i)||n.m||(n.m=!0,J0(n.Ha,n),n.C=0)}function ld(n,t){var e;e=t?t.m:n.V++;const i=ca(n.F);ui(i,"SID",n.J),ui(i,"RID",e),ui(i,"AID",n.U),Ga(n,i),n.o&&n.s&&$g(i,n.o,n.s),e=new sf(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=cd(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ly(n.i,e),hw(e,i,t)}function Ga(n,t){n.j&&gT({},function(e,i){ui(t,i,e)})}function cd(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Mr(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const u=["count="+e];-1==l?0<e?(l=r[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let g=0;g<e;g++){let y=r[g].h;const E=r[g].g;if(y-=l,0>y)l=Math.max(0,r[g].h-100),f=!1;else try{E2(E,u,"req"+y+"_")}catch(T){i&&i(E)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function ud(n){n.g||n.u||(n.Y=1,J0(n.Ga,n),n.A=0)}function Fc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=po(Mr(n.Ga,n),ww(n,n.A)),n.A++,0))}function Lc(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function dd(n){n.g=new sf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=ca(n.oa);ui(t,"RID","rpc"),ui(t,"SID",n.J),ui(t,"CI",n.N?"0":"1"),ui(t,"AID",n.U),Ga(n,t),ui(t,"TYPE","xmlhttp"),n.o&&n.s&&$g(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Rg(ca(t)),e.s=null,e.U=!0,hT(e,n)}function Nl(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function bw(n,t){var e=null;if(n.g==t){Nl(n),Lc(n),n.g=null;var i=2}else{if(!_w(n.i,t))return;e=t.D,yw(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Zr(i=Ry(),new lw(i,e,t,r)),ff(n)}else ud(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function(n,t){return!(Fy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=po(Mr(n.Ha,n,t),ww(n,n.C)),n.C++,0)))}(n,t)||2==i&&Fc(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Vc(n,5);break;case 4:Vc(n,10);break;case 3:Vc(n,6);break;default:Vc(n,2)}}function ww(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Vc(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Mr(n.jb,n);e||(e=new Ts("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||cf(e,"https"),Rg(e)),function(n,t){const e=new Ny;if(zt.Image){const i=new Image;i.onload=Cy(Lg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Cy(Lg,e,i,"TestLoadImage: error",!1,t),i.onabort=Cy(Lg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Cy(Lg,e,i,"TestLoadImage: timeout",!1,t),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ss(2);n.G=0,n.j&&n.j.va(t),Cw(n),Hg(n)}function Cw(n){n.G=0,n.I=-1,n.j&&((0!=$R(n.i).length||0!=n.l.length)&&(n.i.i.length=0,WD(n.l),n.l.length=0),n.j.ua())}function Ew(n,t,e){let i=function(n){return n instanceof Ts?ca(n):new Ts(n,void 0)}(e);if(""!=i.i)t&&gw(i,t+"."+i.i),Oy(i,i.m);else{const r=zt.location;i=function(n,t,e,i){var r=new Ts(null,void 0);return n&&cf(r,n),t&&gw(r,t),e&&Oy(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&_g(n.aa,function(r,l){ui(i,l,r)}),e=n.sa,(t=n.D)&&e&&ui(i,t,e),ui(i,"VER",n.ma),Ga(n,i),i}function Dw(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new qi(e&&n.Ba&&!n.qa?new uf({ib:!0}):n.qa)).L=n.H,t}function Tw(){}function jg(){if(yg&&!(10<=Number(XD)))throw Error("Environmental error: no available transport.")}function Gs(n,t){Rr.call(this),this.g=new hf(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!U0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!U0(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new gf(this)}function NT(n){nd.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Sw(){id.call(this),this.status=1}function gf(n){this.g=n}(lt=qi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uw.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:uw),this.g.onreadystatechange=Mr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void AT(this,l)}n=e||"";const r=new lf(this.headers);i&&gT(i,function(l,u){r.set(u,l)}),i=function(n){e:{var t=zR;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=zt.FormData&&n instanceof zt.FormData,!(0<=CR(GR,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Po(this),0<this.B&&((this.K=function(n){return yg&&Xh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.pa,this)):this.A=nw(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){AT(this,l)}},lt.pa=function(){void 0!==Qh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zr(this,"complete"),Zr(this,"abort"),Bg(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bg(this,!0)),qi.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?ad(this):this.cb())},lt.cb=function(){ad(this)},lt.ba=function(){try{return 2<mo(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),jR(t)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=hf.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new sf(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=$0(l),KD(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=cd(this,r,t),ui(e=ca(this.F),"RID",n),ui(e,"CVER",22),this.D&&ui(e,"X-HTTP-Session-Id",this.D),Ga(this,e),this.o&&l&&$g(e,this.o,l),Ly(this.i,r),this.Ra&&ui(e,"TYPE","init"),this.ja?(ui(e,"$req",t),ui(e,"SID","null"),r.$=!0,hw(r,e,null)):hw(r,e,t),this.G=2}}else 3==this.G&&(n?ld(this,n):0==this.l.length||BR(this.i)||ld(this))},lt.Ga=function(){if(this.u=null,dd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=po(Mr(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ss(10),Za(this),dd(this))},lt.ab=function(){null!=this.v&&(this.v=null,Za(this),Fc(this),ss(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ss(2)):(this.h.info("Failed to ping google.com"),ss(1))},(lt=Tw.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},jg.prototype.g=function(n,t){return new Gs(n,t)},vr(Gs,Rr),Gs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),J0(Mr(n.hb,n,t))),ss(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Ew(n,null,n.W),ff(n)},Gs.prototype.close=function(){kr(this.g)},Gs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Zs(this.g,t)}else this.v?((t={}).__data__=Q0(n),Zs(this.g,t)):Zs(this.g,n)},Gs.prototype.M=function(){this.g.j=null,delete this.j,kr(this.g),delete this.g,Gs.Z.M.call(this)},vr(NT,nd),vr(Sw,id),vr(gf,Tw),gf.prototype.xa=function(){Zr(this.g,"a")},gf.prototype.wa=function(n){Zr(this.g,new NT(n))},gf.prototype.va=function(n){Zr(this.g,new Sw(n))},gf.prototype.ua=function(){Zr(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,ed.NO_ERROR=0,ed.TIMEOUT=8,ed.HTTP_ERROR=6,cT.COMPLETE="complete",td.EventType=nf,nf.OPEN="a",nf.CLOSE="b",nf.ERROR="c",nf.MESSAGE="d",Rr.prototype.listen=Rr.prototype.N,qi.prototype.listenOnce=qi.prototype.O,qi.prototype.getLastError=qi.prototype.La,qi.prototype.getLastErrorCode=qi.prototype.Da,qi.prototype.getStatus=qi.prototype.ba,qi.prototype.getResponseJson=qi.prototype.Qa,qi.prototype.getResponseText=qi.prototype.ga,qi.prototype.send=qi.prototype.ea;var RT=Rc.createWebChannelTransport=function(){return new jg},kT=Rc.getStatEventTarget=function(){return Ry()},Iw=Rc.ErrorCode=ed,T2=Rc.EventType=cT,YR=Rc.Event=Al,Aw=Rc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},KR=Rc.FetchXmlHttpFactory=uf,Zg=Rc.WebChannel=td,QR=Rc.XhrIo=qi;const xT="@firebase/firestore";class os{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let mf="9.4.0";const Rl=new fo.Yd("@firebase/firestore");function OT(){return Rl.logLevel}function et(n,...t){if(Rl.logLevel<=fo.in.DEBUG){const e=t.map(Mw);Rl.debug(`Firestore (${mf}): ${n}`,...e)}}function dr(n,...t){if(Rl.logLevel<=fo.in.ERROR){const e=t.map(Mw);Rl.error(`Firestore (${mf}): ${n}`,...e)}}function Vy(n,...t){if(Rl.logLevel<=fo.in.WARN){const e=t.map(Mw);Rl.warn(`Firestore (${mf}): ${n}`,...e)}}function Mw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Rt(n="Unexpected state"){const t=`FIRESTORE (${mf}) INTERNAL ASSERTION FAILED: `+n;throw dr(t),new Error(t)}function Ut(n,t){n||Rt()}function st(n,t){return n}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PT{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class FT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(os.UNAUTHENTICATED))}shutdown(){}}class I2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class JR{constructor(t){this.t=t,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const l=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable((0,Me.Z)(function*(){yield y.promise,yield l(i.currentUser)}))},g=y=>{et("FirebaseCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(et("FirebaseCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(et("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new PT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new os(t)}}class _f{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=os.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class XR{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new _f(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.g(i),this.p=i=>e.writeSequenceNumber(i))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function ek(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}qs.T=-1;class Rw{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=ek(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<e&&(i+=t.charAt(r[l]%t.length))}return i}}function gn(n,t){return n<t?-1:n>t?1:0}function yf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function kw(n){return n+"\0"}class xr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xr.fromMillis(Date.now())}static fromDate(t){return xr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new xr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gn(this.nanoseconds,t.nanoseconds):gn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(t){this.timestamp=t}static fromTimestamp(t){return new an(t)}static min(){return new an(new xr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function VT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class vf{constructor(t,e,i){void 0===e?e=0:e>t.length&&Rt(),void 0===i?i=t.length-e:i>t.length-e&&Rt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===vf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const l=t.get(r),u=e.get(r);if(l<u)return-1;if(l>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Fn extends vf{construct(t,e,i){return new Fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new qe(Re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Fn(e)}static emptyPath(){return new Fn([])}}const UT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends vf{construct(t,e,i){return new Or(t,e,i)}static isValidIdentifier(t){return UT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const l=()=>{if(0===i.length)throw new qe(Re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new qe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new qe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(l(),r++)}if(l(),u)throw new qe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Or(e)}static emptyPath(){return new Or([])}}class Uc{constructor(t){this.fields=t,t.sort(Or.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class hr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new hr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(t);return new hr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fd(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=tk.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ei(n.seconds),nanos:Ei(n.nanos)}}function Ei(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bf(n){return"string"==typeof n?hr.fromBase64String(n):hr.fromUint8Array(n)}function Gg(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Uy(n){const t=n.mapValue.fields.__previous_value__;return Gg(t)?Uy(t):t}function qg(n){const t=fd(n.mapValue.fields.__local_write_time__.timestampValue);return new xr(t.seconds,t.nanos)}function kl(n){return null==n}function wf(n){return 0===n&&1/n==-1/0}function xw(n){return"number"==typeof n&&Number.isInteger(n)&&!wf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class It{constructor(t){this.path=t}static fromPath(t){return new It(Fn.fromString(t))}static fromName(t){return new It(Fn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Fn(t.slice()))}}function pd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gg(n)?4:10:Rt()}function Fo(n,t){const e=pd(n);if(e!==pd(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qg(n).isEqual(qg(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=fd(i.timestampValue),u=fd(r.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,bf(n.bytesValue).isEqual(bf(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ei(i.geoPointValue.latitude)===Ei(r.geoPointValue.latitude)&&Ei(i.geoPointValue.longitude)===Ei(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ei(i.integerValue)===Ei(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=Ei(i.doubleValue),u=Ei(r.doubleValue);return l===u?wf(l)===wf(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return yf(n.arrayValue.values||[],t.arrayValue.values||[],Fo);case 10:return function(i,r){const l=i.mapValue.fields||{},u=r.mapValue.fields||{};if(LT(l)!==LT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!Fo(l[f],u[f])))return!1;return!0}(n,t);default:return Rt()}var r}function gd(n,t){return void 0!==(n.values||[]).find(e=>Fo(e,t))}function md(n,t){const e=pd(n),i=pd(t);if(e!==i)return gn(e,i);switch(e){case 0:return 0;case 1:return gn(n.booleanValue,t.booleanValue);case 2:return function(r,l){const u=Ei(r.integerValue||r.doubleValue),f=Ei(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return Ow(n.timestampValue,t.timestampValue);case 4:return Ow(qg(n),qg(t));case 5:return gn(n.stringValue,t.stringValue);case 6:return function(r,l){const u=bf(r),f=bf(l);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,l){const u=r.split("/"),f=l.split("/");for(let g=0;g<u.length&&g<f.length;g++){const y=gn(u[g],f[g]);if(0!==y)return y}return gn(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,l){const u=gn(Ei(r.latitude),Ei(l.latitude));return 0!==u?u:gn(Ei(r.longitude),Ei(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,l){const u=r.values||[],f=l.values||[];for(let g=0;g<u.length&&g<f.length;++g){const y=md(u[g],f[g]);if(y)return y}return gn(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,l){const u=r.fields||{},f=Object.keys(u),g=l.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let E=0;E<f.length&&E<y.length;++E){const T=gn(f[E],y[E]);if(0!==T)return T;const I=md(u[f[E]],g[y[E]]);if(0!==I)return I}return gn(f.length,y.length)}(n.mapValue,t.mapValue);default:throw Rt()}}function Ow(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return gn(n,t);const e=fd(n),i=fd(t),r=gn(e.seconds,i.seconds);return 0!==r?r:gn(e.nanos,i.nanos)}function zg(n){return By(n)}function By(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=fd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bf(n.bytesValue).toBase64():"referenceValue"in n?It.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=By(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${By(i.fields[f])}`;return l+"}"}(n.mapValue):Rt();var t}function Cf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Wg(n){return!!n&&"integerValue"in n}function Yg(n){return!!n&&"arrayValue"in n}function BT(n){return!!n&&"nullValue"in n}function Pw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kg(n){return!!n&&"mapValue"in n}function _d(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return hd(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=_d(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_d(n.arrayValue.values[e]);return t}return Object.assign({},n)}class qr{constructor(t){this.value=t}static empty(){return new qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Kg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_d(e)}setAll(t){let e=Or.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=_d(u):r.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,r)}delete(t){const e=this.field(t.popLast());Kg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Kg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){hd(e,(r,l)=>t[r]=l);for(const r of i)delete t[r]}clone(){return new qr(_d(this.value))}}function $T(n){const t=[];return hd(n.fields,(e,i)=>{const r=new Or([e]);if(Kg(i)){const l=$T(i.mapValue).fields;if(0===l.length)t.push(r);else for(const u of l)t.push(r.child(u))}else t.push(r)}),new Uc(t)}class di{constructor(t,e,i,r,l){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=l}static newInvalidDocument(t){return new di(t,0,an.min(),qr.empty(),0)}static newFoundDocument(t,e,i){return new di(t,1,e,i,0)}static newNoDocument(t,e){return new di(t,2,e,qr.empty(),0)}static newUnknownDocument(t,e){return new di(t,3,e,qr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new di(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class HT{constructor(t,e=null,i=[],r=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=u,this.endAt=f,this.A=null}}function $y(n,t=null,e=[],i=[],r=null,l=null,u=null){return new HT(n,t,e,i,r,l,u)}function Bc(n){const t=st(n);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+zg(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),kl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Xg(t.startAt)),t.endAt&&(e+="|ub:",e+=Xg(t.endAt)),t.A=e}return t.A}function Qg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!ok(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Fo(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YT(n.startAt,t.startAt)&&YT(n.endAt,t.endAt)}function Jg(n){return It.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class as extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,i):new GT(t,e,i):"array-contains"===e?new ik(t,i):"in"===e?new rk(t,i):"not-in"===e?new WT(t,i):"array-contains-any"===e?new sk(t,i):new as(t,e,i)}static R(t,e,i){return"in"===e?new qT(t,i):new zT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(md(e,this.value)):null!==e&&pd(this.value)===pd(e)&&this.P(md(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Rt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GT extends as{constructor(t,e,i){super(t,e,i),this.key=It.fromName(i.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.P(e)}}class qT extends as{constructor(t,e){super(t,"in",e),this.keys=nk(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zT extends as{constructor(t,e){super(t,"not-in",e),this.keys=nk(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nk(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>It.fromName(i.referenceValue))}class ik extends as{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yg(e)&&gd(e.arrayValue,this.value)}}class rk extends as{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gd(this.value.arrayValue,e)}}class WT extends as{constructor(t,e){super(t,"not-in",e)}matches(t){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gd(this.value.arrayValue,e)}}class sk extends as{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>gd(this.value.arrayValue,i))}}class Oi{constructor(t,e){this.position=t,this.before=e}}function Xg(n){return`${n.before?"b":"a"}:${n.position.map(t=>zg(t)).join(",")}`}class Ef{constructor(t,e="asc"){this.field=t,this.dir=e}}function ok(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Fw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const l=t[r],u=n.position[r];if(i=l.field.isKeyField()?It.comparator(It.fromName(u.referenceValue),e.key):md(u,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function YT(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fo(n.position[e],t.position[e]))return!1;return!0}class qa{constructor(t,e=null,i=[],r=[],l=null,u="F",f=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=g,this.V=null,this.S=null}}function Lw(n,t,e,i,r,l,u,f){return new qa(n,t,e,i,r,l,u,f)}function ua(n){return new qa(n)}function Hy(n){return!kl(n.limit)&&"F"===n.limitType}function jy(n){return!kl(n.limit)&&"L"===n.limitType}function Zy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Vw(n){for(const t of n.filters)if(t.v())return t.field;return null}function Gy(n){return null!==n.collectionGroup}function em(n){const t=st(n);if(null===t.V){t.V=[];const e=Vw(t),i=Zy(t);if(null!==e&&null===i)e.isKeyField()||t.V.push(new Ef(e)),t.V.push(new Ef(Or.keyField(),"asc"));else{let r=!1;for(const l of t.explicitOrderBy)t.V.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Ef(Or.keyField(),l))}}}return t.V}function zs(n){const t=st(n);if(!t.S)if("F"===t.limitType)t.S=$y(t.path,t.collectionGroup,em(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of em(t))e.push(new Ef(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new Oi(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Oi(t.startAt.position,!t.startAt.before):null;t.S=$y(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.S}function qy(n,t,e){return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ws(n,t){return Qg(zs(n),zs(t))&&n.limitType===t.limitType}function KT(n){return`${Bc(zs(n))}|lt:${n.limitType}`}function zy(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${zg(i.value)}`;var i}).join(", ")}]`),kl(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+Xg(n.startAt)),n.endAt&&(t+=", endAt: "+Xg(n.endAt)),`Target(${t})`}(zs(n))}; limitType=${n.limitType})`}function Ys(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):It.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!Fw(e.startAt,em(e),i)||e.endAt&&Fw(e.endAt,em(e),i)));var e,i}function Lo(n){return(t,e)=>{let i=!1;for(const r of em(n)){const l=da(r,t,e);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function da(n,t,e){const i=n.field.isKeyField()?It.comparator(t.key,e.key):function(r,l,u){const f=l.data.field(r),g=u.data.field(r);return null!==f&&null!==g?md(f,g):Rt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt()}}function Uw(n,t){if(n.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function Bw(n){return{integerValue:""+n}}function QT(n,t){return xw(t)?Bw(t):Uw(n,t)}class Wy{constructor(){this._=void 0}}function ak(n,t,e){return n instanceof za?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(e,t):n instanceof yd?$w(n,t):n instanceof vd?Hw(n,t):function(i,r){const l=Yy(i,r),u=tm(l)+tm(i.C);return Wg(l)&&Wg(i.C)?Bw(u):Uw(i.N,u)}(n,t)}function lk(n,t,e){return n instanceof yd?$w(n,t):n instanceof vd?Hw(n,t):e}function Yy(n,t){return n instanceof bd?Wg(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class za extends Wy{}class yd extends Wy{constructor(t){super(),this.elements=t}}function $w(n,t){const e=JT(t);for(const i of n.elements)e.some(r=>Fo(r,i))||e.push(i);return{arrayValue:{values:e}}}class vd extends Wy{constructor(t){super(),this.elements=t}}function Hw(n,t){let e=JT(t);for(const i of n.elements)e=e.filter(r=>!Fo(r,i));return{arrayValue:{values:e}}}class bd extends Wy{constructor(t,e){super(),this.N=t,this.C=e}}function tm(n){return Ei(n.integerValue||n.doubleValue)}function JT(n){return Yg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Df{constructor(t,e){this.field=t,this.transform=e}}class jw{constructor(t,e){this.version=t,this.transformResults=e}}class Pi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tf(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class nm{}function eS(n,t,e){n instanceof Sf?function(i,r,l){const u=i.value.clone(),f=iS(i.fieldTransforms,r,l.transformResults);u.setAll(f),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof $c?function(i,r,l){if(!Tf(i.precondition,r))return void r.convertToUnknownDocument(l.version);const u=iS(i.fieldTransforms,r,l.transformResults),f=r.data;f.setAll(nS(i)),f.setAll(u),r.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ky(n,t,e){var r;n instanceof Sf?function(i,r,l){if(!Tf(i.precondition,r))return;const u=i.value.clone(),f=qw(i.fieldTransforms,l,r);u.setAll(f),r.convertToFoundDocument(Gw(r),u).setHasLocalMutations()}(n,t,e):n instanceof $c?function(i,r,l){if(!Tf(i.precondition,r))return;const u=qw(i.fieldTransforms,l,r),f=r.data;f.setAll(nS(i)),f.setAll(u),r.convertToFoundDocument(Gw(r),f).setHasLocalMutations()}(n,t,e):Tf(n.precondition,r=t)&&r.convertToNoDocument(an.min())}function tS(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),l=Yy(i.transform,r||null);null!=l&&(null==e&&(e=qr.empty()),e.set(i.field,l))}return e||null}function Zw(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&yf(e,i,(r,l)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof yd&&i instanceof yd||e instanceof vd&&i instanceof vd?yf(e.elements,i.elements,Fo):e instanceof bd&&i instanceof bd?Fo(e.C,i.C):e instanceof za&&i instanceof za);var e,i}(r,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function Gw(n){return n.isFoundDocument()?n.version:an.min()}class Sf extends nm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class $c extends nm{constructor(t,e,i,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function nS(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function iS(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const l=n[r],u=l.transform,f=t.data.field(l.field);i.set(l.field,lk(u,f,e[r]))}return i}function qw(n,t,e){const i=new Map;for(const r of n){const l=r.transform,u=e.data.field(r.field);i.set(r.field,ak(l,u,t))}return i}class im extends nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class zw extends nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class ck{constructor(t){this.count=t}}var fr,Mn;function rS(n){switch(n){default:return Rt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function sS(n){if(void 0===n)return dr("GRPC error has no .code"),Re.UNKNOWN;switch(n){case fr.OK:return Re.OK;case fr.CANCELLED:return Re.CANCELLED;case fr.UNKNOWN:return Re.UNKNOWN;case fr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case fr.INTERNAL:return Re.INTERNAL;case fr.UNAVAILABLE:return Re.UNAVAILABLE;case fr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case fr.NOT_FOUND:return Re.NOT_FOUND;case fr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case fr.ABORTED:return Re.ABORTED;case fr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case fr.DATA_LOSS:return Re.DATA_LOSS;default:return Rt()}}(Mn=fr||(fr={}))[Mn.OK=0]="OK",Mn[Mn.CANCELLED=1]="CANCELLED",Mn[Mn.UNKNOWN=2]="UNKNOWN",Mn[Mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mn[Mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mn[Mn.NOT_FOUND=5]="NOT_FOUND",Mn[Mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mn[Mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mn[Mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mn[Mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mn[Mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mn[Mn.ABORTED=10]="ABORTED",Mn[Mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mn[Mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mn[Mn.INTERNAL=13]="INTERNAL",Mn[Mn.UNAVAILABLE=14]="UNAVAILABLE",Mn[Mn.DATA_LOSS=15]="DATA_LOSS";class br{constructor(t,e){this.comparator=t,this.root=e||zr.EMPTY}insert(t,e){return new br(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qy(this.root,t,this.comparator,!0)}}class Qy{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zr{constructor(t,e,i,r,l){this.key=t,this.value=e,this.color=null!=i?i:zr.RED,this.left=null!=r?r:zr.EMPTY,this.right=null!=l?l:zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,l){return new zr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const l=i(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===l?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return zr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const t=this.left.check();if(t!==this.right.check())throw Rt();return t+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1,zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new zr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zi{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oS(this.data.getIterator())}getIteratorFrom(t){return new oS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof zi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new zi(this.comparator);return e.data=t,e}}class oS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const uk=new br(It.comparator);function Vo(){return uk}const aS=new br(It.comparator);function Jy(){return aS}const lS=new br(It.comparator);function Ww(){return lS}const cS=new zi(It.comparator);function Hn(...n){let t=cS;for(const e of n)t=t.add(e);return t}const uS=new zi(gn);function rm(){return uS}class If{constructor(t,e,i,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,wd.createSynthesizedTargetChangeForCurrentChange(t,e)),new If(an.min(),i,rm(),Vo(),Hn())}}class wd{constructor(t,e,i,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new wd(hr.EMPTY_BYTE_STRING,e,Hn(),Hn(),Hn())}}class Af{constructor(t,e,i,r){this.k=t,this.removedTargetIds=e,this.key=i,this.$=r}}class Hc{constructor(t,e){this.targetId=t,this.O=e}}class dS{constructor(t,e,i=hr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class hS{constructor(){this.F=0,this.M=Xy(),this.L=hr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=Hn(),e=Hn(),i=Hn();return this.M.forEach((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Rt()}}),new wd(this.L,this.B,t,e,i)}G(){this.U=!1,this.M=Xy()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Mf{constructor(t){this.tt=t,this.et=new Map,this.nt=Vo(),this.st=dk(),this.it=new zi(gn)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const i=this.ut(e);switch(t.state){case 0:this.ht(e)&&i.j(t.resumeToken);break;case 1:i.X(),i.q||i.G(),i.j(t.resumeToken);break;case 2:i.X(),i.q||this.removeTarget(e);break;case 3:this.ht(e)&&(i.Z(),i.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),i.j(t.resumeToken));break;default:Rt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((i,r)=>{this.ht(r)&&e(r)})}ft(t){const e=t.targetId,i=t.O.count,r=this.dt(e);if(r){const l=r.target;if(Jg(l))if(0===i){const u=new It(l.path);this.ct(e,u,di.newNoDocument(u,an.min()))}else Ut(1===i);else this.wt(e)!==i&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((l,u)=>{const f=this.dt(u);if(f){if(l.current&&Jg(f.target)){const g=new It(f.target.path);null!==this.nt.get(g)||this.gt(u,g)||this.ct(u,g,di.newNoDocument(g,t))}l.K&&(e.set(u,l.W()),l.G())}});let i=Hn();this.st.forEach((l,u)=>{let f=!0;u.forEachWhile(g=>{const y=this.dt(g);return!y||2===y.purpose||(f=!1,!1)}),f&&(i=i.add(l))});const r=new If(t,e,this.it,this.nt,i);return this.nt=Vo(),this.st=dk(),this.it=new zi(gn),r}ot(t,e){if(!this.ht(t))return;const i=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,i),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,i){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),i&&(this.nt=this.nt.insert(e,i))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new hS,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new zi(gn),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||et("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new hS),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function dk(){return new br(It.comparator)}function Xy(){return new br(It.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},fS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pS{constructor(t,e){this.databaseId=t,this.D=e}}function ev(n,t){return n.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kt(n,t){return n.D?t.toBase64():t.toUint8Array()}function hk(n,t){return ev(n,t.toTimestamp())}function Pr(n){return Ut(!!n),an.fromTimestamp(function(t){const e=fd(t);return new xr(e.seconds,e.nanos)}(n))}function Yw(n,t){return(e=n,new Fn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function sm(n){const t=Fn.fromString(n);return Ut(DS(t)),t}function om(n,t){return Yw(n.databaseId,t.path)}function _o(n,t){const e=sm(t);if(e.get(1)!==n.databaseId.projectId)throw new qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(Kw(e))}function Nf(n,t){return Yw(n.databaseId,t)}function Fi(n){const t=sm(n);return 4===t.length?Fn.emptyPath():Kw(t)}function tv(n){return new Fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kw(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nv(n,t,e){return{name:om(n,t),fields:e.value.mapValue.fields}}function gS(n,t,e){const i=_o(n,t.name),r=Pr(t.updateTime),l=new qr({mapValue:{fields:t.fields}}),u=di.newFoundDocument(i,r,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function am(n,t){let e;if(t instanceof Sf)e={update:nv(n,t.key,t.value)};else if(t instanceof im)e={delete:om(n,t.key)};else if(t instanceof $c)e={update:nv(n,t.key,t.data),updateMask:gk(t.fieldMask)};else{if(!(t instanceof zw))return Rt();e={verify:om(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const u=l.transform;if(u instanceof za)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bd)return{fieldPath:l.field.canonicalString(),increment:u.C};throw Rt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:hk(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Rt()),e;var r}function Qw(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Pi.updateTime(Pr(r.updateTime)):void 0!==r.exists?Pi.exists(r.exists):Pi.none():Pi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(l,u){let f=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),f=new za):"appendMissingElements"in u?f=new yd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new vd(u.removeAllFromArray.values||[]):"increment"in u?f=new bd(l,u.increment):Rt();const g=Or.fromServerFormat(u.fieldPath);return new Df(g,f)}(n,r)):[];var r;if(t.update){const r=_o(n,t.update.name),l=new qr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Uc((t.updateMask.fieldPaths||[]).map(y=>Or.fromServerFormat(y)));return new $c(r,l,u,e,i)}return new Sf(r,l,e,i)}if(t.delete){const r=_o(n,t.delete);return new im(r,e)}if(t.verify){const r=_o(n,t.verify);return new zw(r,e)}return Rt()}function yS(n,t){return{documents:[Nf(n,t.path)]}}function vS(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Nf(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Nf(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const g=f.map(y=>function(E){if("=="===E.op){if(Pw(E.value))return{unaryFilter:{field:Cd(E.field),op:"IS_NAN"}};if(BT(E.value))return{unaryFilter:{field:Cd(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(Pw(E.value))return{unaryFilter:{field:Cd(E.field),op:"IS_NOT_NAN"}};if(BT(E.value))return{unaryFilter:{field:Cd(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(E.field),op:ES(E.op),value:E.value}}}(y));return 1===g.length?g[0]:{compositeFilter:{op:"AND",filters:g}}}(t.filters);r&&(e.structuredQuery.where=r);const l=function(f){if(0!==f.length)return f.map(g=>{return{field:Cd((y=g).field),direction:CS(y.dir)};var y})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=(g=t.limit,n.D||kl(g)?g:{value:g});var g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=wS(t.startAt)),t.endAt&&(e.structuredQuery.endAt=wS(t.endAt)),e}function Rf(n){let t=Fi(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let l=[];e.where&&(l=bS(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new Ef(kf((T=E).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;e.limit&&(f=function(E){let T;return T="object"==typeof E?E.value:E,kl(T)?null:T}(e.limit));let g=null;e.startAt&&(g=lm(e.startAt));let y=null;return e.endAt&&(y=lm(e.endAt)),Lw(t,r,u,l,f,"F",g,y)}function bS(n){return n?void 0!==n.unaryFilter?[um(n)]:void 0!==n.fieldFilter?[cm(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>bS(t)).reduce((t,e)=>t.concat(e)):Rt():[]}function wS(n){return{before:n.before,values:n.position}}function lm(n){return new Oi(n.values||[],!!n.before)}function CS(n){return M2[n]}function ES(n){return fS[n]}function Cd(n){return{fieldPath:n.canonicalString()}}function kf(n){return Or.fromServerFormat(n.fieldPath)}function cm(n){return as.create(kf(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function um(n){switch(n.unaryFilter.op){case"IS_NAN":const t=kf(n.unaryFilter.field);return as.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=kf(n.unaryFilter.field);return as.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=kf(n.unaryFilter.field);return as.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=kf(n.unaryFilter.field);return as.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}function gk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function DS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ha(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Jw(t)),t=TS(n.get(e),t);return Jw(t)}function TS(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function Jw(n){return n+"\x01\x01"}function Wa(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Fn.emptyPath();const e=t-2,i=[];let r="";for(let l=0;l<t;){const u=n.indexOf("\x01",l);switch((u<0||u>e)&&Rt(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(l,u),r+="\0";break;case"\x11":r+=n.substring(l,u+1);break;default:Rt()}l=u+2}return new Fn(i)}class mk{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Ks{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Ks.store="owner",Ks.key="owner";class jc{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}jc.store="mutationQueues",jc.keyPath="userId";class hi{constructor(t,e,i,r,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=l}}hi.store="mutations",hi.keyPath="batchId",hi.userMutationsIndex="userMutationsIndex",hi.userMutationsKeyPath=["userId","batchId"];class Ss{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,ha(e)]}static key(t,e,i){return[t,ha(e),i]}}Ss.store="documentMutations",Ss.PLACEHOLDER=new Ss;class N2{constructor(t,e){this.path=t,this.readTime=e}}class R2{constructor(t,e){this.path=t,this.version=e}}class nr{constructor(t,e,i,r,l,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=l,this.parentPath=u}}nr.store="remoteDocuments",nr.readTimeIndex="readTimeIndex",nr.readTimeIndexPath="readTime",nr.collectionReadTimeIndex="collectionReadTimeIndex",nr.collectionReadTimeIndexPath=["parentPath","readTime"];class fa{constructor(t){this.byteSize=t}}fa.store="remoteDocumentGlobal",fa.key="remoteDocumentGlobalKey";class Wr{constructor(t,e,i,r,l,u,f){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=u,this.query=f}}Wr.store="targets",Wr.keyPath="targetId",Wr.queryTargetsIndexName="queryTargetsIndex",Wr.queryTargetsKeyPath=["canonicalId","targetId"];class Yr{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Yr.store="targetDocuments",Yr.keyPath=["targetId","path"],Yr.documentTargetsIndex="documentTargetsIndex",Yr.documentTargetsKeyPath=["path","targetId"];class yo{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}yo.key="targetGlobalKey",yo.store="targetGlobal";class Zc{constructor(t,e){this.collectionId=t,this.parent=e}}Zc.store="collectionParents",Zc.keyPath=["collectionId","parent"];class vo{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}vo.store="clientMetadata",vo.keyPath="clientId";class xf{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}xf.store="bundles",xf.keyPath="bundleId";class Of{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}Of.store="namedQueries",Of.keyPath="name";const _k=[jc.store,hi.store,Ss.store,nr.store,Wr.store,Ks.store,yo.store,Yr.store,vo.store,fa.store,Zc.store,xf.store,Of.store],SS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class je{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new je((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof je?e:je.resolve(e)}catch(e){return je.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):je.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):je.reject(e)}static resolve(t){return new je((e,i)=>{e(t)})}static reject(t){return new je((e,i)=>{i(t)})}static waitFor(t){return new je((e,i)=>{let r=0,l=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++l,u&&l===r&&e()},g=>i(g))}),u=!0,l===r&&e()})}static or(t){let e=je.resolve(!1);for(const i of t)e=e.next(r=>r?je.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,l)=>{i.push(e.call(this,r,l))}),this.waitFor(i)}}class iv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new Gr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new dm(t,e.error)):this.Et.resolve()},this.transaction.onerror=i=>{const r=rv(i.target.error);this.Et.reject(new dm(t,r))}}static open(t,e,i,r){try{return new iv(e,t.transaction(r,i))}catch(l){throw new dm(e,l)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(et("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new yk(e)}}class pa{constructor(t,e,i){this.name=t,this.version=e,this.At=i,12.2===pa.Rt((0,F.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return et("SimpleDb","Removing database:",t),qc(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,F.hl)())return!1;if(pa.Pt())return!0;const t=(0,F.z$)(),e=pa.Rt(t),i=0<e&&e<10,r=pa.vt(t),l=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Dt(t){var e=this;return(0,Me.Z)(function*(){return e.db||(et("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{r(new dm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new qe(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new qe(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new dm(t,f))},l.onupgradeneeded=u=>{et("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.At.Ct(u.target.result,l.transaction,u.oldVersion,e.version).next(()=>{et("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=i=>e.Nt(i)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var l=this;return(0,Me.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{l.db=yield l.Dt(t);const g=iv.open(l.db,t,u?"readonly":"readwrite",i),y=r(g).catch(E=>(g.abort(E),je.reject(E))).toPromise();return y.catch(()=>{}),yield g.It,y}catch(g){const y="FirebaseError"!==g.name&&f<3;if(et("SimpleDb","Transaction failed with error:",g.message,"Retrying:",y),l.close(),!y)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Pf{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return qc(this.kt.delete())}}class dm extends qe{constructor(t,e){super(Re.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class yk{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(et("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),qc(i)}add(t){return et("SimpleDb","ADD",this.store.name,t,t),qc(this.store.add(t))}get(t){return qc(this.store.get(t)).next(e=>(void 0===e&&(e=null),et("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return et("SimpleDb","DELETE",this.store.name,t),qc(this.store.delete(t))}count(){return et("SimpleDb","COUNT",this.store.name),qc(this.store.count())}Lt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Bt(i,(l,u)=>{r.push(u)}).next(()=>r)}Ut(t,e){et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.qt=!1;const r=this.cursor(i);return this.Bt(r,(l,u,f)=>f.delete())}Kt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new je((i,r)=>{e.onerror=l=>{const u=rv(l.target.error);r(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Bt(t,e){const i=[];return new je((r,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const g=new Pf(f),y=e(f.primaryKey,f.value,g);if(y instanceof je){const E=y.catch(T=>(g.done(),je.reject(T)));i.push(E)}g.isDone?r():null===g.Ft?f.continue():f.continue(g.Ft)}}).next(()=>je.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.qt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function qc(n){return new je((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=rv(i.target.error);e(r)}})}let AS=!1;function rv(n){const t=pa.Rt((0,F.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AS||(AS=!0,setTimeout(()=>{throw i},0)),i}}return n}class MS extends IS{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function ls(n,t){const e=st(n);return pa.St(e.Qt,t)}class Xw{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&eS(l,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Ky(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Ky(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(an.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Hn())}isEqual(t){return this.batchId===t.batchId&&yf(this.mutations,t.mutations,(e,i)=>Zw(e,i))&&yf(this.baseMutations,t.baseMutations,(e,i)=>Zw(e,i))}}class sv{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=Ww();const l=t.mutations;for(let u=0;u<l.length;u++)r=r.insert(l[u].key,i[u].version);return new sv(t,e,i,r)}}class xl{constructor(t,e,i,r,l=an.min(),u=an.min(),f=hr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new xl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class NS{constructor(t){this.Wt=t}}function eC(n,t){if(t.document)return gS(n.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=It.fromSegments(t.noDocument.path),i=Ff(t.noDocument.readTime),r=di.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=It.fromSegments(t.unknownDocument.path),i=Ff(t.unknownDocument.version);return di.newUnknownDocument(e,i)}return Rt()}function RS(n,t,e){const i=hm(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:om(f=n.Wt,(g=t).key),fields:g.data.value.mapValue.fields,updateTime:ev(f,g.version.toTimestamp())};return new nr(null,null,l,t.hasCommittedMutations,i,r)}var f,g;if(t.isNoDocument()){const l=t.key.path.toArray(),u=Ed(t.version),f=t.hasCommittedMutations;return new nr(null,new N2(l,u),null,f,i,r)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),u=Ed(t.version);return new nr(new R2(l,u),null,null,!0,i,r)}return Rt()}function hm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function kS(n){const t=new xr(n[0],n[1]);return an.fromTimestamp(t)}function Ed(n){const t=n.toTimestamp();return new mk(t.seconds,t.nanoseconds)}function Ff(n){const t=new xr(n.seconds,n.nanoseconds);return an.fromTimestamp(t)}function Lf(n,t){const e=(t.baseMutations||[]).map(l=>Qw(n.Wt,l));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(u.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const i=t.mutations.map(l=>Qw(n.Wt,l)),r=xr.fromMillis(t.localWriteTimeMs);return new Xw(t.batchId,r,e,i)}function fm(n){const t=Ff(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Ff(n.lastLimboFreeSnapshotVersion):an.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=zs(ua(Fi(r.documents[0])))):i=zs(Rf(n.query)),new xl(i,n.targetId,0,n.lastListenSequenceNumber,t,e,hr.fromBase64String(n.resumeToken))}function xS(n,t){const e=Ed(t.snapshotVersion),i=Ed(t.lastLimboFreeSnapshotVersion);let r;r=Jg(t.target)?yS(n.Wt,t.target):vS(n.Wt,t.target);const l=t.resumeToken.toBase64();return new Wr(t.targetId,Bc(t.target),e,l,t.sequenceNumber,i,r)}function tC(n){const t=Rf({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qy(t,t.limit,"L"):t}class vk{getBundleMetadata(t,e){return OS(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ff(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return OS(t).put({bundleId:(i=e).id,createTime:Ed(Pr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return PS(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:tC(r.bundledQuery),readTime:Ff(r.readTime)};var r})}saveNamedQuery(t,e){return PS(t).put({name:(i=e).name,readTime:Ed(Pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function OS(n){return ls(n,xf.store)}function PS(n){return ls(n,Of.store)}class FS{constructor(){this.Gt=new ov}addToCollectionParentIndex(t,e){return this.Gt.add(e),je.resolve()}getCollectionParents(t,e){return je.resolve(this.Gt.getEntries(e))}}class ov{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new zi(Fn.comparator),l=!r.has(i);return this.index[e]=r.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new zi(Fn.comparator)).toArray()}}class LS{constructor(){this.zt=new ov}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const l={collectionId:i,parent:ha(r)};return VS(t).put(l)}return je.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[kw(e),""],!1,!0);return VS(t).Lt(r).next(l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Wa(u.parent))}return i})}}function VS(n){return ls(n,Zc.store)}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Is{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Is(t,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function US(n,t,e){const i=n.store(hi.store),r=n.store(Ss.store),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const g=i.Kt({range:u},(E,T,I)=>(f++,I.delete()));l.push(g.next(()=>{Ut(1===f)}));const y=[];for(const E of e.mutations){const T=Ss.key(t,E.key.path,e.batchId);l.push(r.delete(T)),y.push(E.key)}return je.waitFor(l).next(()=>y)}function lv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Rt();t=n.noDocument}return JSON.stringify(t).length}Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(41943040,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);class pm{constructor(t,e,i,r){this.userId=t,this.N=e,this.Ht=i,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,i,r){Ut(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new pm(l,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ol(t).Kt({index:hi.userMutationsIndex,range:i},(r,l,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const l=zc(t),u=Ol(t);return u.add({}).next(f=>{Ut("number"==typeof f);const g=new Xw(f,e,i,r),y=function(I,R,U){const te=U.baseMutations.map(We=>am(I.Wt,We)),fe=U.mutations.map(We=>am(I.Wt,We));return new hi(R,U.batchId,U.localWriteTime.toMillis(),te,fe)}(this.N,this.userId,g),E=[];let T=new zi((I,R)=>gn(I.canonicalString(),R.canonicalString()));for(const I of r){const R=Ss.key(this.userId,I.key.path,f);T=T.add(I.key.path.popLast()),E.push(u.put(y)),E.push(l.put(R,Ss.PLACEHOLDER))}return T.forEach(I=>{E.push(this.Ht.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(()=>{this.Jt[f]=g.keys()}),je.waitFor(E).next(()=>g)})}lookupMutationBatch(t,e){return Ol(t).get(e).next(i=>i?(Ut(i.userId===this.userId),Lf(this.N,i)):null)}Xt(t,e){return this.Jt[e]?je.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Jt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ol(t).Kt({index:hi.userMutationsIndex,range:r},(u,f,g)=>{f.userId===this.userId&&(Ut(f.batchId>=i),l=Lf(this.N,f)),g.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ol(t).Kt({index:hi.userMutationsIndex,range:e,reverse:!0},(r,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ol(t).Lt(hi.userMutationsIndex,e).next(i=>i.map(r=>Lf(this.N,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Ss.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),l=[];return zc(t).Kt({range:r},(u,f,g)=>{const[y,E,T]=u,I=Wa(E);if(y===this.userId&&e.path.isEqual(I))return Ol(t).get(T).next(R=>{if(!R)throw Rt();Ut(R.userId===this.userId),l.push(Lf(this.N,R))});g.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zi(gn);const r=[];return e.forEach(l=>{const u=Ss.prefixForPath(this.userId,l.path),f=IDBKeyRange.lowerBound(u),g=zc(t).Kt({range:f},(y,E,T)=>{const[I,R,U]=y,te=Wa(R);I===this.userId&&l.path.isEqual(te)?i=i.add(U):T.done()});r.push(g)}),je.waitFor(r).next(()=>this.Zt(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,l=Ss.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new zi(gn);return zc(t).Kt({range:u},(g,y,E)=>{const[T,I,R]=g,U=Wa(I);T===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(R)):E.done()}).next(()=>this.Zt(t,f))}Zt(t,e){const i=[],r=[];return e.forEach(l=>{r.push(Ol(t).get(l).next(u=>{if(null===u)throw Rt();Ut(u.userId===this.userId),i.push(Lf(this.N,u))}))}),je.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return US(t.Qt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),je.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return je.resolve();const i=IDBKeyRange.lowerBound(Ss.prefixForUser(this.userId)),r=[];return zc(t).Kt({range:i},(l,u,f)=>{if(l[0]===this.userId){const g=Wa(l[1]);r.push(g)}else f.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return cv(t,this.userId,e)}ee(t){return BS(t).get(this.userId).next(e=>e||new jc(this.userId,-1,""))}}function cv(n,t,e){const i=Ss.prefixForPath(t,e.path),r=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return zc(n).Kt({range:l,qt:!0},(f,g,y)=>{const[E,T,I]=f;E===t&&T===r&&(u=!0),y.done()}).next(()=>u)}function Ol(n){return ls(n,hi.store)}function zc(n){return ls(n,Ss.store)}function BS(n){return ls(n,jc.store)}class Dd{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new Dd(0)}static ie(){return new Dd(-1)}}class nC{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const i=new Dd(e.highestTargetId);return e.highestTargetId=i.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(e=>an.fromTimestamp(new xr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.re(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(i=>(i.targetCount+=1,this.ae(e,i),this.oe(t,i))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Vf(t).delete(e.targetId)).next(()=>this.re(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.oe(t,i)))}removeTargets(t,e,i){let r=0;const l=[];return Vf(t).Kt((u,f)=>{const g=fm(f);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,l.push(this.removeTargetData(t,g)))}).next(()=>je.waitFor(l)).next(()=>r)}forEachTarget(t,e){return Vf(t).Kt((i,r)=>{const l=fm(r);e(l)})}re(t){return iC(t).get(yo.key).next(e=>(Ut(null!==e),e))}oe(t,e){return iC(t).put(yo.key,e)}ce(t,e){return Vf(t).put(xS(this.N,e))}ae(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.re(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Bc(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Vf(t).Kt({range:r,index:Wr.queryTargetsIndexName},(u,f,g)=>{const y=fm(f);Qg(e,y.target)&&(l=y,g.done())}).next(()=>l)}addMatchingKeys(t,e,i){const r=[],l=Wc(t);return e.forEach(u=>{const f=ha(u.path);r.push(l.put(new Yr(i,f))),r.push(this.referenceDelegate.addReference(t,i,u))}),je.waitFor(r)}removeMatchingKeys(t,e,i){const r=Wc(t);return je.forEach(e,l=>{const u=ha(l.path);return je.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=Wc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wc(t);let l=Hn();return r.Kt({range:i,qt:!0},(u,f,g)=>{const y=Wa(u[1]),E=new It(y);l=l.add(E)}).next(()=>l)}containsKey(t,e){const i=ha(e.path),r=IDBKeyRange.bound([i],[kw(i)],!1,!0);let l=0;return Wc(t).Kt({index:Yr.documentTargetsIndex,qt:!0,range:r},([u,f],g,y)=>{0!==u&&(l++,y.done())}).next(()=>l>0)}Tt(t,e){return Vf(t).get(e).next(i=>i?fm(i):null)}}function Vf(n){return ls(n,Wr.store)}function iC(n){return ls(n,yo.store)}function Wc(n){return ls(n,Yr.store)}function Yc(n){return uv.apply(this,arguments)}function uv(){return(uv=(0,Me.Z)(function*(n){if(n.code!==Re.FAILED_PRECONDITION||n.message!==SS)throw n;et("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function rC([n,t],[e,i]){const r=gn(n,e);return 0===r?gn(t,i):r}class k2{constructor(t){this.ue=t,this.buffer=new zi(rC),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();rC(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bk{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const i=this.de?3e5:6e4;et("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Me.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Gc(r)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Yc(r)}yield e._e(t)}))}}class Uf{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return je.resolve(qs.T);const i=new k2(e);return this.me.forEachTarget(t,r=>i.fe(r.sequenceNumber)).next(()=>this.me.ye(t,r=>i.fe(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.me.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(av)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let i,r,l,u,f,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,u=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,f=Date.now(),this.removeTargets(t,i,e))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(y=Date.now(),OT()<=fo.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(g-f)+`ms\n\tRemoved ${T} documents in `+(y-g)+`ms\nTotal Duration: ${y-E}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:T})))}}class x2{constructor(t,e){this.db=t,this.garbageCollector=new Uf(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Te(t){let e=0;return this.ye(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(i,r)=>e(r))}addReference(t,e,i){return Bf(t,i)}removeReference(t,e,i){return Bf(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Bf(t,e)}Ie(t,e){return function(i,r){let l=!1;return BS(i).jt(u=>cv(i,u,r).next(f=>(f&&(l=!0),je.resolve(!f)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Ee(t,(u,f)=>{if(f<=e){const g=this.Ie(t,u).next(y=>{if(!y)return l++,i.getEntry(t,u).next(()=>(i.removeEntry(u),Wc(t).delete([0,ha(u.path)])))});r.push(g)}}).next(()=>je.waitFor(r)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Bf(t,e)}Ee(t,e){const i=Wc(t);let r,l=qs.T;return i.Kt({index:Yr.documentTargetsIndex},([u,f],{path:g,sequenceNumber:y})=>{0===u?(l!==qs.T&&e(new It(Wa(r)),l),l=y,r=g):l=qs.T}).next(()=>{l!==qs.T&&e(new It(Wa(r)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Bf(n,t){return Wc(n).put((i=n.currentSequenceNumber,new Yr(0,ha(t.path),i)));var i}class Pl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){hd(this.inner,(e,i)=>{for(const[r,l]of i)t(r,l)})}isEmpty(){return VT(this.inner)}}class $S{constructor(){this.changes=new Pl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:an.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:di.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?je.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $f{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,i){return Kc(t).put(bo(e),i)}removeEntry(t,e){const i=Kc(t),r=bo(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Ae(t,i)))}getEntry(t,e){return Kc(t).get(bo(e)).next(i=>this.Re(e,i))}be(t,e){return Kc(t).get(bo(e)).next(i=>({document:this.Re(e,i),size:lv(i)}))}getEntries(t,e){let i=Vo();return this.Pe(t,e,(r,l)=>{const u=this.Re(r,l);i=i.insert(r,u)}).next(()=>i)}ve(t,e){let i=Vo(),r=new br(It.comparator);return this.Pe(t,e,(l,u)=>{const f=this.Re(l,u);i=i.insert(l,f),r=r.insert(l,lv(u))}).next(()=>({documents:i,Ve:r}))}Pe(t,e,i){if(e.isEmpty())return je.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let u=l.getNext();return Kc(t).Kt({range:r},(f,g,y)=>{const E=It.fromSegments(f);for(;u&&It.comparator(u,E)<0;)i(u,null),u=l.getNext();u&&u.isEqual(E)&&(i(u,g),u=l.hasNext()?l.getNext():null),u?y.Mt(u.path.toArray()):y.done()}).next(()=>{for(;u;)i(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=Vo();const l=e.path.length+1,u={};if(i.isEqual(an.min())){const f=e.path.toArray();u.range=IDBKeyRange.lowerBound(f)}else{const f=e.path.toArray(),g=hm(i);u.range=IDBKeyRange.lowerBound([f,g],!0),u.index=nr.collectionReadTimeIndex}return Kc(t).Kt(u,(f,g,y)=>{if(f.length!==l)return;const E=eC(this.N,g);e.path.isPrefixOf(E.key.path)?Ys(e,E)&&(r=r.insert(E.key,E)):y.done()}).next(()=>r)}newChangeBuffer(t){return new wk(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Ck(t).get(fa.key).next(e=>(Ut(!!e),e))}Ae(t,e){return Ck(t).put(fa.key,e)}Re(t,e){if(e){const i=eC(this.N,e);if(!i.isNoDocument()||!i.version.isEqual(an.min()))return i}return di.newInvalidDocument(t)}}class wk extends $S{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Pl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new zi((l,u)=>gn(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.De.get(l);if(u.document.isValidDocument()){const g=RS(this.Se.N,u.document,this.getReadTime(l));r=r.add(l.path.popLast()),i+=lv(g)-f,e.push(this.Se.addEntry(t,l,g))}else if(i-=f,this.trackRemovals){const g=RS(this.Se.N,di.newNoDocument(l,an.min()),this.getReadTime(l));e.push(this.Se.addEntry(t,l,g))}else e.push(this.Se.removeEntry(t,l))}),r.forEach(l=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,l))}),e.push(this.Se.updateMetadata(t,i)),je.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(i=>(this.De.set(e,i.size),i.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:i,Ve:r})=>(r.forEach((l,u)=>{this.De.set(l,u)}),i))}}function Ck(n){return ls(n,fa.store)}function Kc(n){return ls(n,nr.store)}function bo(n){return n.path.toArray()}class HS{constructor(t){this.N=t}Ct(t,e,i,r){Ut(i<r&&i>=0&&r<=11);const l=new iv("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore(Ks.store),(f=t).createObjectStore(jc.store,{keyPath:jc.keyPath}),f.createObjectStore(hi.store,{keyPath:hi.keyPath,autoIncrement:!0}).createIndex(hi.userMutationsIndex,hi.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Ss.store),Ek(t),function(f){f.createObjectStore(nr.store)}(t));let u=je.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore(Yr.store),f.deleteObjectStore(Wr.store),f.deleteObjectStore(yo.store)}(t),Ek(t)),u=u.next(()=>function(f){const g=f.store(yo.store),y=new yo(0,0,an.min().toTimestamp(),0);return g.put(yo.key,y)}(l))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store(hi.store).Lt().next(y=>{f.deleteObjectStore(hi.store),f.createObjectStore(hi.store,{keyPath:hi.keyPath,autoIncrement:!0}).createIndex(hi.userMutationsIndex,hi.userMutationsKeyPath,{unique:!0});const E=g.store(hi.store),T=y.map(I=>E.put(I));return je.waitFor(T)})}(t,l))),u=u.next(()=>{!function(f){f.createObjectStore(vo.store,{keyPath:vo.keyPath})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ce(l))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore(fa.store)}(t),this.Ne(l)))),i<7&&r>=7&&(u=u.next(()=>this.xe(l))),i<8&&r>=8&&(u=u.next(()=>this.ke(t,l))),i<9&&r>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){const g=f.objectStore(nr.store);g.createIndex(nr.readTimeIndex,nr.readTimeIndexPath,{unique:!1}),g.createIndex(nr.collectionReadTimeIndex,nr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(u=u.next(()=>this.$e(l))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(xf.store,{keyPath:xf.keyPath})})(t),function(f){f.createObjectStore(Of.store,{keyPath:Of.keyPath})}(t)})),u}Ne(t){let e=0;return t.store(nr.store).Kt((i,r)=>{e+=lv(r)}).next(()=>{const i=new fa(e);return t.store(fa.store).put(fa.key,i)})}Ce(t){const e=t.store(jc.store),i=t.store(hi.store);return e.Lt().next(r=>je.forEach(r,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.Lt(hi.userMutationsIndex,u).next(f=>je.forEach(f,g=>{Ut(g.userId===l.userId);const y=Lf(this.N,g);return US(t,l.userId,y).next(()=>{})}))}))}xe(t){const e=t.store(Yr.store),i=t.store(nr.store);return t.store(yo.store).get(yo.key).next(r=>{const l=[];return i.Kt((u,f)=>{const g=new Fn(u),y=[0,ha(g)];l.push(e.get(y).next(E=>E?je.resolve():e.put(new Yr(0,ha(g),r.highestListenSequenceNumber))))}).next(()=>je.waitFor(l))})}ke(t,e){t.createObjectStore(Zc.store,{keyPath:Zc.keyPath});const i=e.store(Zc.store),r=new ov,l=u=>{if(r.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:ha(g)})}};return e.store(nr.store).Kt({qt:!0},(u,f)=>{const g=new Fn(u);return l(g.popLast())}).next(()=>e.store(Ss.store).Kt({qt:!0},([u,f,g],y)=>{const E=Wa(f);return l(E.popLast())}))}$e(t){const e=t.store(Wr.store);return e.Kt((i,r)=>{const l=fm(r),u=xS(this.N,l);return e.put(u)})}}function Ek(n){n.createObjectStore(Yr.store,{keyPath:Yr.keyPath}).createIndex(Yr.documentTargetsIndex,Yr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Wr.store,{keyPath:Wr.keyPath}).createIndex(Wr.queryTargetsIndexName,Wr.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(yo.store)}const Hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sC{constructor(t,e,i,r,l,u,f,g,y,E){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Oe=l,this.window=u,this.document=f,this.Fe=y,this.Me=E,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=T=>Promise.resolve(),!sC.bt())throw new qe(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x2(this,r),this.We=e+"main",this.N=new NS(g),this.Ge=new pa(this.We,11,new HS(this.N)),this.ze=new nC(this.referenceDelegate,this.N),this.Ht=new LS,this.He=new $f(this.N,this.Ht),this.Je=new vk,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===E&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(Re.FAILED_PRECONDITION,Hf);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new qs(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var i=(0,Me.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,Me.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,Me.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>oC(t).put(new vo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Gc(t))return et("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return gm(t).get(Ks.key).next(e=>je.resolve(this.an(e)))}un(t){return oC(t).delete(this.clientId)}hn(){var t=this;return(0,Me.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ls(i,vo.store);return r.Lt().next(l=>{const u=t.fn(l,18e5),f=l.filter(g=>-1===u.indexOf(g));return je.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(t.Ye)for(const i of e)t.Ye.removeItem(t.dn(i.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?je.resolve(!0):gm(t).get(Ks.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new qe(Re.FAILED_PRECONDITION,Hf);return!1}}return!(!this.networkEnabled||!this.inForeground)||oC(t).Lt().next(i=>void 0===this.fn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&et("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Me.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[Ks.store,vo.store],e=>{const i=new MS(e,qs.T);return t.on(i).next(()=>t.un(i))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(i=>this.ln(i.updateTimeMs,e)&&!this.wn(i.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>oC(t).Lt().next(e=>this.fn(e,18e5).map(i=>i.clientId)))}get started(){return this.Be}getMutationQueue(t){return pm.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,i){let l;return et("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",_k,u=>(l=new MS(u,this.Le?this.Le.next():qs.T),"readwrite-primary"===e?this.sn(l).next(f=>!!f||this.rn(l)).next(f=>{if(!f)throw dr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new qe(Re.FAILED_PRECONDITION,SS);return i(l)}).next(f=>this.cn(l).next(()=>f)):this.Tn(l).next(()=>i(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}Tn(t){return gm(t).get(Ks.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new qe(Re.FAILED_PRECONDITION,Hf)})}cn(t){const e=new Ks(this.clientId,this.allowTabSynchronization,Date.now());return gm(t).put(Ks.key,e)}static bt(){return pa.bt()}on(t){const e=gm(t);return e.get(Ks.key).next(i=>this.an(i)?(et("IndexedDbPersistence","Releasing primary lease."),e.delete(Ks.key)):je.resolve())}ln(t,e){const i=Date.now();return!(t<i-e||t>i&&(dr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,F.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const i=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return et("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return dr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){dr("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function gm(n){return ls(n,Ks.store)}function oC(n){return ls(n,vo.store)}function aC(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Dk{constructor(t,e){this.progress=t,this.En=e}}class jS{constructor(t,e,i){this.He=t,this.In=e,this.Ht=i}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Rn(t,e,i))}Rn(t,e,i){return this.He.getEntry(t,e).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}bn(t,e){t.forEach((i,r)=>{for(const l of e)l.applyToLocalView(r)})}Pn(t,e){return this.He.getEntries(t,e).next(i=>this.vn(t,i).next(()=>i))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.bn(e,i))}getDocumentsMatchingQuery(t,e,i){return It.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(t,e.path):Gy(e)?this.Sn(t,e,i):this.Dn(t,e,i);var r}Vn(t,e){return this.An(t,new It(e)).next(i=>{let r=Jy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Sn(t,e,i){const r=e.collectionGroup;let l=Jy();return this.Ht.getCollectionParents(t,r).next(u=>je.forEach(u,f=>{const g=(y=e,E=f.child(r),new qa(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.Dn(t,g,i).next(y=>{y.forEach((E,T)=>{l=l.insert(E,T)})})}).next(()=>l))}Dn(t,e,i){let r,l;return this.He.getDocumentsMatchingQuery(t,e,i).next(u=>(r=u,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(l=u,this.Cn(t,l,r).next(f=>{r=f;for(const g of l)for(const y of g.mutations){const E=y.key;let T=r.get(E);null==T&&(T=di.newInvalidDocument(E),r=r.insert(E,T)),Ky(y,T,g.localWriteTime),T.isFoundDocument()||(r=r.remove(E))}}))).next(()=>(r.forEach((u,f)=>{Ys(e,f)||(r=r.remove(u))}),r))}Cn(t,e,i){let r=Hn();for(const u of e)for(const f of u.mutations)f instanceof $c&&null===i.get(f.key)&&(r=r.add(f.key));let l=i;return this.He.getEntries(t,r).next(u=>(u.forEach((f,g)=>{g.isFoundDocument()&&(l=l.insert(f,g))}),l))}}class mm{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Nn=i,this.xn=r}static kn(t,e){let i=Hn(),r=Hn();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new mm(t,e.fromCache,i,r)}}class lC{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(an.min())?this.Fn(t,e):this.On.Pn(t,r).next(l=>{const u=this.Mn(e,l);return(Hy(e)||jy(e))&&this.Ln(e.limitType,u,r,i)?this.Fn(t,e):(OT()<=fo.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zy(e)),this.On.getDocumentsMatchingQuery(t,e,i).next(f=>(u.forEach(g=>{f=f.insert(g.key,g)}),f)))});var l}Mn(t,e){let i=new zi(Lo(t));return e.forEach((r,l)=>{Ys(t,l)&&(i=i.add(l))}),i}Ln(t,e,i,r){if(i.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Fn(t,e){return OT()<=fo.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",zy(e)),this.On.getDocumentsMatchingQuery(t,e,an.min())}}class cC{constructor(t,e,i,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new br(gn),this.qn=new Pl(l=>Bc(l),Qg),this.Kn=an.min(),this.In=t.getMutationQueue(i),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new jS(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function uC(n,t,e,i){return new cC(n,t,e,i)}function ZS(n,t){return GS.apply(this,arguments)}function GS(){return(GS=(0,Me.Z)(function*(n,t){const e=st(n);let i=e.In,r=e.Qn;const l=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let f;return e.In.getAllMutationBatches(u).next(g=>(f=g,i=e.persistence.getMutationQueue(t),r=new jS(e.jn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(g=>{const y=[],E=[];let T=Hn();for(const I of f){y.push(I.batchId);for(const R of I.mutations)T=T.add(R.key)}for(const I of g){E.push(I.batchId);for(const R of I.mutations)T=T.add(R.key)}return r.Pn(u,T).next(I=>({Wn:I,removedBatchIds:y,addedBatchIds:E}))})});return e.In=i,e.Qn=r,e.Bn.$n(e.Qn),l})).apply(this,arguments)}function Tk(n,t){const e=st(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),l=e.jn.newChangeBuffer({trackRemovals:!0});return function(u,f,g,y){const E=g.batch,T=E.keys();let I=je.resolve();return T.forEach(R=>{I=I.next(()=>y.getEntry(f,R)).next(U=>{const te=g.docVersions.get(R);Ut(null!==te),U.version.compareTo(te)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&y.addEntry(U,g.commitVersion))})}),I.next(()=>u.In.removeMutationBatch(f,E))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.In.performConsistencyCheck(i)).next(()=>e.Qn.Pn(i,r))})}function qS(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Sk(n,t){const e=st(n),i=t.snapshotVersion;let r=e.Un;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.jn.newChangeBuffer({trackRemovals:!0});r=e.Un;const f=[];t.targetChanges.forEach((y,E)=>{const T=r.get(E);if(!T)return;f.push(e.ze.removeMatchingKeys(l,y.removedDocuments,E).next(()=>e.ze.addMatchingKeys(l,y.addedDocuments,E)));const I=y.resumeToken;if(I.approximateByteSize()>0){const R=T.withResumeToken(I,i).withSequenceNumber(l.currentSequenceNumber);r=r.insert(E,R),U=T,fe=y,Ut((te=R).resumeToken.approximateByteSize()>0),(0===U.resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(e.ze.updateTargetData(l,R))}var U,te,fe});let g=Vo();if(t.documentUpdates.forEach((y,E)=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(dC(l,u,t.documentUpdates,i,void 0).next(y=>{g=y})),!i.isEqual(an.min())){const y=e.ze.getLastRemoteSnapshotVersion(l).next(E=>e.ze.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return je.waitFor(f).next(()=>u.apply(l)).next(()=>e.Qn.vn(l,g)).next(()=>g)}).then(l=>(e.Un=r,l))}function dC(n,t,e,i,r){let l=Hn();return e.forEach(u=>l=l.add(u)),t.getEntries(n,l).next(u=>{let f=Vo();return e.forEach((g,y)=>{const E=u.get(g),T=(null==r?void 0:r.get(g))||i;y.isNoDocument()&&y.version.isEqual(an.min())?(t.removeEntry(g,T),f=f.insert(g,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(t.addEntry(y,T),f=f.insert(g,y)):et("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",y.version)}),f})}function zS(n,t){const e=st(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.In.getNextMutationBatchAfterBatchId(i,t)))}function Td(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ze.getTargetData(i,t).next(l=>l?(r=l,je.resolve(r)):e.ze.allocateTargetId(i).next(u=>(r=new xl(t,u,0,i.currentSequenceNumber),e.ze.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Un.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Un=e.Un.insert(i.targetId,i),e.qn.set(t,i.targetId)),i})}function jf(n,t,e){return hC.apply(this,arguments)}function hC(){return(hC=(0,Me.Z)(function*(n,t,e){const i=st(n),r=i.Un.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Gc(u))throw u;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Un=i.Un.remove(t),i.qn.delete(r.target)})).apply(this,arguments)}function _m(n,t,e){const i=st(n);let r=an.min(),l=Hn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,y){const E=st(f),T=E.qn.get(y);return void 0!==T?je.resolve(E.Un.get(T)):E.ze.getTargetData(g,y)}(i,u,zs(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ze.getMatchingKeysForTargetId(u,f.targetId).next(g=>{l=g})}).next(()=>i.Bn.getDocumentsMatchingQuery(u,t,e?r:an.min(),e?l:Hn())).next(f=>({documents:f,Gn:l})))}function ym(n,t){const e=st(n),i=st(e.ze),r=e.Un.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",l=>i.Tt(l,t).next(u=>u?u.target:null))}function WS(n){const t=st(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,l){const u=st(i);let f=Vo(),g=hm(l);const y=Kc(r),E=IDBKeyRange.lowerBound(g,!0);return y.Kt({index:nr.readTimeIndex,range:E},(T,I)=>{const R=eC(u.N,I);f=f.insert(R.key,R),g=I.readTime}).next(()=>({En:f,readTime:kS(g)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:i})=>(t.Kn=i,e))}function Zf(){return(Zf=(0,Me.Z)(function*(n){const t=st(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Kc(i);let l=an.min();return r.Kt({index:nr.readTimeIndex,reverse:!0},(u,f,g)=>{f.readTime&&(l=kS(f.readTime)),g.done()}).next(()=>l)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Sd(){return(Sd=(0,Me.Z)(function*(n,t,e,i){const r=st(n);let l=Hn(),u=Vo(),f=Ww();for(const E of e){const T=t.zn(E.metadata.name);E.document&&(l=l.add(T)),u=u.insert(T,t.Hn(E)),f=f.insert(T,t.Jn(E.metadata.readTime))}const g=r.jn.newChangeBuffer({trackRemovals:!0}),y=yield Td(r,(E=i,zs(ua(Fn.fromString(`__bundle__/docs/${E}`)))));var E;return r.persistence.runTransaction("Apply bundle documents","readwrite",E=>dC(E,g,u,an.min(),f).next(T=>(g.apply(E),T)).next(T=>r.ze.removeMatchingKeysForTargetId(E,y.targetId).next(()=>r.ze.addMatchingKeys(E,l,y.targetId)).next(()=>r.Qn.vn(E,T)).next(()=>T)))})).apply(this,arguments)}function Ik(n,t){return fC.apply(this,arguments)}function fC(){return(fC=(0,Me.Z)(function*(n,t,e=Hn()){const i=yield Td(n,zs(tC(t.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const u=Pr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Je.saveNamedQuery(l,t);const f=i.withResumeToken(hr.EMPTY_BYTE_STRING,u);return r.Un=r.Un.insert(f.targetId,f),r.ze.updateTargetData(l,f).next(()=>r.ze.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.ze.addMatchingKeys(l,e,i.targetId)).next(()=>r.Je.saveNamedQuery(l,t))})})).apply(this,arguments)}class O2{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return je.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var i;return this.Yn.set(e.id,{id:(i=e).id,version:i.version,createTime:Pr(i.createTime)}),je.resolve()}getNamedQuery(t,e){return je.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(i=e).name,query:tC(i.bundledQuery),readTime:Pr(i.readTime)}),je.resolve();var i}}class pC{constructor(){this.Zn=new zi(Fr.ts),this.es=new zi(Fr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Fr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Fr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}cs(t){const e=new It(new Fn([])),i=new Fr(e,t),r=new Fr(e,t+1),l=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),l.push(u.key)}),l}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new It(new Fn([])),i=new Fr(e,t),r=new Fr(e,t+1);let l=Hn();return this.es.forEachInRange([i,r],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new Fr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Fr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return It.comparator(t.key,e.key)||gn(t.ls,e.ls)}static ns(t,e){return gn(t.ls,e.ls)||It.comparator(t.key,e.key)}}class Ak{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new zi(Fr.ts)}checkEmpty(t){return je.resolve(0===this.In.length)}addMutationBatch(t,e,i,r){const l=this.fs;this.fs++;const u=new Xw(l,e,i,r);this.In.push(u);for(const f of r)this.ds=this.ds.add(new Fr(f.key,l)),this.Ht.addToCollectionParentIndex(t,f.key.path.popLast());return je.resolve(u)}lookupMutationBatch(t,e){return je.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const r=this._s(e+1),l=r<0?0:r;return je.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return je.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fr(e,0),r=new Fr(e,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([i,r],u=>{const f=this.ws(u.ls);l.push(f)}),je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zi(gn);return e.forEach(r=>{const l=new Fr(r,0),u=new Fr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,u],f=>{i=i.add(f.ls)})}),je.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let l=i;It.isDocumentKey(l)||(l=l.child(""));const u=new Fr(new It(l),0);let f=new zi(gn);return this.ds.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(f=f.add(g.ls)),!0)},u),je.resolve(this.gs(f))}gs(t){const e=[];return t.forEach(i=>{const r=this.ws(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.ys(e.batchId,"removed")),this.In.shift();let i=this.ds;return je.forEach(e.mutations,r=>{const l=new Fr(r.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}te(t){}containsKey(t,e){const i=new Fr(e,0),r=this.ds.firstAfterOrEqual(i);return je.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return je.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class Mk{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new br(It.comparator),this.size=0}addEntry(t,e,i){const r=e.key,l=this.docs.get(r),u=l?l.size:0,f=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:f,readTime:i}),this.size+=f-u,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return je.resolve(i?i.document.clone():di.newInvalidDocument(e))}getEntries(t,e){let i=Vo();return e.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.clone():di.newInvalidDocument(r))}),je.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=Vo();const l=new It(e.path.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:g,readTime:y}}=u.getNext();if(!e.path.isPrefixOf(f.path))break;y.compareTo(i)<=0||Ys(e,g)&&(r=r.insert(g.key,g.clone()))}return je.resolve(r)}Ts(t,e){return je.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Nk(this)}getSize(t){return je.resolve(this.size)}}class Nk extends $S{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(i))):this.Se.removeEntry(i)}),je.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class Rk{constructor(t){this.persistence=t,this.Es=new Pl(e=>Bc(e),Qg),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Is=0,this.As=new pC,this.targetCount=0,this.Rs=Dd.se()}forEachTarget(t,e){return this.Es.forEach((i,r)=>e(r)),je.resolve()}getLastRemoteSnapshotVersion(t){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return je.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Is&&(this.Is=e),je.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Dd(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,je.resolve()}updateTargetData(t,e){return this.ce(e),je.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,je.resolve()}removeTargets(t,e,i){let r=0;const l=[];return this.Es.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Es.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),je.waitFor(l).next(()=>r)}getTargetCount(t){return je.resolve(this.targetCount)}getTargetData(t,e){const i=this.Es.get(e)||null;return je.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),je.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach(u=>{l.push(r.markPotentiallyOrphaned(t,u))}),je.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),je.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return je.resolve(i)}containsKey(t,e){return je.resolve(this.As.containsKey(e))}}class kk{constructor(t,e){this.bs={},this.Le=new qs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new Rk(this),this.Ht=new FS,this.He=new Mk(this.Ht,i=>this.referenceDelegate.Ps(i)),this.N=new NS(e),this.Je=new O2(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Ak(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,i){et("MemoryPersistence","Starting transaction:",t);const r=new xk(this.Le.next());return this.referenceDelegate.vs(),i(r).next(l=>this.referenceDelegate.Vs(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Ss(t,e){return je.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class xk extends IS{constructor(t){super(),this.currentSequenceNumber=t}}class gC{constructor(t){this.persistence=t,this.Ds=new pC,this.Cs=null}static Ns(t){return new gC(t)}get xs(){if(this.Cs)return this.Cs;throw Rt()}addReference(t,e,i){return this.Ds.addReference(i,e),this.xs.delete(i.toString()),je.resolve()}removeReference(t,e,i){return this.Ds.removeReference(i,e),this.xs.add(i.toString()),je.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),je.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(l=>this.xs.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.xs,i=>{const r=It.fromPath(i);return this.ks(t,r).next(l=>{l||e.removeEntry(r)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return je.or([()=>je.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function Ok(n,t){return`firestore_clients_${n}_${t}`}function KS(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Id(n,t){return`firestore_targets_${n}_${t}`}class hv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static $s(t,e,i){const r=JSON.parse(i);let l,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(l=new qe(r.error.code,r.error.message))),u?new hv(t,e,r.state,l):(dr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vm{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static $s(t,e){const i=JSON.parse(e);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new qe(i.error.code,i.error.message))),l?new vm(t,i.state,r):(dr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class fv{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=rm();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=xw(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return r?new fv(t,l):(dr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Gf{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Gf(e.clientId,e.onlineState):(dr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Fl{constructor(){this.activeTargetIds=rm()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pv{constructor(t,e,i,r,l){this.window=t,this.Oe=e,this.persistenceKey=i,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new br(gn),this.started=!1,this.Ks=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=Ok(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Fl),this.Ws=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Me.Z)(function*(){const e=yield t.syncEngine.pn();for(const r of e){if(r===t.Ls)continue;const l=t.getItem(Ok(t.persistenceKey,r));if(l){const u=fv.$s(r,l);u&&(t.qs=t.qs.insert(u.clientId,u))}}t.Ys();const i=t.storage.getItem(t.Hs);if(i){const r=t.Xs(i);r&&t.Zs(r)}for(const r of t.Ks)t.Us(r);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,i){this.ei(t,e,i),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Id(this.persistenceKey,t));if(i){const r=vm.$s(t,i);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Id(this.persistenceKey,t))}updateQueryState(t,e,i){this.ii(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.ni(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return et("SharedClientState","READ",t,e),e}setItem(t,e){et("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){et("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const i=t;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.js)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Me.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ws.test(i.key)){if(null==i.newValue){const r=e.ci(i.key);return e.ai(r,null)}{const r=e.ui(i.key,i.newValue);if(r)return e.ai(r.clientId,r)}}else if(e.Gs.test(i.key)){if(null!==i.newValue){const r=e.hi(i.key,i.newValue);if(r)return e.li(r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.fi(i.key,i.newValue);if(r)return e.di(r)}}else if(i.key===e.Hs){if(null!==i.newValue){const r=e.Xs(i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.Qs){const r=function(l){let u=qs.T;if(null!=l)try{const f=JSON.parse(l);Ut("number"==typeof f),u=f}catch(f){dr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==qs.T&&e.sequenceNumberHandler(r)}else if(i.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(i)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,i){const r=new hv(this.currentUser,t,e,i),l=KS(this.persistenceKey,this.currentUser,t);this.setItem(l,r.Os())}ni(t){const e=KS(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,i){const r=Id(this.persistenceKey,t),l=new vm(t,e,i);this.setItem(r,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const i=this.ci(t);return fv.$s(i,e)}hi(t,e){const i=this.Gs.exec(t),r=Number(i[1]);return hv.$s(new os(void 0!==i[2]?i[2]:null),r,e)}fi(t,e){const i=this.zs.exec(t),r=Number(i[1]);return vm.$s(r,e)}Xs(t){return Gf.$s(t)}li(t){var e=this;return(0,Me.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);et("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const i=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),l=this.ti(i),u=[],f=[];return l.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{l.has(g)||f.push(g)}),this.syncEngine.gi(u,f).then(()=>{this.qs=i})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=rm();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class QS{constructor(){this.yi=new Fl,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,i){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new Fl,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class P2{Ti(t){}shutdown(){}}class JS{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Pk{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class Fk extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,i,r){const l=this.Bi(t,e);et("RestConnection","Sending: ",l,i);const u={};return this.Ui(u,r),this.qi(t,l,u,i).then(f=>(et("RestConnection","Received: ",f),f),f=>{throw Vy("RestConnection",`${t} failed with error: `,f,"url: ",l,"request:",i),f})}Ki(t,e,i,r){return this.Li(t,e,i,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+mf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const i in e.authHeaders)e.authHeaders.hasOwnProperty(i)&&(t[i]=e.authHeaders[i])}Bi(t,e){return`${this.Fi}/v1/${e}:${gv[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,i,r){return new Promise((l,u)=>{const f=new QR;f.listenOnce(T2.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Iw.NO_ERROR:const y=f.getResponseJson();et("Connection","XHR received:",JSON.stringify(y)),l(y);break;case Iw.TIMEOUT:et("Connection",'RPC "'+t+'" timed out'),u(new qe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Iw.HTTP_ERROR:const E=f.getStatus();if(et("Connection",'RPC "'+t+'" failed with status:',E,"response text:",f.getResponseText()),E>0){const T=f.getResponseJson().error;if(T&&T.status&&T.message){const I=function(R){const U=R.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(U)>=0?U:Re.UNKNOWN}(T.status);u(new qe(I,T.message))}else u(new qe(Re.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new qe(Re.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{et("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);f.send(e,"POST",g,i,15)})}ji(t,e){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=RT(),l=kT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new KR({})),this.Ui(u.initMessageHeaders,e),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const f=i.join("");et("Connection","Creating WebChannel: "+f,u);const g=r.createWebChannel(f,u);let y=!1,E=!1;const T=new Pk({vi:R=>{E?et("Connection","Not sending because WebChannel is closed:",R):(y||(et("Connection","Opening WebChannel transport."),g.open(),y=!0),et("Connection","WebChannel sending:",R),g.send(R))},Vi:()=>g.close()}),I=(R,U,te)=>{R.listen(U,fe=>{try{te(fe)}catch(We){setTimeout(()=>{throw We},0)}})};return I(g,Zg.EventType.OPEN,()=>{E||et("Connection","WebChannel transport opened.")}),I(g,Zg.EventType.CLOSE,()=>{E||(E=!0,et("Connection","WebChannel transport closed"),T.$i())}),I(g,Zg.EventType.ERROR,R=>{E||(E=!0,Vy("Connection","WebChannel transport errored:",R),T.$i(new qe(Re.UNAVAILABLE,"The operation could not be completed")))}),I(g,Zg.EventType.MESSAGE,R=>{var U;if(!E){const te=R.data[0];Ut(!!te);const fe=te,We=fe.error||(null===(U=fe[0])||void 0===U?void 0:U.error);if(We){et("Connection","WebChannel received error:",We);const Je=We.status;let mt=function(mn){const Ln=fr[mn];if(void 0!==Ln)return sS(Ln)}(Je),at=We.message;void 0===mt&&(mt=Re.INTERNAL,at="Unknown error status: "+Je+" with message "+We.message),E=!0,T.$i(new qe(mt,at)),g.close()}else et("Connection","WebChannel received:",te),T.Oi(te)}}),I(l,YR.STAT_EVENT,R=>{R.stat===Aw.PROXY?et("Connection","Detected buffering proxy"):R.stat===Aw.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.ki()},0),T}}function mC(){return"undefined"!=typeof window?window:null}function bm(){return"undefined"!=typeof document?document:null}function Ad(n){return new pS(n,!0)}class mv{constructor(t,e,i=1e3,r=1.5,l=6e4){this.Oe=t,this.timerId=e,this.Qi=i,this.Wi=r,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),i=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-i);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class _C{constructor(t,e,i,r,l,u,f){this.Oe=t,this.er=i,this.nr=r,this.sr=l,this.credentialsProvider=u,this.listener=f,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new mv(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var t=this;return(0,Me.Z)(function*(){t.ur()&&(yield t.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}_r(){var t=this;return(0,Me.Z)(function*(){if(t.hr())return t.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var i=this;return(0,Me.Z)(function*(){i.gr(),i.yr(),i.ar.cancel(),i.ir++,4!==t?i.ar.reset():e&&e.code===Re.RESOURCE_EXHAUSTED?(dr(e.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),i.ar.Yi()):e&&e.code===Re.UNAUTHENTICATED&&3!==i.state&&i.credentialsProvider.invalidateToken(),null!==i.stream&&(i.pr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ci(e)})()}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(i=>{this.ir===e&&this.Er(i)},i=>{t(()=>{const r=new qe(Re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ir(r)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(i=>{e(()=>this.Ir(i))}),this.stream.onMessage(i=>{e(()=>this.onMessage(i))})}lr(){var t=this;this.state=5,this.ar.Xi((0,Me.Z)(function*(){t.state=0,t.start()}))}Ir(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lk extends _C{constructor(t,e,i,r,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,l),this.N=r}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Rt(),r=t.targetChange.targetIds||[],l=function(g,y){return g.D?(Ut(void 0===y||"string"==typeof y),hr.fromBase64String(y||"")):(Ut(void 0===y||y instanceof Uint8Array),hr.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(g){const y=void 0===g.code?Re.UNKNOWN:sS(g.code);return new qe(y,g.message||"")}(u);e=new dS(i,r,l,f||null)}else if("documentChange"in t){const i=t.documentChange,r=_o(n,i.document.name),l=Pr(i.document.updateTime),u=new qr({mapValue:{fields:i.document.fields}}),f=di.newFoundDocument(r,l,u);e=new Af(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=_o(n,i.document),l=i.readTime?Pr(i.readTime):an.min(),u=di.newNoDocument(r,l);e=new Af([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=_o(n,i.document);e=new Af([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Rt();{const i=t.filter,l=new ck(i.count||0);e=new Hc(i.targetId,l)}}var g;return e}(this.N,t),i=function(r){if(!("targetChange"in r))return an.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?an.min():l.readTime?Pr(l.readTime):an.min()}(t);return this.listener.Rr(e,i)}br(t){const e={};e.database=tv(this.N),e.addTarget=function(r,l){let u;const f=l.target;return u=Jg(f)?{documents:yS(r,f)}:{query:vS(r,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=kt(r,l.resumeToken):l.snapshotVersion.compareTo(an.min())>0&&(u.readTime=ev(r,l.snapshotVersion.toTimestamp())),u}(this.N,t);const i=function(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.mr(e)}Pr(t){const e={};e.database=tv(this.N),e.removeTarget=t,this.mr(e)}}class Vk extends _C{constructor(t,e,i,r,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,l),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let l=Pr(i.updateTime?i.updateTime:r);return l.isEqual(an.min())&&(l=Pr(r)),new jw(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Pr(t.commitTime);return this.listener.Dr(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=tv(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>am(this.N,i))};this.mr(e)}}class XS extends class{}{constructor(t,e,i){super(),this.credentials=t,this.sr=e,this.N=i,this.kr=!1}$r(){if(this.kr)throw new qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,i){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(t,e,i,r)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Re.UNAUTHENTICATED&&this.credentials.invalidateToken(),r):new qe(Re.UNKNOWN,r.toString())})}Ki(t,e,i){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(t,e,i,r)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Re.UNAUTHENTICATED&&this.credentials.invalidateToken(),r):new qe(Re.UNKNOWN,r.toString())})}terminate(){this.kr=!0}}class Uk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(dr(e),this.Mr=!1):et("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class eI{constructor(t,e,i,r,l){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(f=>{i.enqueueAndForget((0,Me.Z)(function*(){var g;wr(u)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Me.Z)(function*(y){const E=st(y);E.Wr.add(4),yield wm(E),E.Hr.set("Unknown"),E.Wr.delete(4),yield Qc(E)}),function(y){return g.apply(this,arguments)})(u))}))}),this.Hr=new Uk(i,r)}}function Qc(n){return qf.apply(this,arguments)}function qf(){return(qf=(0,Me.Z)(function*(n){if(wr(n))for(const t of n.Gr)yield t(!0)})).apply(this,arguments)}function wm(n){return Md.apply(this,arguments)}function Md(){return(Md=(0,Me.Z)(function*(n){for(const t of n.Gr)yield t(!1)})).apply(this,arguments)}function Rn(n,t){const e=st(n);e.Qr.has(t.targetId)||(e.Qr.set(t.targetId,t),Qt(e)?tI(e):Wf(e).hr()&&Jc(e,t))}function Uo(n,t){const e=st(n),i=Wf(e);e.Qr.delete(t),i.hr()&&zf(e,t),0===e.Qr.size&&(i.hr()?i.wr():wr(e)&&e.Hr.set("Unknown"))}function Jc(n,t){n.Jr.Y(t.targetId),Wf(n).br(t)}function zf(n,t){n.Jr.Y(t),Wf(n).Pr(t)}function tI(n){n.Jr=new Mf({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>n.Qr.get(t)||null}),Wf(n).start(),n.Hr.Lr()}function Qt(n){return wr(n)&&!Wf(n).ur()&&n.Qr.size>0}function wr(n){return 0===st(n).Wr.size}function _v(n){n.Jr=void 0}function Nd(n){return nI.apply(this,arguments)}function nI(){return(nI=(0,Me.Z)(function*(n){n.Qr.forEach((t,e)=>{Jc(n,t)})})).apply(this,arguments)}function iI(n,t){return yv.apply(this,arguments)}function yv(){return(yv=(0,Me.Z)(function*(n,t){_v(n),Qt(n)?(n.Hr.qr(t),tI(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function F2(n,t,e){return yC.apply(this,arguments)}function yC(){return(yC=(0,Me.Z)(function*(n,t,e){if(n.Hr.set("Online"),t instanceof dS&&2===t.state&&t.cause)try{yield(i=(0,Me.Z)(function*(r,l){const u=l.cause;for(const f of l.targetIds)r.Qr.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Qr.delete(f),r.Jr.removeTarget(f))}),function(r,l){return i.apply(this,arguments)})(n,t)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield vv(n,i)}else if(t instanceof Af?n.Jr.rt(t):t instanceof Hc?n.Jr.ft(t):n.Jr.at(t),!e.isEqual(an.min()))try{const i=yield qS(n.localStore);e.compareTo(i)>=0&&(yield function(r,l){const u=r.Jr._t(l);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=r.Qr.get(g);y&&r.Qr.set(g,y.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const g=r.Qr.get(f);if(!g)return;r.Qr.set(f,g.withResumeToken(hr.EMPTY_BYTE_STRING,g.snapshotVersion)),zf(r,f);const y=new xl(g.target,f,1,g.sequenceNumber);Jc(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){et("RemoteStore","Failed to raise snapshot:",i),yield vv(n,i)}var i})).apply(this,arguments)}function vv(n,t,e){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,Me.Z)(function*(n,t,e){if(!Gc(t))throw t;n.Wr.add(1),yield wm(n),n.Hr.set("Offline"),e||(e=()=>qS(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield e(),n.Wr.delete(1),yield Qc(n)}))})).apply(this,arguments)}function Di(n,t){return t().catch(e=>vv(n,e,t))}function cs(n){return bv.apply(this,arguments)}function bv(){return(bv=(0,Me.Z)(function*(n){const t=st(n),e=ga(t);let i=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;Bk(t);)try{const r=yield zS(t.localStore,i);if(null===r){0===t.jr.length&&e.wr();break}i=r.batchId,rI(t,r)}catch(r){yield vv(t,r)}wv(t)&&Rd(t)})).apply(this,arguments)}function Bk(n){return wr(n)&&n.jr.length<10}function rI(n,t){n.jr.push(t);const e=ga(n);e.hr()&&e.Vr&&e.Sr(t.mutations)}function wv(n){return wr(n)&&!ga(n).ur()&&n.jr.length>0}function Rd(n){ga(n).start()}function Cm(n){return vC.apply(this,arguments)}function vC(){return(vC=(0,Me.Z)(function*(n){ga(n).Nr()})).apply(this,arguments)}function kd(n){return bC.apply(this,arguments)}function bC(){return(bC=(0,Me.Z)(function*(n){const t=ga(n);for(const e of n.jr)t.Sr(e.mutations)})).apply(this,arguments)}function sI(n,t,e){return Em.apply(this,arguments)}function Em(){return(Em=(0,Me.Z)(function*(n,t,e){const i=n.jr.shift(),r=sv.from(i,t,e);yield Di(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cs(n)})).apply(this,arguments)}function Dm(n,t){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,Me.Z)(function*(n,t){var e;t&&ga(n).Vr&&(yield(e=(0,Me.Z)(function*(i,r){if(rS(l=r.code)&&l!==Re.ABORTED){const u=i.jr.shift();ga(i).dr(),yield Di(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield cs(i)}var l}),function(i,r){return e.apply(this,arguments)})(n,t)),wv(n)&&Rd(n)})).apply(this,arguments)}function Cv(n,t){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,Me.Z)(function*(n,t){const e=st(n);t?(e.Wr.delete(2),yield Qc(e)):t||(e.Wr.add(2),yield wm(e),e.Hr.set("Unknown"))})).apply(this,arguments)}function Wf(n){return n.Yr||(n.Yr=function(t,e,i){const r=st(t);return r.$r(),new Lk(e,r.sr,r.credentials,r.N,i)}(n.datastore,n.asyncQueue,{Si:Nd.bind(null,n),Ci:iI.bind(null,n),Rr:F2.bind(null,n)}),n.Gr.push(function(){var t=(0,Me.Z)(function*(e){e?(n.Yr.dr(),Qt(n)?tI(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),_v(n))});return function(e){return t.apply(this,arguments)}}())),n.Yr}function ga(n){return n.Xr||(n.Xr=function(t,e,i){const r=st(t);return r.$r(),new Vk(e,r.sr,r.credentials,r.N,i)}(n.datastore,n.asyncQueue,{Si:Cm.bind(null,n),Ci:Dm.bind(null,n),Cr:kd.bind(null,n),Dr:sI.bind(null,n)}),n.Gr.push(function(){var t=(0,Me.Z)(function*(e){e?(n.Xr.dr(),yield cs(n)):(yield n.Xr.stop(),n.jr.length>0&&(et("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Xr}class Ev{constructor(t,e,i,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,l){const u=Date.now()+i,f=new Ev(t,e,u,r,l);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(Re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xd(n,t){if(dr("AsyncQueue",`${t}: ${n}`),Gc(n))return new qe(Re.UNAVAILABLE,`${t}: ${n}`);throw n}class Od{constructor(t){this.comparator=t?(e,i)=>t(e,i)||It.comparator(e.key,i.key):(e,i)=>It.comparator(e.key,i.key),this.keyedMap=Jy(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new Od(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Od)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Od;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Sm{constructor(){this.Zr=new br(It.comparator)}track(t){const e=t.doc.key,i=this.Zr.get(e);i?0!==t.type&&3===i.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==i.type?this.Zr=this.Zr.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Zr=this.Zr.remove(e):1===t.type&&2===i.type?this.Zr=this.Zr.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):Rt():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,i)=>{t.push(i)}),t}}class Yf{constructor(t,e,i,r,l,u,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(t,e,i,r){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Yf(t,e,Od.emptySet(e),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ws(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class wC{constructor(){this.no=void 0,this.listeners=[]}}class CC{constructor(){this.queries=new Pl(t=>KT(t),Ws),this.onlineState="Unknown",this.so=new Set}}function oI(n,t){return aI.apply(this,arguments)}function aI(){return(aI=(0,Me.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,l=e.queries.get(i);if(l||(r=!0,l=new wC),r)try{l.no=yield e.onListen(i)}catch(u){const f=xd(u,`Initialization of query '${zy(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,l),l.listeners.push(t),t.io(e.onlineState),l.no&&t.ro(l.no)&&EC(e)})).apply(this,arguments)}function Wt(n,t){return lI.apply(this,arguments)}function lI(){return(lI=(0,Me.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const l=e.queries.get(i);if(l){const u=l.listeners.indexOf(t);u>=0&&(l.listeners.splice(u,1),r=0===l.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function Im(n,t){const e=st(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.ro(r)&&(i=!0);u.no=r}}i&&EC(e)}function $k(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const l of r.listeners)l.onError(e);i.queries.delete(t)}function EC(n){n.so.forEach(t=>{t.next()})}class DC{constructor(t,e,i){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=i||{}}ro(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Yf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=Yf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class L2{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class Hk{constructor(t){this.N=t}zn(t){return _o(this.N,t)}Hn(t){return t.metadata.exists?gS(this.N,t.document,!1):di.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Pr(t)}}class jk{constructor(t,e,i){this._o=t,this.localStore=e,this.N=i,this.queries=[],this.documents=[],this.progress=Kr(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,i=new Hk(this.N);for(const r of t)if(r.metadata.queries){const l=i.zn(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||Hn()).add(l);e.set(u,f)}}return e}complete(){var t=this;return(0,Me.Z)(function*(){const e=yield function(n,t,e,i){return Sd.apply(this,arguments)}(t.localStore,new Hk(t.N),t.documents,t._o.id),i=t.yo(t.documents);for(const r of t.queries)yield Ik(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new Dk(Object.assign({},t.progress),e)})()}}function Kr(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cI{constructor(t){this.key=t}}class uI{constructor(t){this.key=t}}class Dv{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=Hn(),this.mutatedKeys=Hn(),this.Io=Lo(t),this.Ao=new Od(this.Io)}get Ro(){return this.po}bo(t,e){const i=e?e.Po:new Sm,r=e?e.Ao:this.Ao;let l=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const g=Hy(this.query)&&r.size===this.query.limit?r.last():null,y=jy(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,T)=>{const I=r.get(E),R=Ys(this.query,T)?T:null,U=!!I&&this.mutatedKeys.has(I.key),te=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let fe=!1;I&&R?I.data.isEqual(R.data)?U!==te&&(i.track({type:3,doc:R}),fe=!0):this.vo(I,R)||(i.track({type:2,doc:R}),fe=!0,(g&&this.Io(R,g)>0||y&&this.Io(R,y)<0)&&(f=!0)):!I&&R?(i.track({type:0,doc:R}),fe=!0):I&&!R&&(i.track({type:1,doc:I}),fe=!0,(g||y)&&(f=!0)),fe&&(R?(u=u.add(R),l=te?l.add(E):l.delete(E)):(u=u.delete(E),l=l.delete(E)))}),Hy(this.query)||jy(this.query))for(;u.size>this.query.limit;){const E=Hy(this.query)?u.last():u.first();u=u.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{Ao:u,Po:i,Ln:f,mutatedKeys:l}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const l=t.Po.eo();l.sort((y,E)=>function(T,I){const R=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return R(T)-R(I)}(y.type,E.type)||this.Io(y.doc,E.doc)),this.Vo(i);const u=e?this.So():[],f=0===this.Eo.size&&this.current?1:0,g=f!==this.To;return this.To=f,0!==l.length||g?{snapshot:new Yf(this.query,t.Ao,r,l,t.mutatedKeys,0===f,g,!1),Do:u}:{Do:u}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Sm,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(e=>this.po=this.po.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=Hn(),this.Ao.forEach(i=>{this.Co(i.key)&&(this.Eo=this.Eo.add(i.key))});const e=[];return t.forEach(i=>{this.Eo.has(i)||e.push(new uI(i))}),this.Eo.forEach(i=>{t.has(i)||e.push(new cI(i))}),e}No(t){this.po=t.Gn,this.Eo=Hn();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Yf.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Zk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Gk{constructor(t){this.key=t,this.ko=!1}}class qk{constructor(t,e,i,r,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.$o={},this.Oo=new Pl(f=>KT(f),Ws),this.Fo=new Map,this.Mo=new Set,this.Lo=new br(It.comparator),this.Bo=new Map,this.Uo=new pC,this.qo={},this.Ko=new Map,this.jo=Dd.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function zk(n,t){return TC.apply(this,arguments)}function TC(){return(TC=(0,Me.Z)(function*(n,t){const e=wo(n);let i,r;const l=e.Oo.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),r=l.view.xo();else{const u=yield Td(e.localStore,zs(t)),f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield SC(e,t,i,"current"===f),e.isPrimaryClient&&Rn(e.remoteStore,u)}return r})).apply(this,arguments)}function SC(n,t,e,i){return Am.apply(this,arguments)}function Am(){return(Am=(0,Me.Z)(function*(n,t,e,i){n.Wo=(E,T,I)=>{return(R=(0,Me.Z)(function*(U,te,fe,We){let Je=te.view.bo(fe);Je.Ln&&(Je=yield _m(U.localStore,te.query,!1).then(({documents:mn})=>te.view.bo(mn,Je)));const mt=We&&We.targetChanges.get(te.targetId),at=te.view.applyChanges(Je,U.isPrimaryClient,mt);return kC(U,te.targetId,at.Do),at.snapshot}),function(U,te,fe,We){return R.apply(this,arguments)})(n,E,T,I);var R};const r=yield _m(n.localStore,t,!0),l=new Dv(t,r.Gn),u=l.bo(r.documents),f=wd.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),g=l.applyChanges(u,n.isPrimaryClient,f);kC(n,e,g.Do);const y=new Zk(t,e,l);return n.Oo.set(t,y),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),g.snapshot})).apply(this,arguments)}function Wk(n,t){return IC.apply(this,arguments)}function IC(){return(IC=(0,Me.Z)(function*(n,t){const e=st(n),i=e.Oo.get(t),r=e.Fo.get(i.targetId);if(r.length>1)return e.Fo.set(i.targetId,r.filter(l=>!Ws(l,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jf(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Uo(e.remoteStore,i.targetId),Nm(e,i.targetId)}).catch(Yc))):(Nm(e,i.targetId),yield jf(e.localStore,i.targetId,!0))})).apply(this,arguments)}function Mm(){return(Mm=(0,Me.Z)(function*(n,t,e){const i=km(n);try{const r=yield function(l,u){const f=st(l),g=xr.now(),y=u.reduce((T,I)=>T.add(I.key),Hn());let E;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>f.Qn.Pn(T,y).next(I=>{E=I;const R=[];for(const U of u){const te=tS(U,E.get(U.key));null!=te&&R.push(new $c(U.key,te,$T(te.value.mapValue),Pi.exists(!0)))}return f.In.addMutationBatch(T,g,R,u)})).then(T=>(T.applyToLocalDocumentSet(E),{batchId:T.batchId,changes:E}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,f){let g=l.qo[l.currentUser.toKey()];g||(g=new br(gn)),g=g.insert(u,f),l.qo[l.currentUser.toKey()]=g}(i,r.batchId,e),yield Ll(i,r.changes),yield cs(i.remoteStore)}catch(r){const l=xd(r,"Failed to persist write");e.reject(l)}})).apply(this,arguments)}function hI(n,t){return fI.apply(this,arguments)}function fI(){return(fI=(0,Me.Z)(function*(n,t){const e=st(n);try{const i=yield Sk(e.localStore,t);t.targetChanges.forEach((r,l)=>{const u=e.Bo.get(l);u&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ko=!0:r.modifiedDocuments.size>0?Ut(u.ko):r.removedDocuments.size>0&&(Ut(u.ko),u.ko=!1))}),yield Ll(e,i,t)}catch(i){yield Yc(i)}})).apply(this,arguments)}function pI(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Oo.forEach((l,u)=>{const f=u.view.io(t);f.snapshot&&r.push(f.snapshot)}),function(l,u){const f=st(l);f.onlineState=u;let g=!1;f.queries.forEach((y,E)=>{for(const T of E.listeners)T.io(u)&&(g=!0)}),g&&EC(f)}(i.eventManager,t),r.length&&i.$o.Rr(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Yk(n,t,e){return AC.apply(this,arguments)}function AC(){return(AC=(0,Me.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Bo.get(t),l=r&&r.key;if(l){let u=new br(It.comparator);u=u.insert(l,di.newNoDocument(l,an.min()));const f=Hn().add(l),g=new If(an.min(),new Map,new zi(gn),u,f);yield hI(i,g),i.Lo=i.Lo.remove(l),i.Bo.delete(t),xC(i)}else yield jf(i.localStore,t,!1).then(()=>Nm(i,t,e)).catch(Yc)})).apply(this,arguments)}function Kk(n,t){return MC.apply(this,arguments)}function MC(){return(MC=(0,Me.Z)(function*(n,t){const e=st(n),i=t.batch.batchId;try{const r=yield Tk(e.localStore,t);Fd(e,i,null),Tv(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ll(e,r)}catch(r){yield Yc(r)}})).apply(this,arguments)}function Qk(n,t,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,Me.Z)(function*(n,t,e){const i=st(n);try{const r=yield function(l,u){const f=st(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.In.lookupMutationBatch(g,u).next(E=>(Ut(null!==E),y=E.keys(),f.In.removeMutationBatch(g,E))).next(()=>f.In.performConsistencyCheck(g)).next(()=>f.Qn.Pn(g,y))})}(i.localStore,t);Fd(i,t,e),Tv(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ll(i,r)}catch(r){yield Yc(r)}})).apply(this,arguments)}function NC(){return(NC=(0,Me.Z)(function*(n,t){const e=st(n);wr(e.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=st(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.In.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ko.get(i)||[];r.push(t),e.Ko.set(i,r)}catch(i){const r=xd(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function Tv(n,t){(n.Ko.get(t)||[]).forEach(e=>{e.resolve()}),n.Ko.delete(t)}function Fd(n,t,e){const i=st(n);let r=i.qo[i.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),i.qo[i.currentUser.toKey()]=r}}function Nm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Oo.delete(i),e&&n.$o.Go(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.Uo.cs(t).forEach(i=>{n.Uo.containsKey(i)||RC(n,i)})}function RC(n,t){n.Mo.delete(t.path.canonicalString());const e=n.Lo.get(t);null!==e&&(Uo(n.remoteStore,e),n.Lo=n.Lo.remove(t),n.Bo.delete(e),xC(n))}function kC(n,t,e){for(const i of e)i instanceof cI?(n.Uo.addReference(i.key,t),Xk(n,i)):i instanceof uI?(et("SyncEngine","Document no longer in limbo: "+i.key),n.Uo.removeReference(i.key,t),n.Uo.containsKey(i.key)||RC(n,i.key)):Rt()}function Xk(n,t){const e=t.key,i=e.path.canonicalString();n.Lo.get(e)||n.Mo.has(i)||(et("SyncEngine","New document in limbo: "+e),n.Mo.add(i),xC(n))}function xC(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const t=n.Mo.values().next().value;n.Mo.delete(t);const e=new It(Fn.fromString(t)),i=n.jo.next();n.Bo.set(i,new Gk(e)),n.Lo=n.Lo.insert(e,i),Rn(n.remoteStore,new xl(zs(ua(e.path)),i,2,qs.T))}}function Ll(n,t,e){return OC.apply(this,arguments)}function OC(){return(OC=(0,Me.Z)(function*(n,t,e){const i=st(n),r=[],l=[],u=[];var f;i.Oo.isEmpty()||(i.Oo.forEach((f,g)=>{u.push(i.Wo(g,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y.fromCache?"not-current":"current"),r.push(y);const E=mm.kn(g.targetId,y);l.push(E)}}))}),yield Promise.all(u),i.$o.Rr(r),yield(f=(0,Me.Z)(function*(g,y){const E=st(g);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>je.forEach(y,I=>je.forEach(I.Nn,R=>E.persistence.referenceDelegate.addReference(T,I.targetId,R)).next(()=>je.forEach(I.xn,R=>E.persistence.referenceDelegate.removeReference(T,I.targetId,R)))))}catch(T){if(!Gc(T))throw T;et("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const R=E.Un.get(I),te=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);E.Un=E.Un.insert(I,te)}}}),function(g,y){return f.apply(this,arguments)})(i.localStore,l))})).apply(this,arguments)}function gI(n,t){return PC.apply(this,arguments)}function PC(){return(PC=(0,Me.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const i=yield ZS(e.localStore,t);e.currentUser=t,(r=e).Ko.forEach(u=>{u.forEach(f=>{f.reject(new qe(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ko.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ll(e,i.Wn)}var r})).apply(this,arguments)}function ex(n,t){const e=st(n),i=e.Bo.get(t);if(i&&i.ko)return Hn().add(i.key);{let r=Hn();const l=e.Fo.get(t);if(!l)return r;for(const u of l){const f=e.Oo.get(u);r=r.unionWith(f.view.Ro)}return r}}function V2(n,t){return mI.apply(this,arguments)}function mI(){return(mI=(0,Me.Z)(function*(n,t){const e=st(n),i=yield _m(e.localStore,t.query,!0),r=t.view.No(i);return e.isPrimaryClient&&kC(e,t.targetId,r.Do),r})).apply(this,arguments)}function U2(n){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,Me.Z)(function*(n){const t=st(n);return WS(t.localStore).then(e=>Ll(t,e))})).apply(this,arguments)}function tx(n,t,e,i){return FC.apply(this,arguments)}function FC(){return(FC=(0,Me.Z)(function*(n,t,e,i){const r=st(n),l=yield function(u,f){const g=st(u),y=st(g.In);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Xt(E,f).next(T=>T?g.Qn.Pn(E,T):je.resolve(null)))}(r.localStore,t);var f;null!==l?("pending"===e?yield cs(r.remoteStore):"acknowledged"===e||"rejected"===e?(Fd(r,t,i||null),Tv(r,t),f=t,st(st(r.localStore).In).te(f)):Rt(),yield Ll(r,l)):et("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function LC(){return(LC=(0,Me.Z)(function*(n,t){const e=st(n);if(wo(e),km(e),!0===t&&!0!==e.Qo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield _I(e,i.toArray());e.Qo=!0,yield Cv(e.remoteStore,!0);for(const l of r)Rn(e.remoteStore,l)}else if(!1===t&&!1!==e.Qo){const i=[];let r=Promise.resolve();e.Fo.forEach((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Nm(e,u),jf(e.localStore,u,!0))),Uo(e.remoteStore,u)}),yield r,yield _I(e,i),function(l){const u=st(l);u.Bo.forEach((f,g)=>{Uo(u.remoteStore,g)}),u.Uo.us(),u.Bo=new Map,u.Lo=new br(It.comparator)}(e),e.Qo=!1,yield Cv(e.remoteStore,!1)}})).apply(this,arguments)}function _I(n,t,e){return VC.apply(this,arguments)}function VC(){return(VC=(0,Me.Z)(function*(n,t,e){const i=st(n),r=[],l=[];for(const u of t){let f;const g=i.Fo.get(u);if(g&&0!==g.length){f=yield Td(i.localStore,zs(g[0]));for(const y of g){const E=i.Oo.get(y),T=yield V2(i,E);T.snapshot&&l.push(T.snapshot)}}else{const y=yield ym(i.localStore,u);f=yield Td(i.localStore,y),yield SC(i,UC(y),u,!1)}r.push(f)}return i.$o.Rr(l),r})).apply(this,arguments)}function UC(n){return Lw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function BC(n){const t=st(n);return st(st(t.localStore).persistence).pn()}function ix(n,t,e,i){return eu.apply(this,arguments)}function eu(){return(eu=(0,Me.Z)(function*(n,t,e,i){const r=st(n);if(r.Qo)et("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(t))switch(e){case"current":case"not-current":{const l=yield WS(r.localStore),u=If.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ll(r,l,u);break}case"rejected":yield jf(r.localStore,t,!0),Nm(r,t,i);break;default:Rt()}})).apply(this,arguments)}function us(n,t,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Me.Z)(function*(n,t,e){const i=wo(n);if(i.Qo){for(const r of t){if(i.Fo.has(r)){et("SyncEngine","Adding an already active target "+r);continue}const l=yield ym(i.localStore,r),u=yield Td(i.localStore,l);yield SC(i,UC(l),u.targetId,!1),Rn(i.remoteStore,u)}for(const r of e)i.Fo.has(r)&&(yield jf(i.localStore,r,!1).then(()=>{Uo(i.remoteStore,r),Nm(i,r)}).catch(Yc))}})).apply(this,arguments)}function wo(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ex.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yk.bind(null,t),t.$o.Rr=Im.bind(null,t.eventManager),t.$o.Go=$k.bind(null,t.eventManager),t}function km(n){const t=st(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qk.bind(null,t),t}class $C{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Me.Z)(function*(){e.N=Ad(t.databaseInfo.databaseId),e.sharedClientState=e.Ho(t),e.persistence=e.Jo(t),yield e.persistence.start(),e.gcScheduler=e.Yo(t),e.localStore=e.Xo(t)})()}Yo(t){return null}Xo(t){return uC(this.persistence,new lC,t.initialUser,this.N)}Jo(t){return new kk(gC.Ns,this.N)}Ho(t){return new QS}terminate(){var t=this;return(0,Me.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class HC extends $C{constructor(t,e,i){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield e().call(i,t),yield function(n){return Zf.apply(this,arguments)}(i.localStore),yield i.Zo.initialize(i,t),yield km(i.Zo.syncEngine),yield cs(i.Zo.remoteStore),yield i.persistence.nn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Xo(t){return uC(this.persistence,new lC,t.initialUser,this.N)}Yo(t){return new bk(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=aC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new sC(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,mC(),bm(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new QS}}class yI extends HC{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield e().call(i,t);const r=i.Zo.syncEngine;i.sharedClientState instanceof pv&&(i.sharedClientState.syncEngine={_i:tx.bind(null,r),mi:ix.bind(null,r),gi:us.bind(null,r),pn:BC.bind(null,r),wi:U2.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.nn(function(){var l=(0,Me.Z)(function*(u){yield function(n,t){return LC.apply(this,arguments)}(i.Zo.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}Ho(t){const e=mC();if(!pv.bt(e))throw new qe(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=aC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new pv(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class jC{initialize(t,e){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>pI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,i.syncEngine),yield Cv(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new CC}createDatastore(t){const e=Ad(t.databaseInfo.databaseId),i=new Fk(t.databaseInfo);return new XS(t.credentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,l=f=>pI(this.syncEngine,f,0),u=JS.bt()?new JS:new P2,new eI(e,i,r,l,u);var e,i,r,l,u}createSyncEngine(t,e){return function(i,r,l,u,f,g,y){const E=new qk(i,r,l,u,f,g);return y&&(E.Qo=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Me.Z)(function*(e){const i=st(e);et("RemoteStore","RemoteStore shutting down."),i.Wr.add(5),yield wm(i),i.zr.shutdown(),i.Hr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function vI(n,t=10240){let e=0;return{read:()=>(0,Me.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Iv{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class bI{constructor(t,e){this.nc=t,this.N=e,this.metadata=new Gr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(i=>{i&&i.wo()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.nc.cancel()}getMetadata(){var t=this;return(0,Me.Z)(function*(){return t.metadata.promise})()}zo(){var t=this;return(0,Me.Z)(function*(){return yield t.getMetadata(),t.ic()})()}ic(){var t=this;return(0,Me.Z)(function*(){const e=yield t.rc();if(null===e)return null;const i=t.sc.decode(e),r=Number(i);isNaN(r)&&t.oc(`length string (${i}) is not valid number`);const l=yield t.cc(r);return new L2(JSON.parse(l),e.length+r)})()}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}rc(){var t=this;return(0,Me.Z)(function*(){for(;t.ac()<0&&!(yield t.uc()););if(0===t.buffer.length)return null;const e=t.ac();e<0&&t.oc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}cc(t){var e=this;return(0,Me.Z)(function*(){for(;e.buffer.length<t;)(yield e.uc())&&e.oc("Reached the end of bundle when more is expected.");const i=e.sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}uc(){var t=this;return(0,Me.Z)(function*(){const e=yield t.nc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class sx{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new qe(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Me.Z)(function*(l,u){const f=st(l),g=tv(f.N)+"/documents",y={documents:u.map(R=>om(f.N,R))},E=yield f.Ki("BatchGetDocuments",g,y),T=new Map;E.forEach(R=>{const U=function(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=_o(e,i.found.name),l=Pr(i.found.updateTime),u=new qr({mapValue:{fields:i.found.fields}});return di.newFoundDocument(r,l,u)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=_o(e,i.missing),l=Pr(i.readTime);return di.newNoDocument(r,l)}(n,t):Rt()}(f.N,R);T.set(U.key.toString(),U)});const I=[];return u.forEach(R=>{const U=T.get(R.toString());Ut(!!U),I.push(U)}),I}),function(l,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new im(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const l=It.fromPath(r);t.mutations.push(new zw(l,t.precondition(l)))}),yield(i=(0,Me.Z)(function*(r,l){const u=st(r),f=tv(u.N)+"/documents",g={writes:l.map(y=>am(u.N,y))};yield u.Li("Commit",f,g)}),function(r,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Rt();e=an.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new qe(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Pi.updateTime(e):Pi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(an.min()))throw new qe(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pi.updateTime(e)}return Pi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class B2{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.hc=5,this.ar=new mv(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var t=this;this.ar.Xi((0,Me.Z)(function*(){const e=new sx(t.datastore),i=t.fc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(l=>{t.dc(l)}))}).catch(r=>{t.dc(r)})}))}fc(t){try{const e=this.updateFunction(t);return!kl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!rS(e)}return!1}}class ox{constructor(t,e,i){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=i,this.user=os.UNAUTHENTICATED,this.clientId=Rw.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var l=(0,Me.Z)(function*(u){et("FirestoreClient","Received user=",u.uid),yield r.credentialListener(u),r.user=u});return function(u){return l.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,Me.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(i){const r=xd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function wI(n,t){return tu.apply(this,arguments)}function tu(){return(tu=(0,Me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(l){i.isEqual(l)||(yield ZS(t.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function ax(n,t){return Av.apply(this,arguments)}function Av(){return(Av=(0,Me.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ZC(n);et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>{return(l=(0,Me.Z)(function*(u,f){const g=st(u);g.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const y=wr(g);g.Wr.add(3),yield wm(g),y&&g.Hr.set("Unknown"),yield g.remoteSyncer.handleCredentialChange(f),g.Wr.delete(3),yield Qc(g)}),function(u,f){return l.apply(this,arguments)})(t.remoteStore,r);var l}),n.onlineComponents=t})).apply(this,arguments)}function ZC(n){return CI.apply(this,arguments)}function CI(){return(CI=(0,Me.Z)(function*(n){return n.offlineComponents||(et("FirestoreClient","Using default OfflineComponentProvider"),yield wI(n,new $C)),n.offlineComponents})).apply(this,arguments)}function xm(n){return GC.apply(this,arguments)}function GC(){return(GC=(0,Me.Z)(function*(n){return n.onlineComponents||(et("FirestoreClient","Using default OnlineComponentProvider"),yield ax(n,new jC)),n.onlineComponents})).apply(this,arguments)}function Mv(n){return ZC(n).then(t=>t.persistence)}function qC(n){return ZC(n).then(t=>t.localStore)}function zC(n){return xm(n).then(t=>t.remoteStore)}function Nv(n){return xm(n).then(t=>t.syncEngine)}function Ld(n){return WC.apply(this,arguments)}function WC(){return(WC=(0,Me.Z)(function*(n){const t=yield xm(n),e=t.eventManager;return e.onListen=zk.bind(null,t.syncEngine),e.onUnlisten=Wk.bind(null,t.syncEngine),e})).apply(this,arguments)}function EI(n,t,e={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,l,u,f,g){const y=new Iv({next:T=>{l.enqueueAndForget(()=>Wt(r,E));const I=T.docs.has(u);!I&&T.fromCache?g.reject(new qe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&f&&"server"===f.source?g.reject(new qe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new DC(ua(u.path),y,{includeMetadataChanges:!0,fo:!0});return oI(r,E)}(yield Ld(n),n.asyncQueue,t,e,i)})),i.promise}function Kf(n,t,e={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,l,u,f,g){const y=new Iv({next:T=>{l.enqueueAndForget(()=>Wt(r,E)),T.fromCache&&"server"===f.source?g.reject(new qe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new DC(u,y,{includeMetadataChanges:!0,fo:!0});return oI(r,E)}(yield Ld(n),n.asyncQueue,t,e,i)})),i.promise}class AI{constructor(t,e,i,r,l,u,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class Vd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vd&&t.projectId===this.projectId&&t.database===this.database}}const MI=new Map;function Rv(n,t,e){if(!e)throw new qe(Re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NI(n,t,e,i){if(!0===t&&!0===i)throw new qe(Re.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function RI(n){if(!It.isDocumentKey(n))throw new qe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kI(n){if(It.isDocumentKey(n))throw new qe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Rt()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new qe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=kv(n);throw new qe(Re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Qf(n,t){if(t<=0)throw new qe(Re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class xI{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,NI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ud{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xI({}),this._settingsFrozen=!1,t instanceof Vd?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new qe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(i.options.projectId)}(t))}get app(){if(!this._app)throw new qe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new qe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xI(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new FT;switch(e.type){case"gapi":const i=e.client;return Ut(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new XR(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new qe(Re.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=MI.get(t);e&&(et("ComponentProvider","Removing Datastore"),MI.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Cr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Cr(this.firestore,t,this._query)}}class Ka extends Cr{constructor(t,e,i){super(t,e,ua(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new It(t))}withConverter(t){return new Ka(this.firestore,t,this._path)}}function OI(n,t,...e){if(n=(0,F.m9)(n),Rv("collection","path",t),n instanceof Ud){const i=Fn.fromString(t,...e);return kI(i),new Ka(n,null,i)}{if(!(n instanceof fi||n instanceof Ka))throw new qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(t,...e));return kI(i),new Ka(n.firestore,null,i)}}function Jf(n,t,...e){if(n=(0,F.m9)(n),1===arguments.length&&(t=Rw.I()),Rv("doc","path",t),n instanceof Ud){const i=Fn.fromString(t,...e);return RI(i),new fi(n,null,new It(i))}{if(!(n instanceof fi||n instanceof Ka))throw new qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(t,...e));return RI(i),new fi(n.firestore,n instanceof Ka?n.converter:null,new It(i))}}function xv(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),(n instanceof fi||n instanceof Ka)&&(t instanceof fi||t instanceof Ka)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function YC(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),n instanceof Cr&&t instanceof Cr&&n.firestore===t.firestore&&Ws(n._query,t._query)&&n.converter===t.converter}class KC{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new mv(this,"async_queue_retry"),this.Rc=()=>{const e=bm();e&&et("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const t=bm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=bm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new Gr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}vc(){var t=this;return(0,Me.Z)(function*(){if(0!==t.mc.length){try{yield t.mc[0](),t.mc.shift(),t.ar.reset()}catch(e){if(!Gc(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}t.mc.length>0&&t.ar.Xi(()=>t.vc())}})()}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(i=>{throw this.Tc=i,this.Ec=!1,dr("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.Ec=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const r=Ev.createAndSchedule(this,t,e,i,l=>this.Vc(l));return this.yc.push(r),r}bc(){this.Tc&&Rt()}verifyOperationInProgress(){}Sc(){var t=this;return(0,Me.Z)(function*(){let e;do{e=t._c,yield e}while(e!==t._c)})()}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function Om(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class hx{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Li extends Ud{constructor(t,e){super(t,e),this.type="firestore",this._queue=new KC,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QC(this),this._firestoreClient.terminate()}}function PI(n=(0,xi.getApp)()){return(0,xi._getProvider)(n,"firestore").getImmediate()}function ir(n){return n._firestoreClient||QC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QC(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new AI(n._databaseId,l,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new ox(n._credentials,n._queue,i)}function JC(n,t,e){const i=new Gr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield wI(n,e),yield ax(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===Re.FAILED_PRECONDITION||l.code===Re.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function ds(n){if(n._initialized||n._terminated)throw new qe(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Js{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new qe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(hr.fromBase64String(t))}catch(e){throw new qe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qa(hr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Xf{constructor(t){this._methodName=t}}class nu{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new qe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gn(this._lat,t._lat)||gn(this._long,t._long)}}const _x=/^__.*__$/;class XC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new $c(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sf(t,this.data,e,this.fieldTransforms)}}class $I{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new $c(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function eE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Ov{constructor(t,e,i,r,l,u){this.settings=t,this.databaseId=e,this.N=i,this.ignoreUndefinedProperties=r,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new Ov(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:i,Fc:!1});return r.Mc(t),r}Lc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:i,Fc:!1});return r.xc(),r}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return Vm(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(eE(this.kc)&&_x.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class yx{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=i||Ad(t)}jc(t,e,i,r=!1){return new Ov({kc:t,methodName:e,Kc:i,path:Or.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Vl(n){const t=n._freezeSettings(),e=Ad(n._databaseId);return new yx(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Pm(n,t,e,i,r,l={}){const u=n.jc(l.merge||l.mergeFields?2:0,t,e,r);nE("Data must be an object, but it was:",u,i);const f=Fv(i,u);let g,y;if(l.merge)g=new Uc(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const I=iE(t,T,e);if(!u.contains(I))throw new qe(Re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ZI(E,I)||E.push(I)}g=new Uc(E),y=u.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=u.fieldTransforms;return new XC(new qr(f),g,y)}class ep extends Xf{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ep}}function Fm(n,t,e){return new Ov({kc:3,Kc:t.settings.Kc,methodName:n._methodName,Fc:e},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Lm extends Xf{_toFieldTransform(t){return new Df(t.path,new za)}isEqual(t){return t instanceof Lm}}class G2 extends Xf{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=Fm(this,t,!0),i=this.Qc.map(l=>Bd(l,e)),r=new yd(i);return new Df(t.path,r)}isEqual(t){return this===t}}class HI extends Xf{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=Fm(this,t,!0),i=this.Qc.map(l=>Bd(l,e)),r=new vd(i);return new Df(t.path,r)}isEqual(t){return this===t}}class vx extends Xf{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new bd(t.N,QT(t.N,this.Wc));return new Df(t.path,e)}isEqual(t){return this===t}}function Pv(n,t,e,i){const r=n.jc(1,t,e);nE("Data must be an object, but it was:",r,i);const l=[],u=qr.empty();hd(i,(g,y)=>{const E=Vv(t,g,e);y=(0,F.m9)(y);const T=r.Lc(E);if(y instanceof ep)l.push(E);else{const I=Bd(y,T);null!=I&&(l.push(E),u.set(E,I))}});const f=new Uc(l);return new $I(u,f,r.fieldTransforms)}function tp(n,t,e,i,r,l){const u=n.jc(1,t,e),f=[iE(t,i,e)],g=[r];if(l.length%2!=0)throw new qe(Re.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(iE(t,l[I])),g.push(l[I+1]);const y=[],E=qr.empty();for(let I=f.length-1;I>=0;--I)if(!ZI(y,f[I])){const R=f[I];let U=g[I];U=(0,F.m9)(U);const te=u.Lc(R);if(U instanceof ep)y.push(R);else{const fe=Bd(U,te);null!=fe&&(y.push(R),E.set(R,fe))}}const T=new Uc(y);return new $I(E,T,u.fieldTransforms)}function tE(n,t,e,i=!1){return Bd(e,n.jc(i?4:3,t))}function Bd(n,t){if(Lv(n=(0,F.m9)(n)))return nE("Unsupported field value:",t,n),Fv(n,t);if(n instanceof Xf)return function(e,i){if(!eE(i.kc))throw i.Uc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Uc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,i){const r=[];let l=0;for(const u of e){let f=Bd(u,i.Bc(l));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),l++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return QT(i.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=xr.fromDate(e);return{timestampValue:ev(i.N,r)}}if(e instanceof xr){const r=new xr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ev(i.N,r)}}if(e instanceof nu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qa)return{bytesValue:kt(i.N,e._byteString)};if(e instanceof fi){const r=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(r))throw i.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Yw(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Uc(`Unsupported field value: ${kv(e)}`)}(n,t)}function Fv(n,t){const e={};return VT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hd(n,(i,r)=>{const l=Bd(r,t.Oc(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function Lv(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xr||n instanceof nu||n instanceof Qa||n instanceof fi||n instanceof Xf)}function nE(n,t,e){if(!Lv(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=kv(e);throw t.Uc("an object"===i?n+" a custom object":n+" "+i)}var i}function iE(n,t,e){if((t=(0,F.m9)(t))instanceof Js)return t._internalPath;if("string"==typeof t)return Vv(n,t);throw Vm("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const jI=new RegExp("[~\\*/\\[\\]]");function Vv(n,t,e){if(t.search(jI)>=0)throw Vm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Js(...t.split("."))._internalPath}catch(i){throw Vm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Vm(n,t,e,i,r){const l=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new qe(Re.INVALID_ARGUMENT,f+n+g)}function ZI(n,t){return n.some(e=>e.isEqual(t))}class np{constructor(t,e,i,r,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Uv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class GI extends np{data(){return super.data()}}function Uv(n,t){return"string"==typeof t?Vv(n,t):t instanceof Js?t._internalPath:t._delegate._internalPath}class $d{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ja extends np{constructor(t,e,i,r,l,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Uv("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Um extends Ja{data(t={}){return super.data(t)}}class Ul{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $d(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Um(this._firestore,this._userDataWriter,i.key,i,new $d(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Um(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $d(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Um(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $d(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==u.type&&(g=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:qI(u.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function rE(n,t){return n instanceof Ja&&t instanceof Ja?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ul&&t instanceof Ul&&n._firestore===t._firestore&&YC(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function sE(n){if(jy(n)&&0===n.explicitOrderBy.length)throw new qe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}function iu(n,...t){for(const e of t)n=e._apply(n);return n}class bx extends Bm{constructor(t,e,i){super(),this.Gc=t,this.zc=e,this.Hc=i,this.type="where"}_apply(t){const e=Vl(t.firestore),i=function(r,l,u,f,g,y,E){let T;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new qe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on FieldPath.documentId().`);if("in"===y||"not-in"===y){Sx(E,y);const R=[];for(const U of E)R.push(Tx(f,r,U));T={arrayValue:{values:R}}}else T=Tx(f,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||Sx(E,y),T=tE(u,"where",E,"in"===y||"not-in"===y);const I=as.create(g,y,T);return function(R,U){if(U.v()){const fe=Vw(R);if(null!==fe&&!fe.isEqual(U.field))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${fe.toString()}' and '${U.field.toString()}'`);const We=Zy(R);null!==We&&Ix(0,U.field,We)}const te=function(fe,We){for(const Je of fe.filters)if(We.indexOf(Je.op)>=0)return Je.op;return null}(R,function(fe){switch(fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==te)throw new qe(Re.INVALID_ARGUMENT,te===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${te.toString()}' filters.`)}(r,I),I}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Cr(t.firestore,t.converter,function(r,l){const u=r.filters.concat([l]);return new qa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class q2 extends Bm{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(i,r,l){if(null!==i.startAt)throw new qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ef(r,l);return function(f,g){if(null===Zy(f)){const y=Vw(f);null!==y&&Ix(0,y,g.field)}}(i,u),u}(t._query,this.Gc,this.Jc);return new Cr(t.firestore,t.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new qa(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class wx extends Bm{constructor(t,e,i){super(),this.type=t,this.Yc=e,this.Xc=i}_apply(t){return new Cr(t.firestore,t.converter,qy(t._query,this.Yc,this.Xc))}}class Cx extends Bm{constructor(t,e,i){super(),this.type=t,this.Zc=e,this.ta=i}_apply(t){const e=Dx(t,this.type,this.Zc,this.ta);return new Cr(t.firestore,t.converter,(r=e,new qa((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Ex extends Bm{constructor(t,e,i){super(),this.type=t,this.Zc=e,this.ta=i}_apply(t){const e=Dx(t,this.type,this.Zc,this.ta);return new Cr(t.firestore,t.converter,(r=e,new qa((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Dx(n,t,e,i){if(e[0]=(0,F.m9)(e[0]),e[0]instanceof np)return function(r,l,u,f,g){if(!f)throw new qe(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of em(r))if(E.field.isKeyField())y.push(Cf(l,f.key));else{const T=f.data.field(E.field);if(Gg(T))throw new qe(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const I=E.field.canonicalString();throw new qe(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}y.push(T)}return new Oi(y,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Vl(n.firestore);return function(l,u,f,g,y,E){const T=l.explicitOrderBy;if(y.length>T.length)throw new qe(Re.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let R=0;R<y.length;R++){const U=y[R];if(T[R].field.isKeyField()){if("string"!=typeof U)throw new qe(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!Gy(l)&&-1!==U.indexOf("/"))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const te=l.path.child(Fn.fromString(U));if(!It.isDocumentKey(te))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${g}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const fe=new It(te);I.push(Cf(u,fe))}else{const te=tE(f,g,U);I.push(te)}}return new Oi(I,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Tx(n,t,e){if("string"==typeof(e=(0,F.m9)(e))){if(""===e)throw new qe(Re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gy(t)&&-1!==e.indexOf("/"))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Fn.fromString(e));if(!It.isDocumentKey(i))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cf(n,new It(i))}if(e instanceof fi)return Cf(n,e._key);throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${kv(e)}.`)}function Sx(n,t){if(!Array.isArray(n)||0===n.length)throw new qe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new qe(Re.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ix(n,t,e){if(!e.isEqual(t))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class WI{convertValue(t,e="none"){switch(pd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ei(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Rt()}}convertObject(t,e){const i={};return hd(t.fields,(r,l)=>{i[r]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new nu(Ei(t.latitude),Ei(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Uy(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qg(t));default:return null}}convertTimestamp(t){const e=fd(t);return new xr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Fn.fromString(t);Ut(DS(i));const r=new Vd(i.get(1),i.get(3)),l=new It(i.popFirst(5));return r.isEqual(e)||dr(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function oE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Ax extends WI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class YI{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vl(t)}set(t,e,i){this._verifyNotCommitted();const r=ru(t,this._firestore),l=oE(r.converter,e,i),u=Pm(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Pi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const l=ru(t,this._firestore);let u;return u="string"==typeof(e=(0,F.m9)(e))||e instanceof Js?tp(this._dataReader,"WriteBatch.update",l._key,e,i,r):Pv(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,Pi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=ru(t,this._firestore);return this._mutations=this._mutations.concat(new im(e._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ru(n,t){if((n=(0,F.m9)(n)).firestore!==t)throw new qe(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ip extends WI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function kx(n,t,e){n=yn(n,fi);const i=yn(n.firestore,Li),r=oE(n.converter,t,e);return su(i,[Pm(Vl(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Pi.none())])}function xx(n,t,e,...i){n=yn(n,fi);const r=yn(n.firestore,Li),l=Vl(r);let u;return u="string"==typeof(t=(0,F.m9)(t))||t instanceof Js?tp(l,"updateDoc",n._key,t,e,i):Pv(l,"updateDoc",n._key,t),su(r,[u.toMutation(n._key,Pi.exists(!0))])}function Px(n,...t){var e,i,r;n=(0,F.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Om(t[u])||(l=t[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(Om(t[u])){const T=t[u];t[u]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[u+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[u+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let g,y,E;if(n instanceof fi)y=yn(n.firestore,Li),E=ua(n._key.path),g={next:T=>{t[u]&&t[u](ou(y,n,T))},error:t[u+1],complete:t[u+2]};else{const T=yn(n,Cr);y=yn(T.firestore,Li),E=T._query;const I=new ip(y);g={next:R=>{t[u]&&t[u](new Ul(y,I,T,R))},error:t[u+1],complete:t[u+2]},sE(n._query)}return function(T,I,R,U){const te=new Iv(U),fe=new DC(I,te,R);return T.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return oI(yield Ld(T),fe)})),()=>{te.ec(),T.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return Wt(yield Ld(T),fe)}))}}(ir(y),E,f,g)}function su(n,t){return function(e,i){const r=new Gr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(n,t,e){return Mm.apply(this,arguments)}(yield Nv(e),i,r)})),r.promise}(ir(n),t)}function ou(n,t,e){const i=e.docs.get(t._key),r=new ip(n);return new Ja(n,r,t._key,i,new $d(e.hasPendingWrites,e.fromCache),t.converter)}class KI extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Vl(t)}get(t){const e=ru(t,this._firestore),i=new Ax(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Rt();const l=r[0];if(l.isFoundDocument())return new np(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new np(this._firestore,i,e._key,null,e.converter);throw Rt()})}set(t,e,i){const r=ru(t,this._firestore),l=oE(r.converter,e,i),u=Pm(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const l=ru(t,this._firestore);let u;return u="string"==typeof(e=(0,F.m9)(e))||e instanceof Js?tp(this._dataReader,"Transaction.update",l._key,e,i,r):Pv(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=ru(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=ru(t,this._firestore),i=new ip(this._firestore);return super.get(t).then(r=>new Ja(this._firestore,i,e._key,r._document,new $d(!1,!1),e.converter))}}function $v(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Ux(){if("undefined"==typeof Uint8Array)throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function Bx(){if("undefined"==typeof atob)throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){mf=xi.SDK_VERSION,(0,xi._registerComponent)(new xo.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=new Li(r,new JR(e.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC")),(0,xi.registerVersion)(xT,"3.3.0",n),(0,xi.registerVersion)(xT,"3.3.0","esm2017")}();class Hv{constructor(t){this._delegate=t}static fromBase64String(t){return Bx(),new Hv(Qa.fromBase64String(t))}static fromUint8Array(t){return Ux(),new Hv(Qa.fromUint8Array(t))}toBase64(){return Bx(),this._delegate.toBase64()}toUint8Array(){return Ux(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lE(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class jv{enableIndexedDbPersistence(t,e){return function(n,t){ds(n=yn(n,Li));const e=ir(n),i=n._freezeSettings(),r=new jC;return JC(e,r,new HC(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){ds(n=yn(n,Li));const t=ir(n),e=n._freezeSettings(),i=new jC;return JC(t,i,new yI(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new qe(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(e=(0,Me.Z)(function*(i){if(!pa.bt())return Promise.resolve();const r=i+"main";yield pa.delete(r)}),function(i){return e.apply(this,arguments)})(aC(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class tA{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Vy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const l=(n=yn(n,Ud))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&Vy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=os.MOCK_USER;else{u=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new qe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new os(g)}n._credentials=new I2(new PT(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const t=yield Mv(n),e=yield zC(n);return t.setNetworkEnabled(!0),function(i){const r=st(i);return r.Wr.delete(0),Qc(r)}(e)}))}(ir(n=yn(n,Li)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const t=yield Mv(n),e=yield zC(n);return t.setNetworkEnabled(!1),(i=(0,Me.Z)(function*(r){const l=st(r);l.Wr.add(0),yield wm(l),l.Hr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ir(n=yn(n,Li)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,NI("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Gr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(n,t){return NC.apply(this,arguments)}(yield Nv(t),e)})),e.promise}(ir(n=yn(n,Li)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Iv(t);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield Ld(n),r=e,st(i).so.add(r),void r.next();var i,r})),()=>{e.ec(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield Ld(n),r=e,void st(i).so.delete(r);var i,r}))}}(ir(n=yn(n,Li)),Om(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new sp(this,OI(this._delegate,t))}catch(e){throw As(e,"collection()","Firestore.collection()")}}doc(t){try{return new ma(this,Jf(this._delegate,t))}catch(e){throw As(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Xs(this,function(n,t){if(n=yn(n,Ud),Rv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qe(Re.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cr(n,null,(e=t,new qa(Fn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw As(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const i=yield(r=n,xm(r).then(l=>l.datastore));var r;new B2(n.asyncQueue,i,t,e).run()})),e.promise}(ir(n=yn(n,Li)),e=>t(new KI(n,e)))}(this._delegate,e=>t(new Zv(this,e)))}batch(){return ir(this._delegate),new nA(new YI(this._delegate,t=>su(this._delegate,t)))}loadBundle(t){return function(n,t){const e=ir(n=yn(n,Li)),i=new hx;return function(n,t,e,i){const r=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,g=function(g,y){if(g instanceof Uint8Array)return vI(g,y);if(g instanceof ArrayBuffer)return vI(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new bI(g,u);var g}(e,Ad(t));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function(n,t,e){const i=st(n);var r;(r=(0,Me.Z)(function*(l,u,f){try{const g=yield u.getMetadata();if(yield function(I,R){const U=st(I),te=Pr(R.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",fe=>U.Je.getBundleMetadata(fe,R.id)).then(fe=>!!fe&&fe.createTime.compareTo(te)>=0)}(l.localStore,g))return yield u.close(),void f._completeWith((I=g,{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}));f._updateProgress(Kr(g));const y=new jk(g,l.localStore,u.N);let E=yield u.zo();for(;E;){const I=yield y.mo(E);I&&f._updateProgress(I),E=yield u.zo()}const T=yield y.complete();yield Ll(l,T.En,void 0),yield function(I,R){const U=st(I);return U.persistence.runTransaction("Save bundle","readwrite",te=>U.Je.saveBundleMetadata(te,R))}(l.localStore,g),f._completeWith(T.progress)}catch(g){Vy("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g)}var I}),function(l,u,f){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield Nv(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(e,i){const r=st(e);return r.persistence.runTransaction("Get named query","readonly",l=>r.Je.getNamedQuery(l,i))}(yield qC(n),t)}))}(ir(n=yn(n,Li)),t).then(e=>e?new Cr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Xs(this,e):null)}}class cE extends WI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hv(new Qa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ma.forKey(e,this.firestore,null)}}class Zv{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cE(t)}get(t){const e=jd(t);return this._delegate.get(e).then(i=>new $m(this._firestore,new Ja(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=jd(t);return i?($v("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=jd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=jd(t);return this._delegate.delete(e),this}}class nA{constructor(t){this._delegate=t}set(t,e,i){const r=jd(t);return i?($v("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=jd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=jd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class rp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Um(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gv(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=rp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let l=r.get(e);return l||(l=new rp(t,new cE(t),e),r.set(e,l)),l}}rp.INSTANCES=new WeakMap;class ma{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ma(e,new fi(e._delegate,i,new It(t)))}static forKey(t,e,i){return new ma(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new sp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new sp(this.firestore,OI(this._delegate,t))}catch(e){throw As(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,F.m9)(t))instanceof fi&&xv(this._delegate,t)}set(t,e){e=$v("DocumentReference.set",e);try{return e?kx(this._delegate,t,e):kx(this._delegate,t)}catch(i){throw As(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?xx(this._delegate,t):xx(this._delegate,t,e,...i)}catch(r){throw As(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return su(yn(n.firestore,Li),[new im(n._key,Pi.none())])}(this._delegate)}onSnapshot(...t){const e=$x(t),i=uE(t,r=>new $m(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Px(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=yn(n,fi);const t=yn(n.firestore,Li),e=ir(t),i=new ip(t);return function(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,l,u){try{const f=yield function(g,y){const E=st(g);return E.persistence.runTransaction("read document","readonly",T=>E.Qn.An(T,y))}(r,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new qe(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=xd(f,`Failed to get document '${l} from cache`);u.reject(g)}}),function(r,l,u){return i.apply(this,arguments)})(yield qC(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ja(t,i,n._key,r,new $d(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=yn(n,fi);const t=yn(n.firestore,Li);return EI(ir(t),n._key,{source:"server"}).then(e=>ou(t,n,e))}(this._delegate):function(n){n=yn(n,fi);const t=yn(n.firestore,Li);return EI(ir(t),n._key).then(e=>ou(t,n,e))}(this._delegate),e.then(i=>new $m(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ma(this.firestore,this._delegate.withConverter(t?rp.getInstance(this.firestore,t):null))}}function As(n,t,e){return n.message=n.message.replace(t,e),n}function $x(n){for(const t of n)if("object"==typeof t&&!lE(t))return t;return{}}function uE(n,t){var e,i;let r;return r=lE(n[0])?n[0]:lE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(t(l))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class $m{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return rE(this._delegate,t._delegate)}}class Gv extends $m{data(t){const e=this._delegate.data(t);return function(n,t){n||Rt()}(void 0!==e),e}}class Xs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cE(t)}where(t,e,i){try{return new Xs(this.firestore,iu(this._delegate,function(n,t,e){const i=t,r=Uv("where",n);return new bx(r,i,e)}(t,e,i)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Xs(this.firestore,iu(this._delegate,function(n,t="asc"){const e=t,i=Uv("orderBy",n);return new q2(i,e)}(t,e)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Xs(this.firestore,iu(this._delegate,function(n){return Qf("limit",n),new wx("limit",n,"F")}(t)))}catch(e){throw As(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Xs(this.firestore,iu(this._delegate,function(n){return Qf("limitToLast",n),new wx("limitToLast",n,"L")}(t)))}catch(e){throw As(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Xs(this.firestore,iu(this._delegate,function(...n){return new Cx("startAt",n,!0)}(...t)))}catch(e){throw As(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Xs(this.firestore,iu(this._delegate,function(...n){return new Cx("startAfter",n,!1)}(...t)))}catch(e){throw As(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Xs(this.firestore,iu(this._delegate,function(...n){return new Ex("endBefore",n,!0)}(...t)))}catch(e){throw As(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Xs(this.firestore,iu(this._delegate,function(...n){return new Ex("endAt",n,!1)}(...t)))}catch(e){throw As(e,"endAt()","Query.endAt()")}}isEqual(t){return YC(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=yn(n,Cr);const t=yn(n.firestore,Li),e=ir(t),i=new ip(t);return function(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,l,u){try{const f=yield _m(r,l,!0),g=new Dv(l,f.Gn),y=g.bo(f.documents),E=g.applyChanges(y,!1);u.resolve(E.snapshot)}catch(f){const g=xd(f,`Failed to execute query '${l} against cache`);u.reject(g)}}),function(r,l,u){return i.apply(this,arguments)})(yield qC(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ul(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=yn(n,Cr);const t=yn(n.firestore,Li),e=ir(t),i=new ip(t);return Kf(e,n._query,{source:"server"}).then(r=>new Ul(t,i,n,r))}(this._delegate):function(n){n=yn(n,Cr);const t=yn(n.firestore,Li),e=ir(t),i=new ip(t);return sE(n._query),Kf(e,n._query).then(r=>new Ul(t,i,n,r))}(this._delegate),e.then(i=>new Hd(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=$x(t),i=uE(t,r=>new Hd(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Px(this._delegate,e,i)}withConverter(t){return new Xs(this.firestore,this._delegate.withConverter(t?rp.getInstance(this.firestore,t):null))}}class Hx{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Gv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hd{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Gv(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Hx(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Gv(this._firestore,i))})}isEqual(t){return rE(this._delegate,t._delegate)}}class sp extends Xs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ma(this.firestore,t):null}doc(t){try{return new ma(this.firestore,void 0===t?Jf(this._delegate):Jf(this._delegate,t))}catch(e){throw As(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=yn(n.firestore,Li),i=Jf(n),r=oE(n.converter,t);return su(e,[Pm(Vl(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Pi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ma(this.firestore,e))}isEqual(t){return xv(this._delegate,t._delegate)}withConverter(t){return new sp(this.firestore,this._delegate.withConverter(t?rp.getInstance(this.firestore,t):null))}}function jd(n){return yn(n,fi)}class dE{constructor(...t){this._delegate=new Js(...t)}static documentId(){return new dE(Or.keyField().canonicalString())}isEqual(t){return(t=(0,F.m9)(t))instanceof Js&&this._delegate._internalPath.isEqual(t._internalPath)}}class Bl{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Lm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Bl(t)}static delete(){const t=new ep("deleteField");return t._methodName="FieldValue.delete",new Bl(t)}static arrayUnion(...t){const e=function(...n){return new G2("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Bl(e)}static arrayRemove(...t){const e=function(...n){return new HI("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Bl(e)}static increment(t){const e=function(n){return new vx("increment",n)}(t);return e._methodName="FieldValue.increment",new Bl(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const jx={Firestore:tA,GeoPoint:nu,Timestamp:xr,Blob:Hv,Transaction:Zv,WriteBatch:nA,DocumentReference:ma,DocumentSnapshot:$m,Query:Xs,QueryDocumentSnapshot:Gv,QuerySnapshot:Hd,CollectionReference:sp,FieldPath:dE,FieldValue:Bl,setLogLevel:function(n){!function(n){Rl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new xo.wA("firestore-compat",e=>((t,e)=>new tA(t,e,new jv))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},jx)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(la.Z);var au=x(6682),Hm=x(9746),Gx=x(7771),hE=x(8858);class iA extends Tt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new rA(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,l=i.length;let u;if(this.closed)throw new G_.N;if(this.isStopped||this.hasError?u=ko.w.EMPTY:(this.observers.push(t),u=new hE.W(this,t)),r&&t.add(t=new Hm.ht(t,r)),e)for(let f=0;f<l&&!t.closed;f++)t.next(i[f]);else for(let f=0;f<l&&!t.closed;f++)t.next(i[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||Gx.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,l=r.length;let u=0;for(;u<l&&!(t-r[u].time<i);)u++;return l>e&&(u=Math.max(u,l-e)),u>0&&r.splice(0,u),r}}class rA{constructor(t,e){this.time=t,this.value=e}}function fE(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,u,l=0,f=!1,g=!1;return function(E){let T;l++,!r||f?(f=!1,r=new iA(n,t,i),T=r.subscribe(this),u=E.subscribe({next(I){r.next(I)},error(I){f=!0,r.error(I)},complete(){g=!0,u=void 0,r.complete()}}),g&&(u=void 0)):T=r.subscribe(this),this.add(()=>{l--,T.unsubscribe(),T=void 0,u&&!g&&e&&0===l&&(u.unsubscribe(),u=void 0,r=void 0)})}}(i))}function pE(n,t){return t?si(()=>n,t):si(()=>n)}var gE=x(9673),Bo=x(2329);class _a{constructor(t){return t}}class op{constructor(){return(0,Bo.C6)()}}const _E=new s.OlP("angularfire2._apps"),ya={provide:_a,useFactory:function(n){return n&&1===n.length?n[0]:new _a((0,Bo.Mq)())},deps:[[new s.FiY,_E]]},zx={provide:op,deps:[[new s.FiY,_E]]};function oV(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new _a(i)}}let Wx=(()=>{class n{constructor(e){(0,Bo.KN)("angularfire",gt.q4.full,"core"),(0,Bo.KN)("angularfire",gt.q4.full,"app"),(0,Bo.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ya,zx]}),n})();function aV(n,...t){return{ngModule:Wx,providers:[{provide:_E,useFactory:oV(n),multi:!0,deps:[s.R0b,s.zs3,gt.HU,...t]}]}}const dV=(0,gt.u3)(Bo.ZF,!0),oA=new Map,aA={activated:!1,tokenObservers:[]},Kx={initialized:!1,enabled:!1};function Ms(n){return oA.get(n)||aA}function $o(n,t){oA.set(n,t)}function jm(){return Kx}class cA{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Me.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const va=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function eO(n){if(!Ms(n).activated)throw va.create("use-before-activation",{appName:n.name})}function zv(n,t){return bE.apply(this,arguments)}function bE(){return(bE=(0,Me.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,l)}catch(T){throw va.create("fetch-network-error",{originalErrorMessage:T.message})}if(200!==u.status)throw va.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(T){throw va.create("fetch-parse-error",{originalErrorMessage:T.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw va.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const y=1e3*Number(g[1]),E=Date.now();return{token:f.attestationToken,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function iO(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Wv="firebase-app-check-store";let ap=null;function Er(){return ap||(ap=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(va.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Wv,{keyPath:"compositeKey"})}}}catch(e){t(va.create("storage-open",{originalErrorMessage:e.message}))}}),ap)}function wE(){return(wE=(0,Me.Z)(function*(n,t){const i=(yield Er()).transaction(Wv,"readwrite"),l=i.objectStore(Wv).put({compositeKey:n,value:t});return new Promise((u,f)=>{l.onsuccess=g=>{u()},i.onerror=g=>{var y;f(va.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const qm=new fo.Yd("@firebase/app-check");function mA(n,t){return(0,F.hl)()?function(n,t){return function(n,t){return wE.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{qm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Qv(){return jm().enabled}function DE(){return pr.apply(this,arguments)}function pr(){return(pr=(0,Me.Z)(function*(){const n=jm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sO={error:"UNKNOWN_ERROR"};function oO(n){return F.US.encodeString(JSON.stringify(n),!1)}function TE(n){return lp.apply(this,arguments)}function lp(){return(lp=(0,Me.Z)(function*(n,t=!1){const e=n.app;eO(e);const i=Ms(e);let l,u,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&Wm(f)&&(r=f,$o(e,Object.assign(Object.assign({},i),{token:r})),aO(e,{token:r.token}))}if(!t&&r&&Wm(r))return{token:r.token};if(Qv()){const f=yield zv(iO(e,yield DE()),n.platformLoggerProvider);return yield mA(e,f),$o(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{r=yield i.provider.getToken()}catch(f){qm.error(f),l=f}return r?(u={token:r.token},$o(e,Object.assign(Object.assign({},i),{token:r})),yield mA(e,r)):u=lO(l),aO(e,u),u})).apply(this,arguments)}function yA(n,t){const e=Ms(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),$o(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function aO(n,t){const e=Ms(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Wm(n){return n.expireTimeMillis-Date.now()>0}function lO(n){return{token:oO(sO),error:n}}class cO{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ms(this.app);for(const e of t)yA(this.app,e.next);return Promise.resolve()}}const DA="app-check-internal";(0,xi._registerComponent)(new xo.wA("app-check",n=>function(n,t){return new cO(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(DA).initialize()})),(0,xi._registerComponent)(new xo.wA(DA,n=>function(n){return{getToken:t=>TE(n,t),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,l=Ms(r),u={next:e,error:i,type:t},f=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]});if(!f.tokenRefresher){const g=function(n){const{app:t}=n;return new cA((0,Me.Z)(function*(){let i;if(i=Ms(t).token?yield TE(n,!0):yield TE(n),i.error)throw i.error}),()=>!0,()=>{const e=Ms(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n);f.tokenRefresher=g}if(!f.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&f.tokenRefresher.start(),l.token&&Wm(l.token)){const g=l.token;Promise.resolve().then(()=>e({token:g.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(g=>{g&&Wm(g)&&e({token:g.token})}).catch(()=>{});$o(r,f)}(n,"INTERNAL",t),removeTokenListener:t=>yA(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xi.registerVersion)("@firebase/app-check","0.5.1");class wa{constructor(){return(0,gt.vb)("app-check")}}"undefined"!=typeof window&&window;var Ym=x(7841);const cp=new s.OlP("angularfire2.auth.use-emulator"),up=new s.OlP("angularfire2.auth.settings"),Xv=new s.OlP("angularfire2.auth.tenant-id"),eb=new s.OlP("angularfire2.auth.langugage-code"),ME=new s.OlP("angularfire2.auth.use-device-language"),NE=new s.OlP("angularfire.auth.persistence"),tb=(n,t,e,i,r,l,u,f)=>(0,yr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,l&&g.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))g.settings[y]=E;return f&&g.setPersistence(f),g},[e,i,r,l,u,f]);let dp=(()=>{class n{constructor(e,i,r,l,u,f,g,y,E,T,I,R){const U=new Tt.xQ,te=(0,ct.of)(void 0).pipe((0,Hm.QV)(u.outsideAngular),si(()=>l.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,4828)))),(0,wt.U)(()=>(0,yr.on)(e,l,i)),(0,wt.U)(fe=>tb(fe,l,f,y,E,T,g,I)),fE({bufferSize:1,refCount:!1}));if(Br(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ct.of)(null);else{te.pipe(tr()).subscribe();const We=te.pipe(si(at=>at.getRedirectResult().then(mn=>mn,()=>null)),gt.iC,fE({bufferSize:1,refCount:!1})),Je=te.pipe(si(at=>new Pn.y(mn=>({unsubscribe:l.runOutsideAngular(()=>at.onAuthStateChanged(Ln=>mn.next(Ln),Ln=>mn.error(Ln),()=>mn.complete()))})))),mt=te.pipe(si(at=>new Pn.y(mn=>({unsubscribe:l.runOutsideAngular(()=>at.onIdTokenChanged(Ln=>mn.next(Ln),Ln=>mn.error(Ln),()=>mn.complete()))}))));this.authState=We.pipe(pE(Je),(0,gE.R)(u.outsideAngular),(0,Hm.QV)(u.insideAngular)),this.user=We.pipe(pE(mt),(0,gE.R)(u.outsideAngular),(0,Hm.QV)(u.insideAngular)),this.idToken=this.user.pipe(si(at=>at?(0,dn.D)(at.getIdToken()):(0,ct.of)(null))),this.idTokenResult=this.user.pipe(si(at=>at?(0,dn.D)(at.getIdTokenResult()):(0,ct.of)(null))),this.credential=(0,au.T)(We,U,this.authState.pipe(Nn(at=>!at))).pipe((0,wt.U)(at=>(null==at?void 0:at.user)?at:null),(0,gE.R)(u.outsideAngular),(0,Hm.QV)(u.insideAngular))}return(0,yr.pX)(this,te,l,{spy:{apply:(fe,We,Je)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&Je.then(mt=>U.next(mt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yr.Dh),s.LFG(yr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(gt.HU),s.LFG(cp,8),s.LFG(up,8),s.LFG(Xv,8),s.LFG(eb,8),s.LFG(ME,8),s.LFG(NE,8),s.LFG(wa,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function nb(n,t){return function(n,t=Kh.z){return new Pn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function Qr(n,t){return nb(n,t).pipe((0,wt.U)(e=>({payload:e,type:"query"})))}function cu(n,t){return Qr(n,t).pipe(No(void 0),Zt(),(0,wt.U)(([e,i])=>{const r=i.payload.docChanges(),l=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const g=r.find(E=>E.doc.ref.isEqual(u.ref)),y=null==e?void 0:e.payload.docs.find(E=>E.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function Km(n,t,e){return cu(n,e).pipe(xa((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return hp(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return hp(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return hp(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),t),[]),oa(),(0,wt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function hp(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function kE(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Qm{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=cu(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,wt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(No(void 0),Zt(),Nn(([i,r])=>r.length>0||!i),(0,wt.U)(([i,r])=>r),gt.iC)}auditTrail(t){return this.stateChanges(t).pipe(xa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kE(t);return Km(this.query,e,this.afs.schedulers.outsideAngular).pipe(gt.iC)}valueChanges(t={}){return Qr(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),gt.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(gt.iC)}add(t){return this.ref.add(t)}doc(t){return new MA(this.ref.doc(t),this.afs)}}class MA{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:l}=xA(i,e);return new Qm(r,l,this.afs)}snapshotChanges(){return function(n,t){return nb(n,t).pipe(No(void 0),Zt(),(0,wt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe(gt.iC)}}class IO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?cu(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Nn(e=>e.length>0),gt.iC):cu(this.query,this.afs.schedulers.outsideAngular).pipe(gt.iC)}auditTrail(t){return this.stateChanges(t).pipe(xa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kE(t);return Km(this.query,e,this.afs.schedulers.outsideAngular).pipe(gt.iC)}valueChanges(t={}){return Qr(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),gt.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(gt.iC)}}const NA=new s.OlP("angularfire2.enableFirestorePersistence"),RA=new s.OlP("angularfire2.firestore.persistenceSettings"),kA=new s.OlP("angularfire2.firestore.settings"),AO=new s.OlP("angularfire2.firestore.use-emulator");function xA(n,t=(e=>e)){return{query:t(n),ref:n}}let el=(()=>{class n{constructor(e,i,r,l,u,f,g,y,E,T,I,R,U,te,fe,We,Je){this.schedulers=g;const mt=(0,yr.on)(e,f,i),at=E;T&&tb(mt,f,I,U,te,fe,R,We),[this.firestore,this.persistenceEnabled$]=(0,yr.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const mn=f.runOutsideAngular(()=>mt.firestore());if(l&&mn.settings(l),at&&mn.useEmulator(...at),r&&!Br(u)){const Ln=()=>{try{return(0,dn.D)(mn.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Ki){return"undefined"!=typeof console&&console.warn(Ki),(0,ct.of)(!1)}};return[mn,f.runOutsideAngular(Ln)]}return[mn,(0,ct.of)(!1)]},[l,at,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:u}=xA(r,i),f=this.schedulers.ngZone.run(()=>l);return new Qm(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),l=this.firestore.collectionGroup(e);return new IO(r(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new MA(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yr.Dh),s.LFG(yr.xv,8),s.LFG(NA,8),s.LFG(kA,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(gt.HU),s.LFG(RA,8),s.LFG(AO,8),s.LFG(dp,8),s.LFG(cp,8),s.LFG(up,8),s.LFG(Xv,8),s.LFG(eb,8),s.LFG(ME,8),s.LFG(NE,8),s.LFG(wa,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uu=(()=>{class n{constructor(){Ym.Z.registerVersion("angularfire",gt.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:NA,useValue:!0},{provide:RA,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[el]}),n})(),tl=(()=>{class n{constructor(e,i){this.fireservices=e,this.firebaseAuth=i,this.isLoggedIn=!1,this.loginerror=0}singin(e,i){var r=this;return(0,Me.Z)(function*(){r.loginerror=0,yield r.firebaseAuth.signInWithEmailAndPassword(e,i).then(l=>{r.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(l.user))}).catch(l=>{r.loginerror=1,console.log("nu mergeee")})})()}singup(e,i){var r=this;return(0,Me.Z)(function*(){yield r.firebaseAuth.createUserWithEmailAndPassword(e,i).then(l=>{var u,f;r.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(l.user)),console.log(null===(u=l.user)||void 0===u?void 0:u.uid),r.fireservices.collection("Users").doc(null===(f=l.user)||void 0===f?void 0:f.uid).set({Email:e,Nume:"",Prenume:"",Varsta:"",Adresa:"",Judet:"",Oras:"",Abonament:"0",Masini:"0",Admin:"0"})})})()}logout(){this.firebaseAuth.signOut(),localStorage.removeItem("user")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(el),s.LFG(dp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ib="firebasestorage.googleapis.com",OA="storageBucket";class Ti extends F.ZR{constructor(t,e){super(xE(t),`Firebase Storage: ${e} (${xE(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ti.prototype)}_codeEquals(t){return xE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xE(n){return"storage/"+n}function rb(){return new Ti("unknown","An unknown error occurred, please check the error payload for server response.")}function Gd(){return new Ti("canceled","User canceled the upload/download.")}function FA(){return new Ti("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qd(n){return new Ti("invalid-argument",n)}function OE(){return new Ti("app-deleted","The Firebase app was deleted.")}function PE(n){return new Ti("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zd(n,t){return new Ti("invalid-format","String does not match format '"+n+"': "+t)}function ob(n){throw new Ti("internal-error","Internal error: "+n)}class hs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=hs.makeFromUrl(t,e)}catch(r){return new hs(t,"")}if(""===i.path)return i;throw function(n){return new Ti("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(at){at.path_=decodeURIComponent(at.path)}const T=e.replace(/[.]/g,"\\."),mt=[{regex:f,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===ib?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let at=0;at<mt.length;at++){const mn=mt[at],Ln=mn.regex.exec(t);if(Ln){let Qi=Ln[mn.indices.path];Qi||(Qi=""),i=new hs(Ln[mn.indices.bucket],Qi),mn.postModify(i);break}}if(null==i)throw function(n){return new Ti("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class VA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function LE(n){return"string"==typeof n||n instanceof String}function VO(n){return UA()&&n instanceof Blob}function UA(){return"undefined"!=typeof Blob}function VE(n,t,e,i){if(i<t)throw qd(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw qd(`Invalid value for '${n}'. Expected ${e} or less.`)}function du(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function UO(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Yd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Yd||(Yd={})),Yd))();class kV{constructor(t,e,i,r,l,u,f,g,y,E,T){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,R)=>{this.resolve_=I,this.reject_=R,this.start_()})}start_(){const e=(i,r)=>{const l=this.resolve_,u=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(f,f.getResponseText());!function(n){return void 0!==n}(g)?l():l(g)}catch(g){u(g)}else if(null!==f){const g=rb();g.serverResponse=f.getResponseText(),u(this.errorCallback_?this.errorCallback_(f,g):g)}else u(r.canceled?this.appDelete_?OE():Gd():new Ti("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new UE(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,r=null,l=!1,u=0;function f(){return 2===u}let g=!1;function y(...U){g||(g=!0,t.apply(null,U))}function E(U){r=setTimeout(()=>{r=null,n(T,f())},U)}function T(U,...te){if(g)return;if(U)return void y.call(null,U,...te);if(f()||l)return void y.call(null,U,...te);let We;i<64&&(i*=2),1===u?(u=2,We=0):We=1e3*(i+Math.random()),E(We)}let I=!1;function R(U){I||(I=!0,!g&&(null!==r?(U||(u=2),clearTimeout(r),E(0)):U||(u=1)))}return E(0),setTimeout(()=>{l=!0,R(!0)},e),R}((i,r)=>{if(r)return void i(!1,new UE(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Yd.NO_ERROR,g=l.getStatus();if(!f||this.isRetryStatusCode_(g)){const E=l.getErrorCode()===Yd.ABORT;return void i(!1,new UE(!1,null,E))}const y=-1!==this.successCodes_.indexOf(g);i(!0,new UE(y,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||l}}class UE{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function a(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(UA())return new Blob(n);throw new Ti("unsupported-environment","This browser doesn't seem to support creating Blobs")}const h={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class p{constructor(t,e){this.data=t,this.contentType=e||null}}function m(n,t){switch(n){case h.RAW:return new p(b(t));case h.BASE64:case h.BASE64URL:return new p(S(n,t));case h.DATA_URL:return new p(function(n){const t=new M(n);return t.base64?S(h.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw zd(h.DATA_URL,"Malformed data URL.")}return b(t)}(t.rest)}(t),function(n){return new M(n).contentType}(t))}throw rb()}function b(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function S(n,t){switch(n){case h.BASE64:{const r=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(r||l)throw zd(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case h.BASE64URL:{const r=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(r||l)throw zd(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(r){throw zd(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class M{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw zd(h.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class ne{constructor(t,e){let i=0,r="";VO(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(VO(this.data_)){const r=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new ne(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ne(i,!0)}}static getBlob(...t){if(UA()){const e=t.map(i=>i instanceof ne?i.data_:i);return new ne(a.apply(null,e))}{const e=t.map(u=>LE(u)?m(h.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let l=0;return e.forEach(u=>{for(let f=0;f<u.length;f++)r[l++]=u[f]}),new ne(r,!0)}}uploadData(){return this.data_}}function Ce(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Pe(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function At(n,t){return t}class vt{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||At}}let hn=null;function fs(){if(hn)return hn;const n=[];n.push(new vt("bucket")),n.push(new vt("generation")),n.push(new vt("metageneration")),n.push(new vt("name","fullPath",!0));const e=new vt("name");e.xform=function(l,u){return function(n){return!LE(n)||n.length<2?n:Pe(n)}(u)},n.push(e);const r=new vt("size");return r.xform=function(l,u){return void 0!==u?Number(u):u},n.push(r),n.push(new vt("timeCreated")),n.push(new vt("updated")),n.push(new vt("md5Hash",null,!0)),n.push(new vt("cacheControl",null,!0)),n.push(new vt("contentDisposition",null,!0)),n.push(new vt("contentEncoding",null,!0)),n.push(new vt("contentLanguage",null,!0)),n.push(new vt("contentType",null,!0)),n.push(new vt("metadata","customMetadata",!0)),hn=n,hn}function Kd(n,t,e){const i=Ce(t);return null===i?null:function(n,t,e){const i={type:"file"},r=e.length;for(let l=0;l<r;l++){const u=e[l];i[u.local]=u.xform(i,t[u.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const l=new hs(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(i,n),i}(n,i,e)}function e_(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const l=t[r];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const ab="prefixes";class Qd{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hu(n){if(!n)throw rb()}function BA(n,t){return function(i,r){const l=Kd(n,r,t);return hu(null!==l),l}}function cb(n){return function(e,i){let r;return r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new Ti("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ti("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new Ti("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new Ti("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function $A(n){const t=cb(n);return function(i,r){let l=t(i,r);return 404===i.getStatus()&&(l=function(n){return new Ti("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=r.serverResponse,l}}function LV(n,t,e){const r=du(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Qd(r,"GET",BA(n,e),u);return f.errorHandler=$A(t),f}function SZ(n,t,e,i,r){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),i&&(l.pageToken=i),r&&(l.maxResults=r);const f=du(t.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,E=new Qd(f,"GET",function(n,t){return function(i,r){const l=function(n,t,e){const i=Ce(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[ab])for(const r of e[ab]){const l=r.replace(/\/$/,""),u=n._makeStorageReference(new hs(t,l));i.prefixes.push(u)}if(e.items)for(const r of e.items){const l=n._makeStorageReference(new hs(t,r.name));i.items.push(l)}return i}(n,t,i)}(n,t,r);return hu(null!==l),l}}(n,t.bucket),y);return E.urlParams=l,E.errorHandler=cb(t),E}function VV(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class HA{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function $O(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){hu(!1)}return hu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const OZ={STATE_CHANGED:"state_changed"},Eo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HO(n){switch(n){case"running":case"pausing":case"canceling":return Eo.RUNNING;case"paused":return Eo.PAUSED;case"success":return Eo.SUCCESS;case"canceled":return Eo.CANCELED;case"error":default:return Eo.ERROR}}class PZ{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function ub(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class FZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Yd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw ob("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const l in r)r.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,r[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ob("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ob("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponseText(){if(!this.sent_)throw ob("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}function Hl(){return new FZ}class HV{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=fs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,l)=>{this._resolve=r,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const l=t.bucketOnlyServerUrl(),u=VV(t,i,r),f={name:u.fullPath},g=du(l,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},T=e_(u,e),U=new Qd(g,"POST",function(te){let fe;$O(te);try{fe=te.getResponseHeader("X-Goog-Upload-URL")}catch(We){hu(!1)}return hu(LE(fe)),fe},n.maxUploadRetryTime);return U.urlParams=f,U.headers=E,U.body=T,U.errorHandler=cb(t),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Hl,t,e);this._request=r,r.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function(n,t,e,i){const g=new Qd(e,"POST",function(y){const E=$O(y,["active","final"]);let T=null;try{T=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch(R){hu(!1)}T||hu(!1);const I=Number(T);return hu(!isNaN(I)),new HA(I,i.size(),"final"===E)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=cb(t),g}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(r,Hl,e,i);this._request=l,l.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new HA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,l)=>{let u;try{u=function(n,t,e,i,r,l,u,f){const g=new HA(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw new Ti("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const y=g.total-g.current;let E=y;r>0&&(E=Math.min(E,r));const T=g.current,U={"X-Goog-Upload-Command":E===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},te=i.slice(T,T+E);if(null===te)throw FA();const mt=new Qd(e,"POST",function(at,mn){const Ln=$O(at,["active","final"]),Ki=g.current+E,Qi=i.size();let Ta;return Ta="final"===Ln?BA(t,l)(at,mn):null,new HA(Ki,Qi,"final"===Ln,Ta)},t.maxUploadRetryTime);return mt.headers=U,mt.body=te.uploadData(),mt.progressCallback=f||null,mt.errorHandler=cb(n),mt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(u,Hl,r,l);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=LV(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Hl,t,e);this._request=r,r.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const l=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function(){let mt="";for(let at=0;at<2;at++)mt+=Math.random().toString().slice(2);return mt}();u["Content-Type"]="multipart/related; boundary="+g;const y=VV(t,i,r),E=e_(y,e),R=ne.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+g+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===R)throw FA();const U={name:y.fullPath},te=du(l,n.host,n._protocol),We=n.maxUploadRetryTime,Je=new Qd(te,"POST",BA(n,e),We);return Je.urlParams=U,Je.headers=u,Je.body=R.uploadData(),Je.errorHandler=cb(t),Je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Hl,t,e);this._request=r,r.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Gd(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=HO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const l=new PZ(e||void 0,i||void 0,r||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(HO(this._state)){case Eo.SUCCESS:ub(this._resolve.bind(null,this.snapshot))();break;case Eo.CANCELED:case Eo.ERROR:ub(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(HO(this._state)){case Eo.RUNNING:case Eo.PAUSED:t.next&&ub(t.next.bind(t,this.snapshot))();break;case Eo.SUCCESS:t.complete&&ub(t.complete.bind(t))();break;case Eo.CANCELED:case Eo.ERROR:t.error&&ub(t.error.bind(t,this._error))();break;default:t.error&&ub(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class t_{constructor(t,e){this._service=t,this._location=e instanceof hs?e:hs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new t_(t,e)}get root(){const t=new hs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pe(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new hs(this._location.bucket,t);return new t_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw PE(t)}}function ZV(n,t,e){return jO.apply(this,arguments)}function jO(){return(jO=(0,Me.Z)(function*(n,t,e){const r=yield GV(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield ZV(n,t,r.nextPageToken))})).apply(this,arguments)}function GV(n,t){null!=t&&"number"==typeof t.maxResults&&VE("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=SZ(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Hl)}function HZ(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const r=du(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Qd(r,"GET",function(n,t){return function(i,r){const l=Kd(n,r,t);return hu(null!==l),function(n,t,e,i){const r=Ce(t);if(null===r||!LE(r.downloadTokens))return null;const l=r.downloadTokens;if(0===l.length)return null;const u=encodeURIComponent;return l.split(",").map(y=>{const T=n.fullPath;return du("/b/"+u(n.bucket)+"/o/"+u(T),e,i)+UO({alt:"media",token:y})})[0]}(l,r,n.host,n._protocol)}}(n,e),u);return f.errorHandler=$A(t),f}(n.storage,n._location,fs());return n.storage.makeRequestWithTokens(t,Hl).then(e=>{if(null===e)throw new Ti("no-download-url","The given file does not have any download URLs.");return e})}function qV(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new hs(n._location.bucket,e);return new t_(n.storage,i)}function zV(n,t){if(n instanceof ZO){const e=n;if(null==e._bucket)throw new Ti("no-default-bucket","No default bucket found. Did you set the '"+OA+"' property when initializing the app?");const i=new t_(e,e._bucket);return null!=t?zV(i,t):i}return void 0!==t?qV(n,t):n}function qZ(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof ZO)return function(n,t){return new t_(n,t)}(n,t);throw qd("To use ref(service, url), the first argument must be a Storage instance.")}return zV(n,t)}function WV(n,t){const e=null==t?void 0:t[OA];return null==e?null:hs.makeFromBucketSpec(e,n)}class ZO{constructor(t,e,i,r,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=l,this._bucket=null,this._host=ib,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?hs.makeFromBucketSpec(r,this._host):WV(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?hs.makeFromBucketSpec(this._url,t):WV(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Me.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Me.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new t_(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new VA(OE());{const l=function(n,t,e,i,r,l){const u=UO(n.urlParams),f=n.url+u,g=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(g,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(g,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(g,l),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(g,i),new kV(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,Me.Z)(function*(){const[r,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,l).getPromise()})()}}const YV="@firebase/storage",QV="storage";function JV(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=du(t.fullServerUrl(),n.host,n._protocol),f=new Qd(i,"DELETE",function(g,y){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=$A(t),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Hl)}(n=(0,F.m9)(n))}function GO(n,t){return qZ(n=(0,F.m9)(n),t)}function XV(n=(0,xi.getApp)(),t){return n=(0,F.m9)(n),(0,xi._getProvider)(n,QV).getImmediate({identifier:t})}(0,xi._registerComponent)(new xo.wA(QV,function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ZO(e,i,r,t,xi.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,xi.registerVersion)(YV,"0.8.6",""),(0,xi.registerVersion)(YV,"0.8.6","esm2017");let jl=(()=>{class n{constructor(e,i,r){this.firebaseAuth=e,this.afs=i,this.fireStorage=r}getData(){var e=JSON.parse(localStorage.getItem("user")||"{}").uid;return this.afs.collection("Users").doc(e).ref.get().then(i=>{if(i.exists)return i.data();console.log("Nu exista")})}updateData2(e){var i=JSON.parse(localStorage.getItem("user")||"{}");console.log(i),this.afs.collection("Users").doc(i.uid).update({Nume:e.Nume,Prenume:e.Prenume,Adresa:e.Adresa,Judet:e.Judet,Oras:e.Oras,Varsta:e.Varsta,Abonament:e.Abonament})}updateData(e){var i=JSON.parse(localStorage.getItem("user")||"{}");console.log(i),this.afs.collection("Users").doc(i.uid).update({Nume:e.Nume,Prenume:e.Prenume,Adresa:e.Adresa,Judet:e.Judet,Oras:e.Oras,Varsta:e.Varsta,Abonament:e.Abonament,Masini:e.Masini})}getDataCar(){var e=JSON.parse(localStorage.getItem("user")||"{}").uid;return this.afs.collection("Cars").doc(e).ref.get().then(i=>{if(i.exists)return i.data();console.log("Nu exista masina")})}pushDataCar(e){var i,r=JSON.parse(localStorage.getItem("user")||"{}");this.afs.collection("Cars").doc(null===(i=r.user)||void 0===i?void 0:i.uid).set({Email:e.Email,Nume:e.Nume,Prenume:e.Prenume,NrMasina:e.Nrmasina,CodMasina:e.Codmasina,Accident:e.Accident,Marca:e.Marca,Model:e.Model,Id:e.id})}saveFile(e){const i={id:"",name:e.name,url:e.url,email:e.email,citit:e.citit};i.id=this.afs.createId(),this.afs.collection("Upload").doc(i.id).set({id:i.id,name:e.name,url:e.url,email:e.email,citit:e.citit})}updateFile(e){this.afs.collection("Upload").doc(e.id).set({id:e.id,name:e.name,url:e.url,email:e.email,citit:e.citit})}getFile(){return this.afs.collection("/Uploads").snapshotChanges()}deleteFile(e){this.afs.collection("Upload").doc(e.id).delete(),JV(GO(XV(),"Uploads/"+e.name)).then(()=>{console.log("stergere cu succes "+e.name)}).catch(l=>{console.log("Nu a mers stergerea "+e.name)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dp),s.LFG(el),s.LFG(el))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eU(n){return Array.isArray(n)?n:[n]}function Lr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function n_(n){return n instanceof s.SBq?n.nativeElement:n}var sG=x(9105);function Jr(n,t,e,i){return(0,sG.m)(e)&&(i=e,e=void 0),i?Jr(n,t,e).pipe((0,wt.U)(r=>(0,bl.k)(r)?i(...r):i(r))):new Pn.y(r=>{tU(n,t,function(u){r.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},r,e)})}function tU(n,t,e,i,r){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,r),l=()=>u.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),l=()=>u.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),l=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,f=n.length;u<f;u++)tU(n[u],t,e,i,r)}i.add(l)}var cG=x(6465),dG=x(6102);new class extends dG.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,l=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<l&&(t=e.shift()));if(this.active=!1,i){for(;++r<l&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends cG.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});x(4581);class mG{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new _G(t,this.durationSelector))}}class _G extends Hr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,Hr.ft)(e,new Hr.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var nU=x(6561);function zO(n=0,t,e){let i=-1;return(0,nU.k)(t)?i=Number(t)<1?1:Number(t):(0,dc.K)(t)&&(e=t),(0,dc.K)(e)||(e=Kh.P),new Pn.y(r=>{const l=(0,nU.k)(n)?n:+n-e.now();return e.schedule(yG,l,{index:0,period:i,subscriber:r})})}function yG(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function WO(n,t=Kh.P){return function(n){return function(e){return e.lift(new mG(n))}}(()=>zO(n,t))}function Kn(n){return t=>t.lift(new vG(n))}class vG{constructor(t){this.notifier=t}call(t,e){const i=new bG(t),r=(0,Hr.ft)(this.notifier,new Hr.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class bG extends Hr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let YO;try{YO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){YO=!1}let jE,i_,QO,Zl,Tr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.Lbi))},token:n,providedIn:"root"}),n})(),jA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function KO(n){return function(){if(null==jE&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jE=!0}))}finally{jE=jE||!1}return jE}()?n:!!n.capture}function rU(){if(null==i_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return i_=!1,i_;if("scrollBehavior"in document.documentElement.style)i_=!0;else{const n=Element.prototype.scrollTo;i_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return i_}function GA(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function r_(n){return n.composedPath?n.composedPath()[0]:n.target}function JO(){return void 0!==Zl.__karma__&&!!Zl.__karma__||void 0!==Zl.jasmine&&!!Zl.jasmine||void 0!==Zl.jest&&!!Zl.jest||void 0!==Zl.Mocha&&!!Zl.Mocha}Zl="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};const sU=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,s.f3M)(ie)}});let mp=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null,l=(e.body?e.body.dir:null)||r;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sU,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(sU,8))},token:n,providedIn:"root"}),n})(),GE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),zA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Tt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Pn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(WO(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ct.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nn(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=n_(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Jr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Tr),s.LFG(ie,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.R0b),s.LFG(Tr),s.LFG(ie,8))},token:n,providedIn:"root"}),n})(),hb=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Tt.xQ,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(WO(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tr),s.LFG(s.R0b),s.LFG(ie,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(Tr),s.LFG(s.R0b),s.LFG(ie,8))},token:n,providedIn:"root"}),n})(),uU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[GE,jA,uU],GE,uU]}),n})();class tP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class nP extends tP{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class WA extends tP{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class FG extends tP{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class iP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof nP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof WA?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof FG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LG extends iP{constructor(t,e,i,r,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let YA=(()=>{class n extends iP{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const pU=rU();class WG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Lr(-this._previousScrollPosition.left),t.style.top=Lr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,l=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),pU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pU&&(i.scrollBehavior=l,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class YG{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gU{enable(){}disable(){}attach(){}}function sP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function mU(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class KG{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();sP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let QG=(()=>{class n{constructor(e,i,r,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gU,this.close=u=>new YG(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new WG(this._viewportRuler,this._document),this.reposition=u=>new KG(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zA),s.LFG(hb),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(zA),s.LFG(hb),s.LFG(s.R0b),s.LFG(ie))},token:n,providedIn:"root"}),n})();class oP{constructor(t){if(this.scrollStrategy=new gU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class JG{constructor(t,e,i,r,l){this.offsetX=i,this.offsetY=r,this.panelClass=l,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class XG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _U=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(ie))},token:n,providedIn:"root"}),n})(),e4=(()=>{class n extends _U{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let l=r.length-1;l>-1;l--)if(r[l]._keydownEvents.observers.length>0){r[l]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(ie))},token:n,providedIn:"root"}),n})(),t4=(()=>{class n extends _U{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=r_(r)},this._clickListener=r=>{const l=r_(r),u="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const y=f[g];if(!(y._outsidePointerEvents.observers.length<1)&&y.hasAttached()){if(y.overlayElement.contains(l)||y.overlayElement.contains(u))break;y._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Tr))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(ie),s.LFG(Tr))},token:n,providedIn:"root"}),n})(),qE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||JO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].parentNode.removeChild(r[l])}const i=this._document.createElement("div");i.classList.add(e),JO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Tr))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(ie),s.LFG(Tr))},token:n,providedIn:"root"}),n})();class n4{constructor(t,e,i,r,l,u,f,g,y){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Tt.xQ,this._attachments=new Tt.xQ,this._detachments=new Tt.xQ,this._locationChanges=ko.w.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._keydownEvents=new Tt.xQ,this._outsidePointerEvents=new Tt.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Lr(this._config.width),t.height=Lr(this._config.height),t.minWidth=Lr(this._config.minWidth),t.minHeight=Lr(this._config.minHeight),t.maxWidth=Lr(this._config.maxWidth),t.maxHeight=Lr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=t.classList;eU(e).forEach(l=>{l&&(i?r.add(l):r.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Kn((0,au.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const yU="cdk-overlay-connected-position-bounding-box",i4=/([A-Za-z%]+)$/;class vU{constructor(t,e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tt.xQ,this._resizeSubscription=ko.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(yU),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let l;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,u),g=this._getOverlayPoint(f,e,u),y=this._getOverlayFit(g,e,i,u);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(y,g,i)?r.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!l||l.overlayFit.visibleArea<y.visibleArea)&&(l={overlayFit:y,overlayPoint:g,originPoint:f,position:u,overlayRect:e})}if(r.length){let u=null,f=-1;for(const g of r){const y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>f&&(f=y,u=g)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&o_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==e.originX?l:u}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,l;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+l}}_getOverlayFit(t,e,i,r){const l=wU(e);let{x:u,y:f}=t,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(u+=g),y&&(f+=y);let I=0-f,R=f+l.height-i.height,U=this._subtractOverflows(l.width,0-u,u+l.width-i.width),te=this._subtractOverflows(l.height,I,R),fe=U*te;return{visibleArea:fe,isCompletelyWithinViewport:l.width*l.height===fe,fitsInViewportVertically:te===l.height,fitsInViewportHorizontally:U==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,l=i.right-e.x,u=bU(this._overlayRef.getConfig().minHeight),f=bU(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=f&&f<=l;return(t.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=wU(e),l=this._viewportRect,u=Math.max(t.x+r.width-l.width,0),f=Math.max(t.y+r.height-l.height,0),g=Math.max(l.top-i.top-t.y,0),y=Math.max(l.left-i.left-t.x,0);let E=0,T=0;return E=r.width<=l.width?y||-u:t.x<this._viewportMargin?l.left-i.left-t.x:0,T=r.height<=l.height?g||-f:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:E,y:T},{x:t.x+E,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new XG(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let l,u,f,E,T,I;if("top"===e.overlayY)u=t.y,l=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,l=i.height-f+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;l=2*R,u=t.y-R,l>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)I=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,E=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;E=2*R,T=t.x-R,E>U&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-U/2)}return{top:u,left:T,bottom:f,right:I,width:E,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Lr(i.height),r.top=Lr(i.top),r.bottom=Lr(i.bottom),r.width=Lr(i.width),r.left=Lr(i.left),r.right=Lr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=Lr(l)),u&&(r.maxWidth=Lr(u))}this._lastBoundingBoxSize=i,o_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){o_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){o_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();o_(i,this._getExactOverlayY(e,t,E)),o_(i,this._getExactOverlayX(e,t,E))}else i.position="static";let f="",g=this._getOffset(e,"x"),y=this._getOffset(e,"y");g&&(f+=`translateX(${g}px) `),y&&(f+=`translateY(${y}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Lr(u.maxHeight):l&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Lr(u.maxWidth):l&&(i.maxWidth="")),o_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=u,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=Lr(l.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=Lr(l.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mU(t,i),isOriginOutsideView:sP(t,i),isOverlayClipped:mU(e,i),isOverlayOutsideView:sP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&eU(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function o_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function bU(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(i4);return e&&"px"!==e?null:parseFloat(t)}return n||null}function wU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class r4{constructor(t,e,i,r,l,u,f){this._preferredPositions=[],this._positionStrategy=new vU(i,r,l,u,f).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,r){const l=new JG(t,e,i,r);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const CU="cdk-global-overlay-wrapper";class s4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(CU),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:u,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=g?"0":this._leftOffset,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,g?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(CU),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let o4=(()=>{class n{constructor(e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new s4}connectedTo(e,i,r){return new r4(i,r,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new vU(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hb),s.LFG(ie),s.LFG(Tr),s.LFG(qE))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(hb),s.LFG(ie),s.LFG(Tr),s.LFG(qE))},token:n,providedIn:"root"}),n})(),a4=0,fb=(()=>{class n{constructor(e,i,r,l,u,f,g,y,E,T,I){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=y,this._directionality=E,this._location=T,this._outsideClickDispatcher=I}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),u=new oP(e);return u.direction=u.direction||this._directionality.value,new n4(l,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+a4++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new LG(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(QG),s.LFG(qE),s.LFG(s._Vd),s.LFG(o4),s.LFG(e4),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ie),s.LFG(mp),s.LFG(Lt),s.LFG(t4))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const u4={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[fb],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let d4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fb,u4],imports:[[GE,hU,eP],eP]}),n})();class h4{constructor(t){this.total=t}call(t,e){return e.subscribe(new f4(t,this.total))}}class f4 extends ji.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class p4{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new g4(t,this.dueTime,this.scheduler))}}class g4 extends ji.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m4,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function m4(n){n.debouncedNext()}let MU=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===RU(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),l=RU(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==l:"video"===r?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||NU(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tr))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(Tr))},token:n,providedIn:"root"}),n})();function NU(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function RU(n){if(!NU(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class N4{constructor(t,e,i,r,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(bi(1)).subscribe(t)}}let kU=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new N4(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(MU),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(MU),s.LFG(s.R0b),s.LFG(ie))},token:n,providedIn:"root"}),n})();"undefined"!=typeof Element&&Element;const PU=new s.OlP("cdk-input-modality-detector-options"),P4={ignoreKeys:[18,17,224,91,16]},pb=KO({passive:!0,capture:!0});let LU=(()=>{class n{constructor(e,i,r,l){this._platform=e,this._mostRecentTarget=null,this._modality=new ri(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(y=>y===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=r_(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.offsetX&&0===n.offsetY}(u)?"keyboard":"mouse"),this._mostRecentTarget=r_(u))},this._onTouchstart=u=>{!function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(u)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=r_(u)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},P4),l),this.modalityDetected=this._modality.pipe(function(n){return t=>t.lift(new h4(n))}(1)),this.modalityChanged=this.modalityDetected.pipe(oa()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,pb),r.addEventListener("mousedown",this._onMousedown,pb),r.addEventListener("touchstart",this._onTouchstart,pb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pb),document.removeEventListener("mousedown",this._onMousedown,pb),document.removeEventListener("touchstart",this._onTouchstart,pb))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tr),s.LFG(s.R0b),s.LFG(ie),s.LFG(PU,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(Tr),s.LFG(s.R0b),s.LFG(ie),s.LFG(PU,8))},token:n,providedIn:"root"}),n})();const BU=new s.OlP("cdk-focus-monitor-default-options"),KA=KO({passive:!0,capture:!0});let $U=(()=>{class n{constructor(e,i,r,l,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tt.xQ,this._rootNodeFocusAndBlurListener=f=>{const g=r_(f),y="focus"===f.type?this._onFocus:this._onBlur;for(let E=g;E;E=E.parentElement)y.call(this,f,E)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=n_(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,ct.of)(null);const l=function(n){if(function(){if(null==QO){const n="undefined"!=typeof document?document.head:null;QO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QO}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Tt.xQ,rootNode:l};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=n_(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const l=n_(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,r){r?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),l=r_(e);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,KA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,KA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kn(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,KA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,KA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,l)=>{(l===e||r.checkChildren&&l.contains(e))&&i.push([l,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Tr),s.LFG(LU),s.LFG(ie,8),s.LFG(BU,8))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.R0b),s.LFG(Tr),s.LFG(LU),s.LFG(ie,8),s.LFG(BU,8))},token:n,providedIn:"root"}),n})();const HU="cdk-high-contrast-black-on-white",jU="cdk-high-contrast-white-on-black",lP="cdk-high-contrast-active";let ZU=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lP),e.remove(HU),e.remove(jU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(lP),e.add(HU)):2===i&&(e.add(lP),e.add(jU))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tr),s.LFG(ie))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(Tr),s.LFG(ie))},token:n,providedIn:"root"}),n})();const GU=new s.GfV("12.2.12");class qU{}const Jd="*";function U4(n,t){return{type:7,name:n,definitions:t,options:{}}}function zU(n,t=null){return{type:4,styles:t,timings:n}}function WU(n,t=null){return{type:2,steps:n,options:t}}function gb(n){return{type:6,styles:n,offset:null}}function YU(n,t,e){return{type:0,name:n,styles:t,options:e}}function KU(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function QU(n){Promise.resolve(null).then(n)}class mb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){QU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class JU{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?QU(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==l&&this._onFinish()}),u.onDestroy(()=>{++i==l&&this._onDestroy()}),u.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function XU(){return"undefined"!=typeof window&&void 0!==window.document}function uP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _p(n){switch(n.length){case 0:return new mb;case 1:return n[0];default:return new JU(n)}}function eB(n,t,e,i,r={},l={}){const u=[],f=[];let g=-1,y=null;if(i.forEach(E=>{const T=E.offset,I=T==g,R=I&&y||{};Object.keys(E).forEach(U=>{let te=U,fe=E[U];if("offset"!==U)switch(te=t.normalizePropertyName(te,u),fe){case"!":fe=r[U];break;case Jd:fe=l[U];break;default:fe=t.normalizeStyleValue(U,te,fe,u)}R[te]=fe}),I||f.push(R),y=R,g=T}),u.length){const E="\n - ";throw new Error(`Unable to animate due to the following errors:${E}${u.join(E)}`)}return f}function dP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&hP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&hP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&hP(e,"destroy",n)))}}function hP(n,t,e){const i=e.totalTime,l=fP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(l._data=u),l}function fP(n,t,e,i,r="",l=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!u}}function Ca(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function tB(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let pP=(n,t)=>!1,gP=(n,t)=>!1,nB=(n,t,e)=>[];const iB=uP();(iB||"undefined"!=typeof Element)&&(pP=XU()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),gP=(()=>{if(iB||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):gP}})(),nB=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let l=0;l<r.length;l++)i.push(r[l])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let a_=null,rB=!1;function mP(n){a_||(a_=("undefined"!=typeof document?document.body:null)||{},rB=!!a_.style&&"WebkitAppearance"in a_.style);let t=!0;return a_.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in a_.style,!t&&rB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in a_.style)),t}const _P=gP,yP=pP,vP=nB;function sB(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let oB=(()=>{class n{validateStyleProperty(e){return mP(e)}matchesElement(e,i){return _P(e,i)}containsElement(e,i){return yP(e,i)}query(e,i,r){return vP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,u,f=[],g){return new mb(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),bP=(()=>{class n{}return n.NOOP=new oB,n})();const wP="ng-enter",QA="ng-leave",JA="ng-trigger",XA=".ng-trigger",lB="ng-animating",CP=".ng-animating";function l_(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:EP(parseFloat(t[1]),t[2])}function EP(n,t){switch(t){case"s":return 1e3*n;default:return n}}function eM(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=EP(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(l=EP(parseFloat(g),f[4]));const y=f[5];y&&(u=y)}else r=n;if(!e){let f=!1,g=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),f=!0),l<0&&(t.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&t.splice(g,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:l,easing:u}}(n,t,e)}function _b(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function yp(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else _b(n,e);return e}function uB(n,t,e){return e?t+":"+e+";":""}function dB(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uB(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uB(0,z4(e),n.style[e]));n.setAttribute("style",t)}function fu(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=TP(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),uP()&&dB(n))}function c_(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=TP(e);n.style[i]=""}),uP()&&dB(n))}function zE(n){return Array.isArray(n)?1==n.length?n[0]:WU(n):n}const DP=new RegExp("{{\\s*(.+?)\\s*}}","g");function hB(n){let t=[];if("string"==typeof n){let e;for(;e=DP.exec(n);)t.push(e[1]);DP.lastIndex=0}return t}function tM(n,t,e){const i=n.toString(),r=i.replace(DP,(l,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return r==i?n:r}function nM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const q4=/-+([a-z0-9])/g;function TP(n){return n.replace(q4,(...t)=>t[1].toUpperCase())}function z4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fB(n,t){return 0===n||0===t}function pB(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],u=[];if(i.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(g){f[g]=SP(n,g)})}}return t}function Ea(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function SP(n,t){return window.getComputedStyle(n)[t]}function W4(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const g=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],l=i[2],u=i[3];t.push(gB(r,u));"<"==l[0]&&!("*"==r&&"*"==u)&&t.push(gB(u,r))}(i,e,t)):e.push(n),e}const rM=new Set(["true","1"]),sM=new Set(["false","0"]);function gB(n,t){const e=rM.has(n)||sM.has(n),i=rM.has(t)||sM.has(t);return(r,l)=>{let u="*"==n||n==r,f="*"==t||t==l;return!u&&e&&"boolean"==typeof r&&(u=r?rM.has(n):sM.has(n)),!f&&i&&"boolean"==typeof l&&(f=l?rM.has(t):sM.has(t)),u&&f}}const Q4=new RegExp("s*:selfs*,?","g");function IP(n,t,e){return new J4(n).build(t,e)}class J4{constructor(t){this._driver=t}build(t,e){const i=new tq(e);return this._resetContextStyleTimingState(i),Ea(this,zE(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const g=f,y=g.name;y.toString().split(/\s*,\s*/).forEach(E=>{g.name=E,l.push(this.visitState(g,e))}),g.name=y}else if(1==f.type){const g=this.visitTransition(f,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:l,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=r||{};if(i.styles.forEach(f=>{if(oM(f)){const g=f;Object.keys(g).forEach(y=>{hB(g[y]).forEach(E=>{u.hasOwnProperty(E)||l.add(E)})})}}),l.size){const f=nM(l.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ea(this,zE(t.animation),e);return{type:1,matchers:W4(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:u_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ea(this,i,e)),options:u_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(u=>{e.currentTime=i;const f=Ea(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:l,options:u_(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return AP(eM(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=AP(0,0,"");return l.dynamic=!0,l.strValue=i,l}return e=e||eM(i,t),AP(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:gb({});if(5==l.type)r=this.visitKeyframes(l,e);else{let u=t.styles,f=!1;if(!u){f=!0;const y={};i.easing&&(y.easing=i.easing),u=gb(y)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=f,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Jd?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,l=null;return i.forEach(u=>{if(oM(u)){const f=u,g=f.easing;if(g&&(l=g,delete f.easing),!r)for(let y in f)if(f[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void e.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const g=e.collectedStyles[e.currentQuerySelector],y=g[f];let E=!0;y&&(l!=r&&l>=y.startTime&&r<=y.endTime&&(e.errors.push(`The CSS property "${f}" that exists between the times of "${y.startTime}ms" and "${y.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${r}ms"`),E=!1),l=y.startTime),E&&(g[f]={startTime:l,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=hB(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let l=0;const u=[];let f=!1,g=!1,y=0;const E=t.steps.map(We=>{const Je=this._makeStyleAst(We,e);let mt=null!=Je.offset?Je.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(oM(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(oM(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Je.styles),at=0;return null!=mt&&(l++,at=Je.offset=mt),g=g||at<0||at>1,f=f||at<y,y=at,u.push(at),Je});g&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&e.errors.push("Please ensure that all keyframe offsets are in order");const T=t.steps.length;let I=0;l>0&&l<T?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(I=1/(T-1));const R=T-1,U=e.currentTime,te=e.currentAnimateTimings,fe=te.duration;return E.forEach((We,Je)=>{const mt=I>0?Je==R?1:I*Je:u[Je],at=mt*fe;e.currentTime=U+te.delay+at,te.duration=at,this._validateStyleAst(We,e),We.offset=mt,i.styles.push(We)}),i}visitReference(t,e){return{type:8,animation:Ea(this,zE(t.animation),e),options:u_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:u_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:u_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,u]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Q4,"")),[n=n.replace(/@\*/g,XA).replace(/@\w+/g,e=>XA+"-"+e.substr(1)).replace(/:animating/g,CP),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,Ca(e.collectedStyles,e.currentQuerySelector,{});const f=Ea(this,zE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:u_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:eM(t.timings,e.errors,!0);return{type:12,animation:Ea(this,zE(t.animation),e),timings:i,options:null}}}class tq{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oM(n){return!Array.isArray(n)&&"object"==typeof n}function u_(n){return n?(n=_b(n)).params&&(n.params=function(n){return n?_b(n):null}(n.params)):n={},n}function AP(n,t,e){return{duration:n,delay:t,easing:e}}function MP(n,t,e,i,r,l,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:u,subTimeline:f}}class aM{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const oq=new RegExp(":enter","g"),lq=new RegExp(":leave","g");function NP(n,t,e,i,r,l={},u={},f,g,y=[]){return(new cq).buildKeyframes(n,t,e,i,r,l,u,f,g,y)}class cq{buildKeyframes(t,e,i,r,l,u,f,g,y,E=[]){y=y||new aM;const T=new RP(t,e,y,r,l,E,[]);T.options=g,T.currentTimeline.setStyles([u],null,T.errors,g),Ea(this,i,T);const I=T.timelines.filter(R=>R.containsAnimation());if(I.length&&Object.keys(f).length){const R=I[I.length-1];R.allowOnlyTimelineStyles()||R.setStyles([f],null,T.errors,g)}return I.length?I.map(R=>R.buildKeyframes()):[MP(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);l!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const u=null!=i.duration?l_(i.duration):null,f=null!=i.delay?l_(i.delay):null;return 0!==u&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,u,f);l=Math.max(l,y.duration+y.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Ea(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lM);const u=l_(l.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ea(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?l_(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);l&&f.delayNextStep(l),Ea(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return eM(e.params?tM(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(g=>{f.forwardTime((g.offset||0)*l),f.setStyles(g.styles,g.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?l_(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lM);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let g=null;f.forEach((y,E)=>{e.currentQueryIndex=E;const T=e.createSubContext(t.options,y);l&&T.delayNextStep(l),y===e.element&&(g=T.currentTimeline),Ea(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,u=Math.abs(l.duration),f=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const E=e.currentTimeline;g&&E.delayNextStep(g);const T=E.currentTime;Ea(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const lM={};class RP{constructor(t,e,i,r,l,u,f,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new cM(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=l_(i.duration)),null!=i.delay&&(r.delay=l_(i.delay));const l=i.params;if(l){let u=r.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=tM(l[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new RP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=lM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new uq(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(oq,"."+this._enterClassName)).replace(lq,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),f.push(...y)}return!l&&0==f.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),f}}class cM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Jd,this._currentKeyframe[e]=Jd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const l=r&&r.params||{},u=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(l=>{e[l]=Jd})):yp(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const g=tM(u[f],l,i);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Jd),this._updateStyle(f,g)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const y=yp(f,!0);Object.keys(y).forEach(E=>{const T=y[E];"!"==T?t.add(E):T==Jd&&e.add(E)}),i||(y.offset=g/this.duration),r.push(y)});const l=t.size?nM(t.values()):[],u=e.size?nM(e.values()):[];if(i){const f=r[0],g=_b(f);f.offset=0,g.offset=1,r=[f,g]}return MP(this.element,r,l,u,this.duration,this.startTime,this.easing,!1)}}class uq extends cM{constructor(t,e,i,r,l,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],u=i+e,f=e/u,g=yp(t[0],!1);g.offset=0,l.push(g);const y=yp(t[0],!1);y.offset=yB(f),l.push(y);const E=t.length-1;for(let T=1;T<=E;T++){let I=yp(t[T],!1);I.offset=yB((e+I.offset*i)/u),l.push(I)}i=u,e=0,r="",t=l}return MP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class kP{}class hq extends kP{normalizePropertyName(t,e){return TP(t)}normalizeStyleValue(t,e,i,r){let l="";const u=i.toString().trim();if(fq[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+l}}const fq=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vB(n,t,e,i,r,l,u,f,g,y,E,T,I){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:y,postStyleProps:E,totalTime:T,errors:I}}const xP={};class bB{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],l=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return l?l.buildStyles(e,i):u}build(t,e,i,r,l,u,f,g,y,E){const T=[],I=this.ast.options&&this.ast.options.params||xP,U=this.buildStyles(i,f&&f.params||xP,T),te=g&&g.params||xP,fe=this.buildStyles(r,te,T),We=new Set,Je=new Map,mt=new Map,at="void"===r,mn={params:Object.assign(Object.assign({},I),te)},Ln=E?[]:NP(t,e,this.ast.animation,l,u,U,fe,mn,y,T);let Ki=0;if(Ln.forEach(Ta=>{Ki=Math.max(Ta.duration+Ta.delay,Ki)}),T.length)return vB(e,this._triggerName,i,r,at,U,fe,[],[],Je,mt,Ki,T);Ln.forEach(Ta=>{const rh=Ta.element,yZ=Ca(Je,rh,{});Ta.preStyleProps.forEach(R_=>yZ[R_]=!0);const W1=Ca(mt,rh,{});Ta.postStyleProps.forEach(R_=>W1[R_]=!0),rh!==e&&We.add(rh)});const Qi=nM(We.values());return vB(e,this._triggerName,i,r,at,U,fe,Ln,Qi,Je,mt,Ki)}}class mq{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=_b(this.defaultParams);return Object.keys(t).forEach(l=>{const u=t[l];null!=u&&(r[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let g=u[f];g.length>1&&(g=tM(g,r,e));const y=this.normalizer.normalizePropertyName(f,e);g=this.normalizer.normalizeStyleValue(f,y,g,e),i[y]=g})}}),i}}class yq{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new mq(r.style,r.options&&r.options.params||{},i)}),wB(this.states,"true","1"),wB(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bB(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new bB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wB(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const bq=new aM;class wq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=IP(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,l=eB(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations[t];let u;const f=new Map;if(l?(u=NP(this._driver,e,l,wP,QA,{},{},i,bq,r),u.forEach(E=>{const T=Ca(f,E.element,{});E.postStyleProps.forEach(I=>T[I]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);f.forEach((E,T)=>{Object.keys(E).forEach(I=>{E[I]=this._driver.computeStyle(T,I,Jd)})});const y=_p(u.map(E=>{const T=f.get(E.element);return this._buildPlayer(E,{},T)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const l=fP(e,"","","");return dP(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const CB="ng-animate-queued",EB="ng-animate-disabled",DB=".ng-animate-disabled",Tq=[],TB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nl="__ng_removed";class OP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const l=_b(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const WE="void",PP=new OP(WE);class Iq{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,il(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const l=Ca(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};l.push(u);const f=Ca(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(il(t,JA),il(t,JA+"-"+e),f[e]=PP),()=>{this._engine.afterFlush(()=>{const g=l.indexOf(u);g>=0&&l.splice(g,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),u=new FP(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(il(t,JA),il(t,JA+"-"+e),this._engine.statesByElement.set(t,f={}));let g=f[e];const y=new OP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),f[e]=y,g||(g=PP),y.value!==WE&&g.value===y.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(g.params,y.params)){const te=[],fe=l.matchStyles(g.value,g.params,te),We=l.matchStyles(y.value,y.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{c_(t,fe),fu(t,We)})}return}const I=Ca(this._engine.playersByElement,t,[]);I.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let R=l.matchTransition(g.value,y.value,t,y.params),U=!1;if(!R){if(!r)return;R=l.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:g,toState:y,player:u,isFallbackTransition:U}),U||(il(t,CB),u.onStart(()=>{yb(t,CB)})),u.onDone(()=>{let te=this.players.indexOf(u);te>=0&&this.players.splice(te,1);const fe=this._engine.playersByElement.get(t);if(fe){let We=fe.indexOf(u);We>=0&&fe.splice(We,1)}}),this.players.push(u),I.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,XA,!0);i.forEach(r=>{if(r[nl])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t);if(l){const u=[];if(Object.keys(l).forEach(f=>{if(this._triggers[f]){const g=this.trigger(t,f,WE,r);g&&u.push(g)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&_p(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const u=l.name;if(r.has(u))return;r.add(u);const g=this._triggers[u].fallbackTransition,y=i[u]||PP,E=new OP(WE),T=new FP(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:y,toState:E,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[nl];(!l||l===TB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){il(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=fP(l,i.triggerName,i.fromState.value,i.toState.value);g._data=t,dP(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Aq{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Iq(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let l=i;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const u=i[r[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(uM(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!uM(e))return;const l=e[nl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),il(t,EB)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yb(t,EB))}removeNode(t,e,i,r){if(uM(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[nl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,l){return uM(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,XA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,CP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _p(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[nl];if(e&&e.setForRemoval){if(t[nl]=TB,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,DB)&&this.markElementAsDisabled(t,!1),this.driver.query(t,DB,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)il(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?_p(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new aM,r=[],l=new Map,u=[],f=new Map,g=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(Ct=>{E.add(Ct);const Ft=this.driver.query(Ct,".ng-animate-queued",!0);for(let rn=0;rn<Ft.length;rn++)E.add(Ft[rn])});const T=this.bodyNode,I=Array.from(this.statesByElement.keys()),R=AB(I,this.collectedEnterElements),U=new Map;let te=0;R.forEach((Ct,Ft)=>{const rn=wP+te++;U.set(Ft,rn),Ct.forEach(Vn=>il(Vn,rn))});const fe=[],We=new Set,Je=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Ft=this.collectedLeaveElements[Ct],rn=Ft[nl];rn&&rn.setForRemoval&&(fe.push(Ft),We.add(Ft),rn.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Vn=>We.add(Vn)):Je.add(Ft))}const mt=new Map,at=AB(I,Array.from(We));at.forEach((Ct,Ft)=>{const rn=QA+te++;mt.set(Ft,rn),Ct.forEach(Vn=>il(Vn,rn))}),t.push(()=>{R.forEach((Ct,Ft)=>{const rn=U.get(Ft);Ct.forEach(Vn=>yb(Vn,rn))}),at.forEach((Ct,Ft)=>{const rn=mt.get(Ft);Ct.forEach(Vn=>yb(Vn,rn))}),fe.forEach(Ct=>{this.processLeaveNode(Ct)})});const mn=[],Ln=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach(rn=>{const Vn=rn.player,_s=rn.element;if(mn.push(Vn),this.collectedEnterElements.length){const bu=_s[nl];if(bu&&bu.setForMove)return void Vn.destroy()}const vu=!T||!this.driver.containsElement(T,_s),Sa=mt.get(_s),Fp=U.get(_s),mr=this._buildInstruction(rn,i,Fp,Sa,vu);if(mr.errors&&mr.errors.length)Ln.push(mr);else{if(vu)return Vn.onStart(()=>c_(_s,mr.fromStyles)),Vn.onDestroy(()=>fu(_s,mr.toStyles)),void r.push(Vn);if(rn.isFallbackTransition)return Vn.onStart(()=>c_(_s,mr.fromStyles)),Vn.onDestroy(()=>fu(_s,mr.toStyles)),void r.push(Vn);mr.timelines.forEach(bu=>bu.stretchStartingKeyframe=!0),i.append(_s,mr.timelines),u.push({instruction:mr,player:Vn,element:_s}),mr.queriedElements.forEach(bu=>Ca(f,bu,[]).push(Vn)),mr.preStyleProps.forEach((bu,Y1)=>{const VN=Object.keys(bu);if(VN.length){let k_=g.get(Y1);k_||g.set(Y1,k_=new Set),VN.forEach(o2=>k_.add(o2))}}),mr.postStyleProps.forEach((bu,Y1)=>{const VN=Object.keys(bu);let k_=y.get(Y1);k_||y.set(Y1,k_=new Set),VN.forEach(o2=>k_.add(o2))})}});if(Ln.length){const Ct=[];Ln.forEach(Ft=>{Ct.push(`@${Ft.triggerName} has failed due to:\n`),Ft.errors.forEach(rn=>Ct.push(`- ${rn}\n`))}),mn.forEach(Ft=>Ft.destroy()),this.reportError(Ct)}const Ki=new Map,Qi=new Map;u.forEach(Ct=>{const Ft=Ct.element;i.has(Ft)&&(Qi.set(Ft,Ft),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,Ki))}),r.forEach(Ct=>{const Ft=Ct.element;this._getPreviousPlayers(Ft,!1,Ct.namespaceId,Ct.triggerName,null).forEach(Vn=>{Ca(Ki,Ft,[]).push(Vn),Vn.destroy()})});const Ta=fe.filter(Ct=>NB(Ct,g,y)),rh=new Map;IB(rh,this.driver,Je,y,Jd).forEach(Ct=>{NB(Ct,g,y)&&Ta.push(Ct)});const W1=new Map;R.forEach((Ct,Ft)=>{IB(W1,this.driver,new Set(Ct),g,"!")}),Ta.forEach(Ct=>{const Ft=rh.get(Ct),rn=W1.get(Ct);rh.set(Ct,Object.assign(Object.assign({},Ft),rn))});const R_=[],vZ=[],bZ={};u.forEach(Ct=>{const{element:Ft,player:rn,instruction:Vn}=Ct;if(i.has(Ft)){if(E.has(Ft))return rn.onDestroy(()=>fu(Ft,Vn.toStyles)),rn.disabled=!0,rn.overrideTotalTime(Vn.totalTime),void r.push(rn);let _s=bZ;if(Qi.size>1){let Sa=Ft;const Fp=[];for(;Sa=Sa.parentNode;){const mr=Qi.get(Sa);if(mr){_s=mr;break}Fp.push(Sa)}Fp.forEach(mr=>Qi.set(mr,_s))}const vu=this._buildAnimation(rn.namespaceId,Vn,Ki,l,W1,rh);if(rn.setRealPlayer(vu),_s===bZ)R_.push(rn);else{const Sa=this.playersByElement.get(_s);Sa&&Sa.length&&(rn.parentPlayer=_p(Sa)),r.push(rn)}}else c_(Ft,Vn.fromStyles),rn.onDestroy(()=>fu(Ft,Vn.toStyles)),vZ.push(rn),E.has(Ft)&&r.push(rn)}),vZ.forEach(Ct=>{const Ft=l.get(Ct.element);if(Ft&&Ft.length){const rn=_p(Ft);Ct.setRealPlayer(rn)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<fe.length;Ct++){const Ft=fe[Ct],rn=Ft[nl];if(yb(Ft,QA),rn&&rn.hasAnimation)continue;let Vn=[];if(f.size){let vu=f.get(Ft);vu&&vu.length&&Vn.push(...vu);let Sa=this.driver.query(Ft,CP,!0);for(let Fp=0;Fp<Sa.length;Fp++){let mr=f.get(Sa[Fp]);mr&&mr.length&&Vn.push(...mr)}}const _s=Vn.filter(vu=>!vu.destroyed);_s.length?kq(this,Ft,_s):this.processLeaveNode(Ft)}return fe.length=0,R_.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Ft=this.players.indexOf(Ct);this.players.splice(Ft,1)}),Ct.play()}),R_}elementContainsData(t,e){let i=!1;const r=e[nl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const g=!l||l==WE;f.forEach(y=>{y.queued||!g&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const l=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,E=y!==l,T=Ca(i,y,[]);this._getPreviousPlayers(y,E,u,f,e.toState).forEach(R=>{const U=R.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),R.destroy(),T.push(R)})}c_(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,u){const f=e.triggerName,g=e.element,y=[],E=new Set,T=new Set,I=e.timelines.map(U=>{const te=U.element;E.add(te);const fe=te[nl];if(fe&&fe.removedBeforeQueried)return new mb(U.duration,U.delay);const We=te!==g,Je=function(n){const t=[];return MB(n,t),t}((i.get(te)||Tq).map(Ki=>Ki.getRealPlayer())).filter(Ki=>!!Ki.element&&Ki.element===te),mt=l.get(te),at=u.get(te),mn=eB(0,this._normalizer,0,U.keyframes,mt,at),Ln=this._buildPlayer(U,mn,Je);if(U.subTimeline&&r&&T.add(te),We){const Ki=new FP(t,f,te);Ki.setRealPlayer(Ln),y.push(Ki)}return Ln});y.forEach(U=>{Ca(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),E.forEach(U=>il(U,lB));const R=_p(I);return R.onDestroy(()=>{E.forEach(U=>yb(U,lB)),fu(g,e.toStyles)}),T.forEach(U=>{Ca(r,U,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new mb(t.duration,t.delay)}}class FP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new mb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>dP(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ca(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function uM(n){return n&&1===n.nodeType}function SB(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function IB(n,t,e,i,r){const l=[];e.forEach(g=>l.push(SB(g)));const u=[];i.forEach((g,y)=>{const E={};g.forEach(T=>{const I=E[T]=t.computeStyle(y,T,r);(!I||0==I.length)&&(y[nl]=Sq,u.push(y))}),n.set(y,E)});let f=0;return e.forEach(g=>SB(g,l[f++])),u}function AB(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),l=new Map;function u(f){if(!f)return 1;let g=l.get(f);if(g)return g;const y=f.parentNode;return g=e.has(y)?y:r.has(y)?1:u(y),l.set(f,g),g}return t.forEach(f=>{const g=u(f);1!==g&&e.get(g).push(f)}),e}const dM="$$classes";function il(n,t){if(n.classList)n.classList.add(t);else{let e=n[dM];e||(e=n[dM]={}),e[t]=!0}}function yb(n,t){if(n.classList)n.classList.remove(t);else{let e=n[dM];e&&delete e[t]}}function kq(n,t,e){_p(e).onDone(()=>n.processLeaveNode(t))}function MB(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof JU?MB(i.players,t):t.push(i)}}function NB(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class hM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new Aq(t,e,i),this._timelineEngine=new wq(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const g=[],y=IP(this._driver,l,g);if(g.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);f=function(n,t,e){return new yq(n,t,e)}(r,y,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,u]=tB(i);this._timelineEngine.command(l,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[u,f]=tB(i);return this._timelineEngine.listen(u,e,f,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function RB(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=LP(t[0]),t.length>1&&(i=LP(t[t.length-1]))):t&&(e=LP(t)),e||i?new Pq(n,e,i):null}let Pq=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&fu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fu(this._element,this._initialStyles),this._endStyles&&(fu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(c_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(c_(this._element,this._endStyles),this._endStyles=null),fu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function LP(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Fq(r)&&(t=t||{},t[r]=n[r])}return t}function Fq(n){return"display"===n||"position"===n}const kB="animation",xB="animationend";class Uq{constructor(t,e,i,r,l,u,f){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=l,this._fillMode=u,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function(n,t){const e=UP(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),fM(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),FB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){OB(this._element,this._name,"paused")}resume(){OB(this._element,this._name,"running")}setPosition(t){const e=PB(this._element,this._name);this._position=t*this._duration,fM(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),FB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=UP(n,"").split(","),r=VP(i,t);r>=0&&(i.splice(r,1),fM(n,"",i.join(",")))}(this._element,this._name))}}function OB(n,t,e){fM(n,"PlayState",e,PB(n,t))}function PB(n,t){const e=UP(n,"");return e.indexOf(",")>0?VP(e.split(","),t):VP([e],t)}function VP(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function FB(n,t,e){e?n.removeEventListener(xB,t):n.addEventListener(xB,t)}function fM(n,t,e,i){const r=kB+t;if(null!=i){const l=n.style[r];if(l.length){const u=l.split(",");u[i]=e,e=u.join(",")}}n.style[r]=e}function UP(n,t){return n.style[kB+t]||""}class LB{constructor(t,e,i,r,l,u,f,g){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=l,this._finalStyles=f,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=r+l,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Uq(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:SP(this.element,i))})}this.currentSnapshot=t}}class Gq extends mb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=sB(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class UB{constructor(){this._count=0}validateStyleProperty(t){return mP(t)}matchesElement(t,e){return _P(t,e)}containsElement(t,e){return yP(t,e)}query(t,e,i){return vP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(f=>sB(f));let r=`@keyframes ${e} {\n`,l="";i.forEach(f=>{l=" ";const g=parseFloat(f.offset);r+=`${l}${100*g}% {\n`,l+=" ",Object.keys(f).forEach(y=>{const E=f[y];switch(y){case"offset":return;case"easing":return void(E&&(r+=`${l}animation-timing-function: ${E};\n`));default:return void(r+=`${l}${y}: ${E};\n`)}}),r+=`${l}}\n`}),r+="}\n";const u=document.createElement("style");return u.textContent=r,u}animate(t,e,i,r,l,u=[],f){const g=u.filter(fe=>fe instanceof LB),y={};fB(i,r)&&g.forEach(fe=>{let We=fe.currentSnapshot;Object.keys(We).forEach(Je=>y[Je]=We[Je])});const E=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=pB(t,e,y));if(0==i)return new Gq(t,E);const T="gen_css_kf_"+this._count++,I=this.buildKeyframeElement(t,T,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(I);const U=RB(t,e),te=new LB(t,e,T,i,r,l,E,U);return te.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(I)),te}}class $B{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:SP(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Kq{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(HB().toString()),this._cssKeyframesDriver=new UB}validateStyleProperty(t){return mP(t)}matchesElement(t,e){return _P(t,e)}containsElement(t,e){return yP(t,e)}query(t,e,i){return vP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,l,u=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,l,u);const E={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(E.easing=l);const T={},I=u.filter(U=>U instanceof $B);fB(i,r)&&I.forEach(U=>{let te=U.currentSnapshot;Object.keys(te).forEach(fe=>T[fe]=te[fe])});const R=RB(t,e=pB(t,e=e.map(U=>yp(U,!1)),T));return new $B(t,e,E,R)}}function HB(){return XU()&&Element.prototype.animate||{}}let Jq=(()=>{class n extends qU{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?WU(e):e;return jB(this._renderer,null,i,"register",[r]),new Xq(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Xq extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ez(this._id,t,e||{},this._renderer)}}class ez{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function jB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const ZB="@.disabled";let tz=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{u&&u.parentNode(l)&&u.removeChild(l.parentNode,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(l);return E||(E=new GB("",l,this.engine),this._rendererCache.set(l,E)),E}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const g=E=>{Array.isArray(E)?E.forEach(g):this.engine.registerTrigger(u,f,e,E.name,E)};return i.data.animation.forEach(g),new nz(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(hM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class GB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==ZB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class nz extends GB{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ZB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let sz=(()=>{class n extends hM{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(bP),s.LFG(kP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gM=new s.OlP("AnimationModuleType"),qB=[{provide:qU,useClass:Jq},{provide:kP,useFactory:function(){return new hq}},{provide:hM,useClass:sz},{provide:s.FYo,useFactory:function(n,t,e){return new tz(n,t,e)},deps:[ao,hM,s.R0b]}],zB=[{provide:bP,useFactory:function(){return"function"==typeof HB()?new Kq:new UB}},{provide:gM,useValue:"BrowserAnimations"},...qB],WB=[{provide:bP,useClass:oB},{provide:gM,useValue:"NoopAnimations"},...qB];let cz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?WB:zB}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:zB,imports:[$_]}),n})();const YB=new s.GfV("12.2.12"),mz=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let d_,pu=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,s.X6Q)()||JO())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&YB.full!==GU.full&&console.warn("The Angular Material version ("+YB.full+") does not match the Angular CDK version ("+GU.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ZU),s.LFG(mz,8),s.LFG(ie))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[GE],GE]}),n})();try{d_="undefined"!=typeof Intl}catch(n){d_=!1}function Zz(n,t){}class KE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Gz={dialogContainer:U4("dialogContainer",[YU("void, exit",gb({opacity:0,transform:"scale(0.7)"})),YU("enter",gb({transform:"none"})),KU("* => enter",zU("150ms cubic-bezier(0, 0, 0.2, 1)",gb({transform:"none",opacity:1}))),KU("* => void, * => exit",zU("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",gb({opacity:0})))])};let qz=(()=>{class n extends iP{constructor(e,i,r,l,u,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._focusMonitor=f,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=g=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(g)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=GA(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=GA())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=GA();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(kU),s.Y36(s.sBO),s.Y36(ie,8),s.Y36(KE),s.Y36($U))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(YA,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),zz=(()=>{class n extends qz{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Zz,0,0,"ng-template",0)},directives:[YA],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Gz.dialogContainer]}}),n})(),Wz=0;class QE{constructor(t,e,i="mat-dialog-"+Wz++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Tt.xQ,this._afterClosed=new Tt.xQ,this._beforeClosed=new Tt.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(Nn(r=>"opened"===r.state),bi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Nn(r=>"closed"===r.state),bi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Nn(r=>27===r.keyCode&&!this.disableClose&&!function(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),$P(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():$P(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Nn(e=>"closing"===e.state),bi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function $P(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const HP=new s.OlP("MatDialogData"),Yz=new s.OlP("mat-dialog-default-options"),i3=new s.OlP("mat-dialog-scroll-strategy"),Qz={provide:i3,deps:[fb],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Jz=(()=>{class n{constructor(e,i,r,l,u,f,g,y,E){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=u,this._dialogRefConstructor=g,this._dialogContainerType=y,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt.xQ,this._afterOpenedAtThisLevel=new Tt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Jo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(No(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new KE)).id&&this.getDialogById(i.id);const r=this._createOverlay(i),l=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,l,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),l._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new oP({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:KE,useValue:i}]}),u=new nP(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,l){const u=new this._dialogRefConstructor(r,i,l.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new WA(e,null,{$implicit:l.data,dialogRef:u}));else{const f=this._createInjector(l,u,i),g=i.attachComponentPortal(new nP(e,l.viewContainerRef,f));u.componentInstance=g.instance}return u.updateSize(l.width,l.height).updatePosition(l.position),u}_createInjector(e,i,r){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(mp,null,s.XFs.Optional))&&u.push({provide:mp,useValue:{value:e.direction,change:(0,ct.of)()}}),s.zs3.create({parent:l||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,l)=>{r?l.setAttribute("aria-hidden",r):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let l=i[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fb),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(qE),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},n.\u0275dir=s.lG2({type:n}),n})(),vp=(()=>{class n extends Jz{constructor(e,i,r,l,u,f,g){super(e,i,l,f,g,u,QE,zz,HP)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fb),s.LFG(s.zs3),s.LFG(Lt,8),s.LFG(Yz,8),s.LFG(i3),s.LFG(n,12),s.LFG(qE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),r3=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){$P(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(QE,8),s.Y36(s.SBq),s.Y36(vp))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i._onButtonClick(l)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})();let t8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vp,Qz],imports:[[d4,hU,pu],pu]}),n})();class _M{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class o3{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _M(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new _M(i,this,this._ref))},e)}on(t,e,i,r){let l;return e&&(l="function"==typeof e?u=>e(new _M(u,this,this._ref)):{next:e.next?u=>e.next(new _M(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,i||void 0,r||void 0)}}class a3{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Xd(t,this._service))}get items(){return this._delegate.items.map(t=>new Xd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return qV(n,t)}(this._delegate,t);return new Xd(e,this.storage)}get root(){return new Xd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Xd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new o3(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new HV(n,new ne(t),e)}(n=(0,F.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=h.RAW,i){this._throwIfRoot("putString");const r=m(e,t),l=Object.assign({},i);return null==l.contentType&&null!=r.contentType&&(l.contentType=r.contentType),new o3(new HV(this._delegate,new ne(r.data,!0),l),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return ZV(n,t).then(()=>t)}(n=(0,F.m9)(n))}(this._delegate).then(t=>new a3(t,this.storage))}list(t){return function(n,t){return GV(n=(0,F.m9)(n),t)}(this._delegate,t||void 0).then(e=>new a3(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=LV(n.storage,n._location,fs());return n.storage.makeRequestWithTokens(t,Hl)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const l=du(t.fullServerUrl(),n.host,n._protocol),f=e_(e,i),y=n.maxOperationRetryTime,E=new Qd(l,"PATCH",BA(n,i),y);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=f,E.errorHandler=$A(t),E}(n.storage,n._location,t,fs());return n.storage.makeRequestWithTokens(e,Hl)}(n=(0,F.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return HZ(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),JV(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw PE(t)}}class l3{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(c3(t))throw qd("ref() expected a child path but got a URL, use refFromURL instead.");return new Xd(GO(this._delegate,t),this)}refFromURL(t){if(!c3(t))throw qd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hs.makeFromUrl(t,this._delegate.host)}catch(e){throw qd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xd(GO(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,F.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function c3(n){return/^[A-Za-z]+:\/\//.test(n)}function s8(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new l3(e,i)}function a8(n){return new Pn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const l=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){l()}}).pipe(function(n,t=Kh.P){return e=>e.lift(new p4(n,t))}(0))}function u3(n){const t=a8(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,wt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function yM(n){return{getDownloadURL:()=>(0,ct.of)(void 0).pipe(gt.fc,si(()=>n.getDownloadURL()),gt.iC),getMetadata:()=>(0,ct.of)(void 0).pipe(gt.fc,si(()=>n.getMetadata()),gt.iC),delete:()=>(0,dn.D)(n.delete()),child:t=>yM(n.child(t)),updateMetadata:t=>(0,dn.D)(n.updateMetadata(t)),put:(t,e)=>u3(n.put(t,e)),putString:(t,e,i)=>u3(n.putString(t,e,i)),list:t=>(0,dn.D)(n.list(t)),listAll:()=>(0,dn.D)(n.listAll())}}!function(n){const t={TaskState:Eo,TaskEvent:OZ,StringFormat:h,Storage:l3,Reference:Xd};n.INTERNAL.registerComponent(new xo.wA("storage-compat",s8,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.6")}(la.Z);const l8=new s.OlP("angularfire2.storageBucket"),c8=new s.OlP("angularfire2.storage.maxUploadRetryTime"),u8=new s.OlP("angularfire2.storage.maxOperationRetryTime"),d8=new s.OlP("angularfire2.storage.use-emulator");let vM=(()=>{class n{constructor(e,i,r,l,u,f,g,y,E,T){const I=(0,yr.on)(e,u,i);this.storage=(0,yr.cc)(`${I.name}.storage.${r}`,"AngularFireStorage",I.name,()=>{const R=u.runOutsideAngular(()=>I.storage(r||void 0)),U=E;return U&&R.useEmulator(...U),g&&R.setMaxUploadRetryTime(g),y&&R.setMaxOperationRetryTime(y),R},[g,y])}ref(e){return yM(this.storage.ref(e))}refFromURL(e){return yM(this.storage.refFromURL(e))}upload(e,i,r){return yM(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yr.Dh),s.LFG(yr.xv,8),s.LFG(l8,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(gt.HU),s.LFG(c8,8),s.LFG(u8,8),s.LFG(d8,8),s.LFG(wa,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),h8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),f8=(()=>{class n{constructor(){Ym.Z.registerVersion("angularfire",gt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vM],imports:[h8]}),n})();function p8(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.Marca)}}function g8(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.Model)}}function m8(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.NrMasina)}}function _8(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.CodMasina)}}function y8(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.Accident)}}function v8(n,t){if(1&n&&(s.TgZ(0,"td"),s.TgZ(1,"button",15),s._uU(2,"Stergere"),s.qZA(),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.s9C("value",e.UID)}}function b8(n,t){if(1&n&&(s.TgZ(0,"tbody"),s.YNc(1,p8,2,1,"td",0),s.YNc(2,g8,2,1,"td",0),s.YNc(3,m8,2,1,"td",0),s.YNc(4,_8,2,1,"td",0),s.YNc(5,y8,2,1,"td",0),s.YNc(6,v8,3,1,"td",0),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.hero?null:i.hero.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.hero?null:i.hero.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.hero?null:i.hero.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.hero?null:i.hero.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.hero?null:i.hero.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.hero?null:i.hero.Email))}}const w8=function(n,t){return{"bg-danger":n,"bg-success":t}};function C8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr",17),s.TgZ(1,"th"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s.TgZ(4,"a",18),s._uU(5,"Download"),s.qZA(),s.TgZ(6,"a",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit;return s.oxw(2).deleteFile(r)}),s._uU(7,"Delete"),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngClass",s.WLB(3,w8,"0"===e.citit,"1"===e.citit)),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.s9C("href",e.url,s.LSH)}}function E8(n,t){if(1&n&&(s.ynx(0),s.YNc(1,C8,8,6,"tr",16),s.BQk()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.email==(null==i.hero?null:i.hero.Email))}}const D8=function(n){return{width:n}};function T8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"h2"),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"div",4),s.TgZ(8,"h2"),s._uU(9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",2),s.TgZ(11,"div",3),s.TgZ(12,"div",4),s.TgZ(13,"h2"),s._uU(14),s.qZA(),s.qZA(),s.TgZ(15,"div",4),s.TgZ(16,"h2"),s._uU(17),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",2),s.TgZ(19,"div",3),s.TgZ(20,"div",4),s.TgZ(21,"h2"),s._uU(22),s.qZA(),s.qZA(),s.TgZ(23,"div",4),s.TgZ(24,"h2"),s._uU(25),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",2),s.TgZ(27,"div",3),s.TgZ(28,"div",4),s.TgZ(29,"h2"),s._uU(30),s.qZA(),s.qZA(),s.TgZ(31,"div",4),s.TgZ(32,"h2"),s._uU(33),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"div",5),s.TgZ(35,"table",6),s.TgZ(36,"thead"),s.TgZ(37,"tr"),s.TgZ(38,"th",7),s._uU(39,"Marca"),s.qZA(),s.TgZ(40,"th",7),s._uU(41,"Model"),s.qZA(),s.TgZ(42,"th",7),s._uU(43,"Nr Masina"),s.qZA(),s.TgZ(44,"th",7),s._uU(45,"Cod Masina"),s.qZA(),s.TgZ(46,"th",7),s._uU(47,"Accidente"),s.qZA(),s.TgZ(48,"th",7),s._uU(49,"Stergere"),s.qZA(),s.qZA(),s.qZA(),s.YNc(50,b8,7,6,"tbody",8),s.qZA(),s.qZA(),s.TgZ(51,"div"),s.TgZ(52,"div",9),s.TgZ(53,"input",10),s.NdJ("change",function(r){return s.CHM(e),s.oxw().selectFile(r)}),s.qZA(),s.qZA(),s.TgZ(54,"button",11),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.uploadFile(null==r.hero?null:r.hero.Email)}),s._uU(55,"Save"),s.qZA(),s.TgZ(56,"div",12),s._uU(57),s.qZA(),s.qZA(),s.TgZ(58,"div",5),s.TgZ(59,"table",13),s.TgZ(60,"thead",14),s.TgZ(61,"tr"),s.TgZ(62,"th",7),s._uU(63,"File name"),s.qZA(),s.TgZ(64,"th",7),s._uU(65,"File action"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(66,"tbody"),s.YNc(67,E8,2,1,"ng-container",8),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=s.oxw();s.xp6(6),s.hij("Nume: ",null==e.hero?null:e.hero.Nume," "),s.xp6(3),s.hij("Prenume: ",null==e.hero?null:e.hero.Prenume,""),s.xp6(5),s.hij("Judet: ",null==e.hero?null:e.hero.Judet," "),s.xp6(3),s.hij("Oras: ",null==e.hero?null:e.hero.Oras,""),s.xp6(5),s.hij("Adresa: ",null==e.hero?null:e.hero.Adresa," "),s.xp6(3),s.hij("Email: ",null==e.hero?null:e.hero.Email,""),s.xp6(5),s.hij("Varsta: ",null==e.hero?null:e.hero.Varsta,""),s.xp6(3),s.hij("Masini: ",null==e.hero?null:e.hero.Masini,""),s.xp6(17),s.Q6J("ngForOf",e.books),s.xp6(6),s.Q6J("ngStyle",s.VKq(13,D8,e.percentage+"%")),s.uIk("aria-valuenow",e.percentage),s.xp6(1),s.hij(" ",e.percentage,""),s.xp6(10),s.Q6J("ngForOf",e.fisiera)}}let d3=(()=>{class n{constructor(e,i,r,l,u,f,g){this.firebaseService=e,this.router=i,this.firestore=r,this.data=l,this.dialog=u,this.cars=f,this.storage=g,this.percentage=0,this.listOfFiles=[]}ngOnInit(){this.getCurrentDataCar(),this.getFilesnew()}getCurrentDataCar(){(0,dn.D)(this.cars.getDataCar()).subscribe(r=>{this.car=r});let i=0;this.items=this.firestore.collection("Cars").valueChanges(),this.items.subscribe(r=>{var l;for(this.books=r,console.log(r);i<10;)r[i]&&r[i].Email==(null===(l=this.hero)||void 0===l?void 0:l.Email)&&console.log(r[i]),i++;i=0,JSON.parse(localStorage.getItem("user")||"{}"),this.firestore.collection("Cars").get().subscribe(f=>{f.forEach(g=>{r[i].UID=g.id,console.log(g.id,"=>",g.data()),i++})})})}selectFile(e){this.selectedFiles=e.target.files,console.log("selected file: ",this.selectedFiles.item)}uploadFile(e){var i=this;return(0,Me.Z)(function*(){console.log(i.selectedFiles[0]),i.currentFile=new VD(i.selectedFiles[0]),console.log("1");const r="Uploads/"+i.currentFile.file.name;console.log("1");const l=i.storage.ref(r);l.put(i.selectedFiles[0]).snapshotChanges().pipe(mc(()=>{l.getDownloadURL().subscribe(f=>{i.currentFile.url=f,i.currentFile.name=i.currentFile.file.name,null!=e&&(i.currentFile.email=e),i.currentFile.citit="0",i.data.saveFile(i.currentFile)})})).subscribe(f=>{},f=>{console.log("Error occured")})})()}deleteFile(e){window.confirm("Are you sure you want to delate"+e.name+"?")&&this.data.deleteFile(e)}getFilesnew(){this.fisiere=this.firestore.collection("Upload").valueChanges(),console.log(this.fisiere),this.fisiere.subscribe(e=>{this.fisiera=e,console.log(e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tl),s.Y36(ki),s.Y36(el),s.Y36(jl),s.Y36(vp),s.Y36(jl),s.Y36(vM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin-data"]],inputs:{hero:"hero"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"data"],[1,"container"],[1,"row"],[1,"col-sm-6"],[1,"table-responsive"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"mb-3"],["type","file","id","formFileMultiple","multiple","",1,"form-control",3,"change"],["type","button",1,"btn","btn-warning",3,"click"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"],[1,"table","table-hover"],[1,"thead-dark"],["name","button",1,"btn","btn-outline-danger",3,"value"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["type","button","download","",1,"btn","btn-secondary","spatiu10",3,"href"],["type","button",1,"btn","btn-warning","spatiu10",3,"click"]],template:function(e,i){1&e&&s.YNc(0,T8,68,15,"div",0),2&e&&s.Q6J("ngIf",i.hero)},directives:[zn,jt,Go,no],styles:["*[_ngcontent-%COMP%]{color:#fff}.spatiu10[_ngcontent-%COMP%]{margin-left:10px!important;margin-right:10px!important}.data[_ngcontent-%COMP%]{text-align:left;margin-left:25px}"]}),n})();class S8{call(t,e){return e.subscribe(new I8(t))}}class I8 extends q_{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const l=qp(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let r=0;r<this.subscriptions.length;r++)if(r!==i){let l=this.subscriptions[r];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)}}var A8=x(8640);new Pn.y(A8.Z);var bM=x(377);function wM(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,hc.n)(n,void 0).lift(new M8(t))}class M8{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new N8(t,this.resultSelector))}}class N8 extends ji.L{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,bl.k)(t)?e.push(new k8(t)):e.push("function"==typeof t[bM.hZ]?new R8(t[bM.hZ]()):new x8(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let u=0;u<e;u++){let f=t[u];if("function"==typeof f.hasValue&&!f.hasValue())return}let r=!1;const l=[];for(let u=0;u<e;u++){let f=t[u],g=f.next();if(f.hasCompleted()&&(r=!0),g.done)return void i.complete();l.push(g.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),r&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class R8{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class k8{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[bM.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class x8 extends Hr.Ds{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[bM.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,Hr.ft)(this.observable,new Hr.IY(this))}}function CM(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new P8(n,e))}}class P8{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new F8(t,this.observables,this.project))}}class F8 extends q_{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let l=0;l<r;l++)this.toRespond.push(l);for(let l=0;l<r;l++)this.add(qp(this,e[l],void 0,l))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const l=r.indexOf(i);-1!==l&&r.splice(l,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}x(1593);var m3=x(8819),B8=x(1555);function EM(n,t){return new Pn.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let l=0,u=0;for(let f=0;f<i;f++){const g=(0,dn.D)(n[f]);let y=!1;e.add(g.subscribe({next:E=>{y||(y=!0,u++),r[f]=E},error:E=>e.error(E),complete:()=>{l++,(l===i||!y)&&(u===i&&e.next(t?t.reduce((E,T,I)=>(E[T]=r[I],E),{}):r),e.complete())}}))}})}let _3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),h_=(()=>{class n extends _3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ns=new s.OlP("NgValueAccessor"),j8={provide:Ns,useExisting:(0,s.Gpc)(()=>JE),multi:!0},G8=new s.OlP("CompositionEventMode");let JE=(()=>{class n extends _3{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(G8,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[s._Bn([j8]),s.qOj]}),n})();const Rs=new s.OlP("NgValidators"),wp=new s.OlP("NgAsyncValidators");function A3(n){return null!=n}function M3(n){const t=(0,s.QGY)(n)?(0,dn.D)(n):n;return(0,s.CqO)(t),t}function N3(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function R3(n,t){return t.map(e=>e(n))}function k3(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function ZP(n){return null!=n?function(n){if(!n)return null;const t=n.filter(A3);return 0==t.length?null:function(e){return N3(R3(e,t))}}(k3(n)):null}function GP(n){return null!=n?function(n){if(!n)return null;const t=n.filter(A3);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,bl.k)(t))return EM(t,null);if((0,B8.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return EM(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return EM(n=1===n.length&&(0,bl.k)(n[0])?n[0]:n,null).pipe((0,wt.U)(e=>t(...e)))}return EM(n,null)}(R3(e,t).map(M3)).pipe((0,wt.U)(N3))}}(k3(n)):null}function P3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function F3(n){return n._rawValidators}function L3(n){return n._rawAsyncValidators}function qP(n){return n?Array.isArray(n)?n:[n]:[]}function DM(n,t){return Array.isArray(n)?n.includes(t):n===t}function V3(n,t){const e=qP(t);return qP(n).forEach(r=>{DM(e,r)||e.push(r)}),e}function U3(n,t){return qP(t).filter(e=>!DM(n,e))}let B3=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),To=(()=>{class n extends B3{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();class Ep extends B3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $3{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let zP=(()=>{class n extends $3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ep,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),XE=(()=>{class n extends $3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(To,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function e1(n,t){KP(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&H3(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&H3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function IM(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),MM(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function AM(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function KP(n,t){const e=F3(n);null!==t.validator?n.setValidators(P3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=L3(n);null!==t.asyncValidator?n.setAsyncValidators(P3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();AM(t._rawValidators,r),AM(t._rawAsyncValidators,r)}function MM(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=F3(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=L3(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return AM(t._rawValidators,i),AM(t._rawAsyncValidators,i),e}function H3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function j3(n,t){KP(n,t)}function Z3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function NM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const t1="VALID",RM="INVALID",vb="PENDING",n1="DISABLED";function XP(n){return(tF(n)?n.validators:n)||null}function G3(n){return Array.isArray(n)?ZP(n):n||null}function eF(n,t){return(tF(t)?t.asyncValidators:n)||null}function q3(n){return Array.isArray(n)?GP(n):n||null}function tF(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nF{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=G3(this._rawValidators),this._composedAsyncValidatorFn=q3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===t1}get invalid(){return this.status===RM}get pending(){return this.status==vb}get disabled(){return this.status===n1}get enabled(){return this.status!==n1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=G3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=q3(t)}addValidators(t){this.setValidators(V3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(V3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(U3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(U3(t,this._rawAsyncValidators))}hasValidator(t){return DM(this._rawValidators,t)}hasAsyncValidator(t){return DM(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=vb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=n1,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=t1,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===t1||this.status===vb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?n1:t1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=vb,this._hasOwnPendingAsyncValidator=!0;const e=M3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof i1?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof iF&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?n1:this.errors?RM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vb)?vb:this._anyControlsHaveStatus(RM)?RM:t1}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tF(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bb extends nF{constructor(t=null,e,i){super(XP(e),eF(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class i1 extends nF{constructor(t,e,i){super(XP(e),eF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof bb?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class iF extends nF{constructor(t,e,i){super(XP(e),eF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof bb?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const sW={provide:To,useExisting:(0,s.Gpc)(()=>f_)},r1=(()=>Promise.resolve(null))();let f_=(()=>{class n extends To{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new s.vpe,this.form=new i1({},ZP(e),GP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){r1.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),e1(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){r1.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),NM(this._directives,e)})}addFormGroup(e){r1.then(()=>{const i=this._findContainer(e.path),r=new i1({});j3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){r1.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){r1.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Z3(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rs,10),s.Y36(wp,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([sW]),s.qOj]}),n})(),s1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const rF=new s.OlP("NgModelWithFormControlWarning"),fW={provide:To,useExisting:(0,s.Gpc)(()=>o1)};let o1=(()=>{class n extends To{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(MM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return e1(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){IM(e.control||null,e,!1),NM(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Z3(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(IM(i||null,e),r instanceof bb&&(e1(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);j3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return MM(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KP(this.form,this),this._oldForm&&MM(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rs,10),s.Y36(wp,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([fW]),s.qOj,s.TTD]}),n})();const mW={provide:Ep,useExisting:(0,s.Gpc)(()=>kM)};let kM=(()=>{class n extends Ep{constructor(e,i,r,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===JE?e=l:function(n){return Object.getPrototypeOf(n.constructor)===h_}(l)?i=l:r=l}),r||i||e||null}(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(To,13),s.Y36(Rs,10),s.Y36(wp,10),s.Y36(Ns,10),s.Y36(rF,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([mW]),s.qOj,s.TTD]}),n._ngModelWarningSentOnce=!1,n})();const _W={provide:Ns,useExisting:(0,s.Gpc)(()=>aF),multi:!0};function i$(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let aF=(()=>{class n extends h_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const r=i$(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([_W]),s.qOj]}),n})(),lF=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(i$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(aF,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const vW={provide:Ns,useExisting:(0,s.Gpc)(()=>cF),multi:!0};function r$(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let cF=(()=>{class n extends h_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(l=>this._getOptionId(l));i=(l,u)=>{l._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,l)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[];if(void 0!==i.selectedOptions){const l=i.selectedOptions;for(let u=0;u<l.length;u++){const f=l.item(u),g=this._getOptionValue(f.value);r.push(g)}}else{const l=i.options;for(let u=0;u<l.length;u++){const f=l.item(u);if(f.selected){const g=this._getOptionValue(f.value);r.push(g)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([vW]),s.qOj]}),n})(),uF=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(r$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(r$(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(cF,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[J3]]}),n})(),g$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[p$]}),n})(),m$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rF,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[p$]}),n})(),_$=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let f,l=null,u=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new i1(r,{asyncValidators:u,updateOn:f,validators:l})}control(e,i,r){return new bb(e,i,r)}array(e,i,r){const l=e.map(u=>this._createControl(u));return new iF(l,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof bb||e instanceof i1||e instanceof iF?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:m$}),n})();const wb=["*"],_5=["dialog"];function Dp(n){return null!=n}function Eb(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const b$={animation:!0,transitionTimerDelayMs:5};let ps=(()=>{class n{constructor(){this.animation=b$.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const MY=()=>{},{transitionTimerDelayMs:NY}=b$,l1=new Map,Xr=(n,t,e,i)=>{let r=i.context||{};const l=l1.get(t);if(l)switch(i.runningTransition){case"continue":return ws.E;case"stop":n.run(()=>l.transition$.complete()),r=Object.assign(l.context,r),l1.delete(t)}const u=e(t,i.animation,r)||MY;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),(0,ct.of)(void 0).pipe(function(n){return t=>new Pn.y(e=>t.subscribe(u=>n.run(()=>e.next(u)),u=>n.run(()=>e.error(u)),()=>n.run(()=>e.complete())))}(n));const f=new Tt.xQ,g=new Tt.xQ,y=f.pipe(function(...n){return t=>ka(t,(0,ct.of)(...n))}(!0));l1.set(t,{transition$:f,complete:()=>{g.next(),g.complete()},context:r});const E=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const T=Jr(t,"transitionend").pipe(Kn(y),Nn(({target:R})=>R===t));(function(...n){if(1===n.length){if(!(0,bl.k)(n[0]))return n[0];n=n[0]}return(0,hc.n)(n,void 0).lift(new S8)})(zO(E+NY).pipe(Kn(y)),T,g).pipe(Kn(y)).subscribe(()=>{l1.delete(t),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let T$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),k$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var bn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(bn||(bn={})),bn))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const L$=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function V$(n){const t=Array.from(n.querySelectorAll(L$)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const l=this.offsetParent(t);i=this.offset(t,!1),l!==document.documentElement&&(r=this.offset(l,!1)),r.top+=l.clientTop,r.left+=l.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(t,e,i,r){const[l="top",u="center"]=i.split("-"),f=r?this.offset(t,!1):this.position(t,!1),g=this.getAllStyles(e),y=parseFloat(g.marginTop),E=parseFloat(g.marginBottom),T=parseFloat(g.marginLeft),I=parseFloat(g.marginRight);let R=0,U=0;switch(l){case"top":R=f.top-(e.offsetHeight+y+E);break;case"bottom":R=f.top+f.height;break;case"left":U=f.left-(e.offsetWidth+T+I);break;case"right":U=f.left+f.width}switch(u){case"top":R=f.top;break;case"bottom":R=f.top+f.height-e.offsetHeight;break;case"left":U=f.left;break;case"right":U=f.left+f.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?U=f.left+f.width/2-e.offsetWidth/2:R=f.top+f.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(U)}px, ${Math.round(R)}px)`;const te=e.getBoundingClientRect(),fe=document.documentElement,We=window.innerHeight||fe.clientHeight,Je=window.innerWidth||fe.clientWidth;return te.left>=0&&te.top>=0&&te.right<=Je&&te.bottom<=We}},new Date(1882,10,12),new Date(2174,10,25);let W$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti,g$]]}),n})(),Sp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),Q$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),J$=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ps))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(ps))},token:n,providedIn:"root"}),n})();class y_{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const I7=()=>{};let X$=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):I7}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,l=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${l+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(ie))},token:n,providedIn:"root"}),n})(),A7=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(bi(1)).subscribe(()=>{Xr(this._zone,this._el.nativeElement,(e,i)=>{i&&Eb(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Xr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class eH{close(t){}dismiss(t){}}class M7{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Tt.xQ,this._dismissed=new Tt.xQ,this._hidden=new Tt.xQ,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,u)=>{this._resolve=l,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Kn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Kn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ct.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),wM(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var p1=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(p1||(p1={})),p1))();let N7=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Tt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new Tt.xQ,this.hidden=new Tt.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(bi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=wM(Xr(this._zone,e,()=>e.classList.remove("show"),i),Xr(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};wM(Xr(this._zone,this._elRef.nativeElement,(l,u)=>{u&&Eb(l),l.classList.add("show")},e),Xr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Jr(e,"keydown").pipe(Kn(this._closed$),Nn(r=>r.which===bn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(p1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Jr(this._dialogEl.nativeElement,"mousedown").pipe(Kn(this._closed$),(0,Ci.b)(()=>i=!1),si(()=>Jr(e,"mouseup").pipe(Kn(this._closed$),bi(1))),Nn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Jr(e,"click").pipe(Kn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(p1.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=V$(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Xr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ie),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(_5,7),2&e){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.TgZ(2,"div",2),s.Hsn(3),s.qZA(),s.qZA()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),tH=(()=>{class n{constructor(e,i,r,l,u,f){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=l,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new Tt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Jr(t,"focusin").pipe(Kn(e),(0,wt.U)(l=>l.target));Jr(t,"keydown").pipe(Kn(e),Nn(l=>l.which===bn.Tab),CM(r)).subscribe(([l,u])=>{const[f,g]=V$(t);(u===f||u===t)&&l.shiftKey&&(g.focus(),l.preventDefault()),u===g&&!l.shiftKey&&(f.focus(),l.preventDefault())}),i&&Jr(t,"click").pipe(Kn(e),CM(r),(0,wt.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}open(e,i,r,l){const u=l.container instanceof HTMLElement?l.container:Dp(l.container)?this._document.querySelector(l.container):this._document.body,f=this._rendererFactory.createRenderer(null,null),g=this._scrollBar.compensate(),y=()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!u)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const E=new eH,T=this._getContentRef(e,l.injector||i,r,E,l);let I=!1!==l.backdrop?this._attachBackdrop(e,u):void 0,R=this._attachWindowComponent(e,u,T),U=new M7(R,T,I,l.beforeDismiss);return this._registerModalRef(U),this._registerWindowCmpt(R),U.result.then(g,g),U.result.then(y,y),E.close=te=>{U.close(te)},E.dismiss=te=>{U.dismiss(te)},this._applyWindowOptions(R.instance,l),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,l),I.changeDetectorRef.detectChanges()),R.changeDetectorRef.detectChanges(),U}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let l=e.resolveComponentFactory(A7).create(this._injector);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,i,r){let u=e.resolveComponentFactory(N7).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Dp(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Dp(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,l,u){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,l):function(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,l,u):new y_([])}_createFromTemplateRef(e,i){const l=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(l),new y_([l.rootNodes],l)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new y_([[i]])}_createFromComponent(e,i,r,l,u){const f=e.resolveComponentFactory(r),g=s.zs3.create({providers:[{provide:eH,useValue:l}],parent:i}),y=f.create(g),E=y.location.nativeElement;return u.scrollable&&E.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new y_([[E]],y.hostView,y)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(ie),s.LFG(X$),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s.z2F),s.LFG(s.gxx),s.LFG(ie),s.LFG(X$),s.LFG(s.FYo),s.LFG(s.R0b))},token:n,providedIn:"root"}),n})(),R7=(()=>{class n{constructor(e,i,r,l){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=l}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(tH),s.LFG(J$))},n.\u0275prov=s.Yz7({factory:function(){return new n(s.LFG(s._Vd),s.LFG(s.gxx),s.LFG(tH),s.LFG(J$))},token:n,providedIn:"root"}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[R7]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),pH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),EH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let AH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ti]]}),n})();const pK=[T$,S$,A$,R$,k$,W$,Q$,nH,oH,pH,_H,yH,vH,EH,DH,TH,AH];let gK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pK,T$,S$,A$,R$,k$,W$,Q$,nH,oH,pH,_H,yH,vH,EH,DH,TH,AH]}),n})(),v_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-downpage"]],decls:14,vars:0,consts:[[1,"downpage"],[1,"container"],[1,"row"],[1,"col-4"],["id","logo","src","assets/SUCD1.png","width","100px","height","25px","margin","10px"],[1,"col-8"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"br"),s._UZ(5,"br"),s._UZ(6,"img",4),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"h4"),s._uU(9,"Adresa: Str. Hategului Nr: 2 Bl: 2 sc: B"),s.qZA(),s.TgZ(10,"h4"),s._uU(11,"Telefon: 075129****"),s.qZA(),s.TgZ(12,"h4"),s._uU(13,"24/24h"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},styles:[".downpage[_ngcontent-%COMP%]{width:90vw;color:#fff;width:90%;margin:auto;border-top:2px;border-top-color:#3f3f5a;border-top-style:solid}"]}),n})();function mK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",9),s.TgZ(1,"button",17),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().setdata(l)}),s._uU(2),s.qZA(),s._UZ(3,"br"),s._UZ(4,"br"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(2),s.AsE("",e.Nume," ",e.Prenume,"")}}let _K=(()=>{class n{constructor(e,i,r,l,u,f,g){this.firebaseService=e,this.router=i,this.firestore=r,this.data=l,this.dialog=u,this.cars=f,this.storage=g,this.percentage=0,this.listOfFiles=[],this.isLogout=new s.vpe}ngOnInit(){this.getCurrentData(),this.getCurrentDataCar(),this.getFilesnew()}getCurrentData(){this.trece=this.firestore.collection("Users").valueChanges(),this.trece.subscribe(e=>{this.user=e,console.log(e)})}getCurrentDataCar(){(0,dn.D)(this.cars.getDataCar()).subscribe(r=>{this.car=r});let i=0;this.items=this.firestore.collection("Cars").valueChanges(),this.items.subscribe(r=>{var l;for(this.books=r,console.log(r);i<10;)r[i]&&r[i].Email==(null===(l=this.merge)||void 0===l?void 0:l.Email)&&console.log(r[i]),i++;i=0,JSON.parse(localStorage.getItem("user")||"{}"),this.firestore.collection("Cars").get().subscribe(f=>{f.forEach(g=>{r[i].UID=g.id,console.log(g.id,"=>",g.data()),i++})})})}getAllFiles(){this.data.getFile().subscribe(e=>{this.listOfFiles=e.map(i=>{const r=i.payload.doc.file();return r.id=i.payload.doc.id,console.log(r),r})},e=>{console.log("Error fetching filedata")})}getFilesnew(){this.fisiere=this.firestore.collection("Upload").valueChanges(),console.log(this.fisiere),this.fisiere.subscribe(e=>{this.fisiera=e,console.log(e[0])})}logout(){this.firebaseService.logout(),this.isLogout.emit(),this.router.navigate([""])}setdata(e){this.child=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tl),s.Y36(ki),s.Y36(el),s.Y36(jl),s.Y36(vp),s.Y36(jl),s.Y36(vM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin-page"]],inputs:{item:"item"},outputs:{isLogout:"isLogout"},decls:24,vars:2,consts:[[1,"tot"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"background-color","transparent"],["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],[1,"btn","btn-outline-danger","meniu",3,"click"],[1,"container"],[1,"row"],[1,"col-sm-4"],[1,"alb"],["class","container",4,"ngFor","ngForOf"],[1,"col-sm-8"],[3,"hero"],[1,"spatiu"],["type","button",1,"btn","btn-info",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"br"),s._UZ(2,"br"),s.TgZ(3,"nav",1),s._UZ(4,"img",2),s.TgZ(5,"button",3),s._UZ(6,"span",4),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"ul",6),s.TgZ(9,"li",7),s.TgZ(10,"button",8),s.NdJ("click",function(){return i.logout()}),s._uU(11,"Log out"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",9),s.TgZ(13,"div",10),s.TgZ(14,"div",11),s.TgZ(15,"h2",12),s._uU(16,"Conturi active:"),s.qZA(),s.YNc(17,mK,5,2,"div",13),s.qZA(),s.TgZ(18,"div",14),s.TgZ(19,"h2",12),s._uU(20,"Date cont:"),s.qZA(),s._UZ(21,"app-admin-data",15),s.qZA(),s.qZA(),s.qZA(),s._UZ(22,"div",16),s._UZ(23,"app-downpage"),s.qZA()),2&e&&(s.xp6(17),s.Q6J("ngForOf",i.user),s.xp6(4),s.Q6J("hero",i.child))},directives:[Sp,jt,d3,v_],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.alb[_ngcontent-%COMP%]{color:#fff;font-size:25px}.tot[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto}.spatiu[_ngcontent-%COMP%]{width:100px;height:100vh}.navbar[_ngcontent-%COMP%]{width:90%;margin:auto;border-bottom:2px;border-bottom-color:#3f3f5a;border-bottom-style:solid;background:none!important}"]}),n})(),yK=(()=>{class n{constructor(e,i){this.router=e,this.data=i}ngOnInit(){let e=localStorage.getItem("user");console.log(e),console.log(history.state.da),this.pret(),this.getCurrentData()}updateData(){2==history.state.da&&(this.getCurrentData(),this.merge.Abonament=history.state.da,console.log(this.merge),this.data.updateData(this.merge)),5==history.state.da&&(this.getCurrentData(),this.merge.Abonament=history.state.da,console.log(this.merge),this.data.updateData(this.merge)),this.router.navigate(["app-home"])}getCurrentData(){(0,dn.D)(this.data.getData()).subscribe(i=>{this.merge=i})}anulare(){this.router.navigate(["app-home"])}pret(){2==history.state.da?this.nr=50:5==history.state.da&&(this.nr=250)}verificareActiv(){history.state.da||this.router.navigate(["app-home"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ki),s.Y36(jl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bank"]],decls:113,vars:1,consts:[[1,"cutie"],[1,"row"],[1,"col-2"],[1,"col-8"],[2,"background-color","#606060","padding","25px","margin","0","text-align","left","color","white"],[1,"plata"],[1,"form-floating","mb-3"],["type","text","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],[1,"luna-an-card"],[1,"luna-an-card-cutie1"],[1,"input-group","mb-3"],["id","inputGroupSelect01",1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],[1,"luna-an-card-cutie2"],["value","2021"],["value","2022"],["value","2023"],["value","2024"],["value","2025"],["value","2026"],["value","2027"],["value","2028"],["value","2029"],["value","2030"],["value","2031"],[1,"form-floating","mb-3","cvv"],["type","text","id","floatingInput","placeholder","___",1,"form-control"],[2,"color","green"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lock-fill"],["d","M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"],["name","submit",1,"btn","btn-success","buttonbanca",3,"click"],["type","button",1,"btn","btn-danger","buttonexit",3,"click"],["src","../assets/Untitled-1.2.png","width","150px","height","50px",2,"float","right"]],template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"bank works!"),s.qZA(),s.TgZ(2,"div",0),s.TgZ(3,"div",1),s._UZ(4,"div",2),s.TgZ(5,"div",3),s.TgZ(6,"div",4),s.TgZ(7,"h1"),s._uU(8),s.qZA(),s.qZA(),s.TgZ(9,"div",5),s.TgZ(10,"h4"),s._uU(11,"Order Number: 2974521"),s.qZA(),s.TgZ(12,"h4"),s._uU(13,"Fara descriere"),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"h2"),s._uU(16,"Te rugam sa introduci datele cardului cu care vrei sa platesti"),s.qZA(),s._UZ(17,"br"),s.TgZ(18,"h4"),s._uU(19,"Numar card"),s.qZA(),s.TgZ(20,"div",6),s._UZ(21,"input",7),s.TgZ(22,"label",8),s._uU(23,"Introdu numarul de card"),s.qZA(),s.qZA(),s.TgZ(24,"h4"),s._uU(25,"Nume titular card"),s.qZA(),s.TgZ(26,"div",6),s._UZ(27,"input",7),s.TgZ(28,"label",8),s._uU(29,"Introdu nume titular card"),s.qZA(),s.qZA(),s.TgZ(30,"div",9),s.TgZ(31,"div",10),s.TgZ(32,"h4"),s._uU(33,"Luna expirare card"),s.qZA(),s.TgZ(34,"div",11),s.TgZ(35,"select",12),s._UZ(36,"option",13),s.TgZ(37,"option",14),s._uU(38,"1"),s.qZA(),s.TgZ(39,"option",15),s._uU(40,"2"),s.qZA(),s.TgZ(41,"option",16),s._uU(42,"3"),s.qZA(),s.TgZ(43,"option",17),s._uU(44,"4"),s.qZA(),s.TgZ(45,"option",18),s._uU(46,"5"),s.qZA(),s.TgZ(47,"option",19),s._uU(48,"6"),s.qZA(),s.TgZ(49,"option",20),s._uU(50,"7"),s.qZA(),s.TgZ(51,"option",21),s._uU(52,"8"),s.qZA(),s.TgZ(53,"option",22),s._uU(54,"9"),s.qZA(),s.TgZ(55,"option",23),s._uU(56,"10"),s.qZA(),s.TgZ(57,"option",24),s._uU(58,"11"),s.qZA(),s.TgZ(59,"option",25),s._uU(60,"12"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(61,"div",26),s.TgZ(62,"h4"),s._uU(63,"An expirare card"),s.qZA(),s.TgZ(64,"div",11),s.TgZ(65,"select",12),s._UZ(66,"option",13),s.TgZ(67,"option",27),s._uU(68,"2021"),s.qZA(),s.TgZ(69,"option",28),s._uU(70,"2022"),s.qZA(),s.TgZ(71,"option",29),s._uU(72,"2023"),s.qZA(),s.TgZ(73,"option",30),s._uU(74,"2024"),s.qZA(),s.TgZ(75,"option",31),s._uU(76,"2025"),s.qZA(),s.TgZ(77,"option",32),s._uU(78,"2026"),s.qZA(),s.TgZ(79,"option",33),s._uU(80,"2027"),s.qZA(),s.TgZ(81,"option",34),s._uU(82,"2028"),s.qZA(),s.TgZ(83,"option",35),s._uU(84,"2029"),s.qZA(),s.TgZ(85,"option",36),s._uU(86,"2030"),s.qZA(),s.TgZ(87,"option",37),s._uU(88,"2031"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(89,"br"),s._UZ(90,"br"),s._UZ(91,"br"),s._UZ(92,"br"),s.TgZ(93,"h4"),s._uU(94,"CVC/CVV2"),s.qZA(),s.TgZ(95,"div",38),s._UZ(96,"input",39),s.TgZ(97,"label",8),s._uU(98,"_ _ _"),s.qZA(),s.qZA(),s.TgZ(99,"h4",40),s.O4$(),s.TgZ(100,"svg",41),s._UZ(101,"path",42),s.qZA(),s._uU(102," Plata securizata"),s.qZA(),s.kcU(),s.TgZ(103,"button",43),s.NdJ("click",function(){return i.updateData()}),s._uU(104,"Plateste"),s.qZA(),s._UZ(105,"br"),s.TgZ(106,"button",44),s.NdJ("click",function(){return i.anulare()}),s._uU(107,"Anulare"),s.qZA(),s._UZ(108,"br"),s._UZ(109,"br"),s._UZ(110,"br"),s._UZ(111,"img",45),s.qZA(),s.qZA(),s._UZ(112,"div",2),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.hij("Plata: ",i.nr," RON"))},directives:[lF,uF],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5fr}.cutie[_ngcontent-%COMP%]{width:80%;margin:auto}.card-body[_ngcontent-%COMP%]{background-color:#002533!important;color:#fff!important}.luna-an-card[_ngcontent-%COMP%]{background-color:red;text-align:left}.luna-an-card-cutie1[_ngcontent-%COMP%]{float:left;width:45%}.luna-an-card-cutie2[_ngcontent-%COMP%]{float:right;width:45%}.plata[_ngcontent-%COMP%]{text-align:left;padding:25px 25px 75px;margin-top:-10px;border:grey;border-style:solid;border-width:thin;background-color:#fff}.cvv[_ngcontent-%COMP%]{text-align:left}.buttonbanca[_ngcontent-%COMP%]{width:100%}.buttonexit[_ngcontent-%COMP%]{width:40%;margin-top:20px;margin-left:30%}"]}),n})(),MH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-detail"]],decls:52,vars:0,consts:[[1,"tot"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"background-color","transparent"],["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item","active"],["routerLink","/app-detail",1,"nav-link"],[1,"nav-item"],["routerLink","/app-sing-up",1,"nav-link"],["routerLink","/app-login",1,"nav-link"],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide","cutie","carousel-fade"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],["data-target","#carouselExampleIndicators","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets\\7_IMG_0453.jpg","alt","...",1,"d-block","w-100","mare"],[1,"carousel-item"],["src","assets\\10-IMG_0404-1.jpg","alt","...",1,"d-block","w-100","mare"],["src","assets\\14_IMG_0507.jpg","alt","...",1,"d-block","w-100","mare"],["type","button","data-target","#carouselExampleIndicators","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleIndicators","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"text"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"br"),s._UZ(2,"br"),s.TgZ(3,"nav",1),s._UZ(4,"img",2),s.TgZ(5,"button",3),s._UZ(6,"span",4),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"ul",6),s.TgZ(9,"li",7),s.TgZ(10,"a",8),s._uU(11,"Home "),s.qZA(),s.qZA(),s.TgZ(12,"li",9),s.TgZ(13,"a",10),s._uU(14,"Creaza cont"),s.qZA(),s.qZA(),s.TgZ(15,"li",9),s.TgZ(16,"a",11),s._uU(17,"Logare"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(18,"br"),s._UZ(19,"br"),s._UZ(20,"br"),s._UZ(21,"br"),s.TgZ(22,"div",12),s.TgZ(23,"ol",13),s._UZ(24,"li",14),s._UZ(25,"li",15),s._UZ(26,"li",16),s.qZA(),s.TgZ(27,"div",17),s.TgZ(28,"div",18),s._UZ(29,"img",19),s.qZA(),s.TgZ(30,"div",20),s._UZ(31,"img",21),s.qZA(),s.TgZ(32,"div",20),s._UZ(33,"img",22),s.qZA(),s.qZA(),s.TgZ(34,"button",23),s._UZ(35,"span",24),s.TgZ(36,"span",25),s._uU(37,"Previous"),s.qZA(),s.qZA(),s.TgZ(38,"button",26),s._UZ(39,"span",27),s.TgZ(40,"span",25),s._uU(41,"Next"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(42,"div",28),s.TgZ(43,"h3"),s._uU(44,"Cei care vor sa aibe grija de viitorul lor au achizitionat deja acest produs."),s.qZA(),s.TgZ(45,"h3"),s._uU(46," Noi oferim siguranta autovehicului dumneavoastra cat si a persoanelor carora il incredintati."),s.qZA(),s.TgZ(47,"h3"),s._uU(48," Dupa instalarea acestui sistem, siguranta devine responsabilitatea noastra."),s.qZA(),s.TgZ(49,"h3"),s._uU(50," Produsul nostru fuctioneaza cu un abonament lunar, acesta se poate anula oricand, iar modulul de fuctionare este achizitionat separat. Prima luna abonamentul este gratuit. "),s.qZA(),s.qZA(),s._UZ(51,"app-downpage"),s.qZA())},directives:[Sp,Yu,v_],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.meniu[_ngcontent-%COMP%]{margin:10px}.mare[_ngcontent-%COMP%]{width:100%;height:500px}.cutie[_ngcontent-%COMP%]{width:90%;height:60%;margin:auto}.text[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]{width:90%;margin:auto;border-bottom:2px;border-bottom-color:#3f3f5a;border-bottom-style:solid;background:none!important}.navbar_1[_ngcontent-%COMP%]{width:100%;margin:auto;text-align:right}.tot[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto;width:80%}"]}),n})();class NH{}let vK=(()=>{class n{constructor(e,i,r,l,u){this.dialog=e,this.dialogRef=i,this.formBuilder=r,this.dataservice=l,this.data=u,this.Userobj=new NH}ngOnInit(){console.log("open modal"),console.log(this.data),console.log(this.data.Email),this.generateForm()}generateForm(){this.modal=this.formBuilder.group({Nume:this.data.Nume,Prenume:this.data.Prenume,Email:this.data.Email,Judet:this.data.Judet,Oras:this.data.Oras,Adresa:this.data.Adresa,Varsta:this.data.Varsta,Abonament:this.data.Abonament})}getData(){this.Userobj.Nume=this.modal.value.Nume,this.Userobj.Prenume=this.modal.value.Prenume,this.Userobj.Email=this.modal.value.Email,this.Userobj.Judet=this.modal.value.Judet,this.Userobj.Oras=this.modal.value.Oras,this.Userobj.Adresa=this.modal.value.Adresa,this.Userobj.Varsta=this.modal.value.Varsta,this.Userobj.Abonament=this.modal.value.Abonament,console.log(this.Userobj),this.dataservice.updateData2(this.Userobj),this.dialogRef.close()}updateData(){console.log(this.data),this.dataservice.updateData(this.modal.value),console.log(this.data)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vp),s.Y36(QE),s.Y36(_$),s.Y36(jl),s.Y36(HP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modal"]],decls:44,vars:8,consts:[["charset","UTF-8"],[1,"modal1",3,"formGroup"],[1,"form-floating","mb-3"],["type","text","formControlName","Nume","name","nume","placeholder","Nume","value","",1,"form-control",3,"value"],["for","floatingInput"],["type","text","formControlName","Prenume","name","prenume","placeholder","Prenume","value","",1,"form-control",3,"value"],["type","text","formControlName","Email","name","prenume","placeholder","Prenume","value","",1,"form-control",3,"value"],["type","text","formControlName","Judet","name","judet","placeholder","Judet","value","",1,"form-control",3,"value"],["type","text","formControlName","Oras","name","oras","placeholder","Oras","value","",1,"form-control",3,"value"],["type","text","formControlName","Adresa","name","adresa","placeholder","Adresa","value","",1,"form-control",3,"value"],["type","text","formControlName","Varsta","name","varsta","placeholder","Varsta","value","",1,"form-control",3,"value"],["type","text","formControlName","Abonament","name","Abonament","placeholder","Varsta","value","","hidden","",1,"form-control"],["name","myform","method","post","action",""],[1,"form-group"],["id","add_renter_footer",1,"modal-footer"],["type","button","mat-dialog-close","","mat-button","",1,"btn","btn-secondary","button"],["type","submit",1,"btn","btn-primary","button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"html"),s.TgZ(1,"head"),s._UZ(2,"meta",0),s.qZA(),s.TgZ(3,"body"),s.TgZ(4,"form",1),s.TgZ(5,"div",2),s._UZ(6,"input",3),s.TgZ(7,"label",4),s._uU(8,"Nume"),s.qZA(),s.qZA(),s.TgZ(9,"div",2),s._UZ(10,"input",5),s.TgZ(11,"label",4),s._uU(12,"Prenume"),s.qZA(),s.qZA(),s.TgZ(13,"div",2),s._UZ(14,"input",6),s.TgZ(15,"label",4),s._uU(16,"Email"),s.qZA(),s.qZA(),s.TgZ(17,"div",2),s._UZ(18,"input",7),s.TgZ(19,"label",4),s._uU(20,"Judet"),s.qZA(),s.qZA(),s.TgZ(21,"div",2),s._UZ(22,"input",8),s.TgZ(23,"label",4),s._uU(24,"Oras"),s.qZA(),s.qZA(),s.TgZ(25,"div",2),s._UZ(26,"input",9),s.TgZ(27,"label",4),s._uU(28,"Adresa"),s.qZA(),s.qZA(),s.TgZ(29,"div",2),s._UZ(30,"input",10),s.TgZ(31,"label",4),s._uU(32,"Varsta"),s.qZA(),s.qZA(),s.TgZ(33,"div",2),s._UZ(34,"input",11),s.TgZ(35,"label",4),s._uU(36,"Varsta"),s.qZA(),s.qZA(),s.TgZ(37,"form",12),s.TgZ(38,"div",13),s.TgZ(39,"div",14),s.TgZ(40,"button",15),s._uU(41,"Iesire"),s.qZA(),s.TgZ(42,"button",16),s.NdJ("click",function(){return i.getData()}),s._uU(43,"Salvare"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("formGroup",i.modal),s.xp6(2),s.s9C("value",i.data.Nume),s.xp6(4),s.s9C("value",i.data.Prenume),s.xp6(4),s.s9C("value",i.data.Email),s.xp6(4),s.s9C("value",i.data.Judet),s.xp6(4),s.s9C("value",i.data.Oras),s.xp6(4),s.s9C("value",i.data.Adresa),s.xp6(4),s.s9C("value",i.data.Varsta))},directives:[s1,XE,o1,JE,zP,kM,f_,r3],styles:[".modal1{background-color:#002533}.mat-dialog-container{background-color:#002533}.modal-footer{height:50px}@media only screen and (min-width : 480px){.cdk-overlay-pane{width:100%!important}}@media only screen and (min-width : 1200px){.cdk-overlay-pane{width:40%!important}}\n"],encapsulation:2}),n})(),bK=(()=>{class n{constructor(e,i,r,l,u,f,g,y){this.dialog=e,this.dialogRef=i,this.formBuilder=r,this.dataservice=l,this.data=u,this.car=f,this.firestore=g,this.router=y}ngOnInit(){console.log("open modal masina"),console.log(this.data),console.log(this.data.Email),this.generateForm(),this.getCurrentData()}generateForm(){this.modal=this.formBuilder.group({Nume:this.data.Nume,Prenume:this.data.Prenume,Email:this.data.Email,Marca:"",Model:"",NrMasina:"",CodMasina:"",Accidente:"",UID:""})}getData(){var e=JSON.parse(localStorage.getItem("user")||"{}");console.log(e.uid),this.data.Nume=this.modal.value.Nume,this.data.Prenume=this.modal.value.Prenume,this.data.Email=this.modal.value.Email,this.data.Nrmasina=this.modal.value.NrMasina,this.data.Codmasina=this.modal.value.CodMasina,this.data.Accident=this.modal.value.Accidente,this.data.Model=this.modal.value.Model,this.data.Marca=this.modal.value.Marca,this.data.id=e.uid,console.log(this.data),this.dataservice.pushDataCar(this.data),this.updateData(),this.dialogRef.close()}getCurrentData(){(0,dn.D)(this.car.getData()).subscribe(i=>{this.merge=i})}updateData(){var e,i,r,l,u;"4"==(null===(e=this.merge)||void 0===e?void 0:e.Masini)&&(this.merge.Masini="5",this.car.updateData(this.merge)),"3"==(null===(i=this.merge)||void 0===i?void 0:i.Masini)&&(this.merge.Masini="4",this.car.updateData(this.merge)),"2"==(null===(r=this.merge)||void 0===r?void 0:r.Masini)&&(this.merge.Masini="3",this.car.updateData(this.merge)),"1"==(null===(l=this.merge)||void 0===l?void 0:l.Masini)&&(this.merge.Masini="2",this.car.updateData(this.merge)),"0"==(null===(u=this.merge)||void 0===u?void 0:u.Masini)&&(this.merge.Masini="1",this.car.updateData(this.merge))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vp),s.Y36(QE),s.Y36(_$),s.Y36(jl),s.Y36(HP),s.Y36(jl),s.Y36(el),s.Y36(ki))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-masina"]],decls:32,vars:1,consts:[["charset","UTF-8"],[1,"modal1",3,"formGroup"],[1,"form-floating","mb-3"],["type","text","formControlName","Marca","name","Marca","placeholder","c","value","",1,"form-control"],["for","floatingInput"],["type","text","formControlName","Model","name","Model","placeholder","c","value","",1,"form-control"],["type","text","formControlName","NrMasina","name","NrMasina","placeholder","cc00ccc","value","",1,"form-control"],["type","text","formControlName","CodMasina","name","codmasina","placeholder","00000000000","value","",1,"form-control"],["type","text","formControlName","Accidente","name","accidente","placeholder","0","value","",1,"form-control"],["name","myform","method","post","action",""],[1,"form-group"],["id","add_renter_footer",1,"modal-footer"],["type","button","mat-dialog-close","","mat-button","",1,"btn","btn-secondary","button"],["type","submit",1,"btn","btn-primary","button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"html"),s.TgZ(1,"head"),s._UZ(2,"meta",0),s.qZA(),s.TgZ(3,"body"),s.TgZ(4,"form",1),s.TgZ(5,"div",2),s._UZ(6,"input",3),s.TgZ(7,"label",4),s._uU(8,"Marca"),s.qZA(),s.qZA(),s.TgZ(9,"div",2),s._UZ(10,"input",5),s.TgZ(11,"label",4),s._uU(12,"Model"),s.qZA(),s.qZA(),s.TgZ(13,"div",2),s._UZ(14,"input",6),s.TgZ(15,"label",4),s._uU(16,"Nr Masina"),s.qZA(),s.qZA(),s.TgZ(17,"div",2),s._UZ(18,"input",7),s.TgZ(19,"label",4),s._uU(20,"Cod Masina"),s.qZA(),s.qZA(),s.TgZ(21,"div",2),s._UZ(22,"input",8),s.TgZ(23,"label",4),s._uU(24,"Accidente"),s.qZA(),s.qZA(),s.TgZ(25,"form",9),s.TgZ(26,"div",10),s.TgZ(27,"div",11),s.TgZ(28,"button",12),s._uU(29,"Iesire"),s.qZA(),s.TgZ(30,"button",13),s.NdJ("click",function(){return i.getData()}),s._uU(31,"Salvare"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("formGroup",i.modal))},directives:[s1,XE,o1,JE,zP,kM,f_,r3],styles:["*{margin:0;padding:0}.modal1{background-color:#002533}.mat-dialog-container{background-color:#002533}.modal-footer{height:50px}@media only screen and (min-width : 480px){.cdk-overlay-pane{width:100%!important}}@media only screen and (min-width : 1200px){.cdk-overlay-pane{width:40%!important}}\n"],encapsulation:2}),n})();function wK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().openModal2()}),s._uU(1," Adaugare masina "),s.qZA()}}function CK(n,t){1&n&&(s.TgZ(0,"h2",27),s._uU(1,"Numarul maxim de masini inregistrate a fost atins"),s.qZA())}function EK(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.Marca)}}function DK(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.Model)}}function TK(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.NrMasina)}}function SK(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.CodMasina)}}function IK(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.Accident)}}function AK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td"),s.TgZ(1,"button",36),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit;return s.oxw(2).deleteCar(r.UID)}),s._uU(2,"Stergere"),s.qZA(),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.xp6(1),s.s9C("value",e.UID)}}function MK(n,t){if(1&n&&(s.TgZ(0,"tbody"),s.YNc(1,EK,2,1,"td",30),s.YNc(2,DK,2,1,"td",30),s.YNc(3,TK,2,1,"td",30),s.YNc(4,SK,2,1,"td",30),s.YNc(5,IK,2,1,"td",30),s.YNc(6,AK,3,1,"td",30),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.merge?null:i.merge.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.merge?null:i.merge.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.merge?null:i.merge.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.merge?null:i.merge.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.merge?null:i.merge.Email)),s.xp6(1),s.Q6J("ngIf",e.Email==(null==i.merge?null:i.merge.Email))}}function NK(n,t){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"table",35),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th",33),s._uU(5,"Marca"),s.qZA(),s.TgZ(6,"th",33),s._uU(7,"Model"),s.qZA(),s.TgZ(8,"th",33),s._uU(9,"Nr Masina"),s.qZA(),s.TgZ(10,"th",33),s._uU(11,"Cod Masina"),s.qZA(),s.TgZ(12,"th",33),s._uU(13,"Accidente"),s.qZA(),s.TgZ(14,"th",33),s._uU(15,"Stergere"),s.qZA(),s.qZA(),s.qZA(),s.YNc(16,MK,7,6,"tbody",34),s.qZA(),s.qZA()),2&n){const e=s.oxw();s.xp6(16),s.Q6J("ngForOf",e.books)}}const RK=function(n,t){return{"bg-danger":n,"bg-success":t}};function kK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr",38),s.TgZ(1,"th"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s.TgZ(4,"a",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit;return s.oxw().documentdeschis(r)}),s._uU(5,"Download"),s.qZA(),s.TgZ(6,"a",40),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit;return s.oxw().deleteFile(r)}),s._uU(7,"Delete"),s.qZA(),s.qZA(),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngClass",s.WLB(3,RK,"0"===e.citit,"1"===e.citit)),s.xp6(2),s.hij("",e.name," "),s.xp6(2),s.s9C("href",e.url,s.LSH)}}function xK(n,t){if(1&n&&(s.ynx(0),s.YNc(1,kK,8,6,"tr",37),s.BQk()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.email==(null==i.merge?null:i.merge.Email))}}let OK=(()=>{class n{constructor(e,i,r,l,u,f,g){this.firebaseService=e,this.router=i,this.firestore=r,this.data=l,this.dialog=u,this.cars=f,this.storage=g,this.isCollapsed=!1,this.percentage=0,this.listOfFiles=[],this.isLogout=new s.vpe}ngOnInit(){null!==localStorage.getItem("user")?console.log("merge"):console.log("nu merge"),localStorage.getItem("user"),this.getCurrentData(),this.getCurrentDataCar(),this.getFilesnew()}getCurrentData(){(0,dn.D)(this.data.getData()).subscribe(i=>{this.merge=i,console.log(this.merge),this.verificareAbonament()})}getCurrentDataCar(){(0,dn.D)(this.cars.getDataCar()).subscribe(r=>{this.car=r});let i=0;this.items=this.firestore.collection("Cars").valueChanges(),this.items.subscribe(r=>{var l;for(this.books=r,console.log(r);i<10;)r[i]&&r[i].Email==(null===(l=this.merge)||void 0===l?void 0:l.Email)&&console.log(r[i]),i++;i=0,JSON.parse(localStorage.getItem("user")||"{}"),this.firestore.collection("Cars").get().subscribe(f=>{f.forEach(g=>{r[i].UID=g.id,console.log(g.id,"=>",g.data()),i++})})})}logout(){this.firebaseService.logout(),this.isLogout.emit(),this.router.navigate([""])}openModal1(){const e=new KE;e.disableClose=!1,e.data=this.merge,this.dialog.open(vK,e)}openModal2(){const e=new KE;e.disableClose=!1,e.data=this.merge,this.dialog.open(bK,e)}standard(){this.router.navigate(["app-bank"],{state:{da:2}})}instalare(){this.router.navigate(["app-instalare"])}premium(){this.router.navigate(["app-bank"],{state:{da:5}})}verificareAbonament(){var e,i,r;console.log(null===(e=this.merge)||void 0===e?void 0:e.Abonament),"2"==(null===(i=this.merge)||void 0===i?void 0:i.Abonament)?(this.abonament="Abonament Standard",this.verificare=!0):"5"==(null===(r=this.merge)||void 0===r?void 0:r.Abonament)?(this.abonament="Abonament Premiu",this.verificare=!0):(this.abonament="Nu exista abonament",this.verificare=!1)}stergereMasini(){var e,i,r,l,u;"1"==(null===(e=this.merge)||void 0===e?void 0:e.Masini)&&(this.merge.Masini="0",this.data.updateData(this.merge)),"2"==(null===(i=this.merge)||void 0===i?void 0:i.Masini)&&(this.merge.Masini="1",this.data.updateData(this.merge)),"3"==(null===(r=this.merge)||void 0===r?void 0:r.Masini)&&(this.merge.Masini="2",this.data.updateData(this.merge)),"4"==(null===(l=this.merge)||void 0===l?void 0:l.Masini)&&(this.merge.Masini="3",this.data.updateData(this.merge)),"5"==(null===(u=this.merge)||void 0===u?void 0:u.Masini)&&(this.merge.Masini="4",this.data.updateData(this.merge))}deleteCar(e){console.log(e),this.firestore.collection("Cars").doc(e).delete(),this.stergereMasini()}selectFile(e){this.selectedFiles=e.target.files,console.log("selected file: ",this.selectedFiles.item)}uploadFile(e){var i=this;return(0,Me.Z)(function*(){console.log(i.selectedFiles[0]),i.currentFile=new VD(i.selectedFiles[0]),console.log("1");const r="Uploads/"+i.currentFile.file.name;console.log("1");const l=i.storage.ref(r);l.put(i.selectedFiles[0]).snapshotChanges().pipe(mc(()=>{l.getDownloadURL().subscribe(f=>{i.currentFile.url=f,i.currentFile.name=i.currentFile.file.name,null!=e&&(i.currentFile.email=e),i.currentFile.citit="0",i.data.saveFile(i.currentFile)})})).subscribe(f=>{},f=>{console.log("Error occured")})})()}getAllFiles(){this.data.getFile().subscribe(e=>{this.listOfFiles=e.map(i=>{const r=i.payload.doc.file();return r.id=i.payload.doc.id,console.log(r),r})},e=>{console.log("Error fetching filedata")})}getFilesnew(){this.fisiere=this.firestore.collection("Upload").valueChanges(),console.log(this.fisiere),this.fisiere.subscribe(e=>{this.fisiera=e,console.log(e[0])})}deleteFile(e){window.confirm("Are you sure you want to delate"+e.name+"?")&&this.data.deleteFile(e)}deleteFile2(e){console.log(e),this.firestore.collection("Upload").doc(e).delete()}documentdeschis(e){e.citit="1",this.data.updateFile(e),console.log(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tl),s.Y36(ki),s.Y36(el),s.Y36(jl),s.Y36(vp),s.Y36(jl),s.Y36(vM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],inputs:{item:"item"},outputs:{isLogout:"isLogout"},decls:119,vars:5,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css","integrity","sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn","crossorigin","anonymous"],[1,"tot"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"background-color","transparent"],["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],[1,"btn","btn-outline-danger","meniu",3,"click"],[1,"btn","btn-outline-light","meniu",3,"click"],["class","btn btn-outline-light meniu",3,"click",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#multiCollapseExample1","aria-expanded","false","aria-controls","multiCollapseExample1",1,"btn","btn-primary","meniu2"],["type","button","data-toggle","collapse","data-target","#multiCollapseExample2","aria-expanded","false","aria-controls"," multiCollapseExample2",1,"btn","btn-primary","meniu2"],[1,"row"],[1,"col"],["id","multiCollapseExample1",1,"collapse","multi-collapse","collapse1"],[1,"card","card-body"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-lg"],["d","M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-lg"],["fill-rule","evenodd","d","M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"],["fill-rule","evenodd","d","M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"],[1,"btn","btn-outline-danger",3,"click"],[2,"text-align","center"],["id","multiCollapseExample2",1,"collapse","multi-collapse","collapse2"],["type","button",1,"btn","btn-outline-danger",3,"click"],[2,"color","white"],["style","color: white;",4,"ngIf"],[1,"table-responsive"],[4,"ngIf"],[1,"table","table-hover"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"table","table-dark"],["name","button",1,"btn","btn-outline-danger",3,"value","click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["type","button","download","",1,"btn","btn-secondary","spatiu10",3,"href","click"],["type","button",1,"btn","btn-warning","spatiu10",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"link",0),s.TgZ(1,"div",1),s._UZ(2,"br"),s._UZ(3,"br"),s.TgZ(4,"nav",2),s._UZ(5,"img",3),s.TgZ(6,"button",4),s._UZ(7,"span",5),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"ul",7),s.TgZ(10,"li",8),s.TgZ(11,"button",9),s.NdJ("click",function(){return i.logout()}),s._uU(12,"Logout"),s.qZA(),s.qZA(),s.TgZ(13,"li",8),s.TgZ(14,"button",10),s.NdJ("click",function(){return i.openModal1()}),s._uU(15," Adaugare date personale "),s.qZA(),s.qZA(),s.TgZ(16,"li",8),s.YNc(17,wK,2,0,"button",11),s.qZA(),s.TgZ(18,"li",8),s.TgZ(19,"button",10),s.NdJ("click",function(){return i.instalare()}),s._uU(20,"Instalare produs"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"p"),s.TgZ(22,"button",12),s._uU(23,"Abonament Standard"),s.qZA(),s.TgZ(24,"button",13),s._uU(25,"Abonament Premium"),s.qZA(),s.qZA(),s.TgZ(26,"div",14),s.TgZ(27,"div",15),s.TgZ(28,"div",16),s.TgZ(29,"div",17),s.TgZ(30,"h2"),s._uU(31,"Pachet Standard"),s.qZA(),s.TgZ(32,"h4"),s.O4$(),s.TgZ(33,"svg",18),s._UZ(34,"path",19),s.qZA(),s._uU(35,"Sfaturi utile"),s.qZA(),s.kcU(),s.TgZ(36,"h4"),s.O4$(),s.TgZ(37,"svg",18),s._UZ(38,"path",19),s.qZA(),s._uU(39,"Accesare date in caz de accident"),s.qZA(),s.kcU(),s.TgZ(40,"h4"),s.O4$(),s.TgZ(41,"svg",18),s._UZ(42,"path",19),s.qZA(),s._uU(43,"Monitorizare masina 24/7"),s.qZA(),s.kcU(),s.TgZ(44,"h4"),s.O4$(),s.TgZ(45,"svg",20),s._UZ(46,"path",21),s._UZ(47,"path",22),s.qZA(),s._uU(48,"Asistenta in caz de accident"),s.qZA(),s.kcU(),s.TgZ(49,"h4"),s.O4$(),s.TgZ(50,"svg",20),s._UZ(51,"path",21),s._UZ(52,"path",22),s.qZA(),s._uU(53,"Apel automat la 112 cu locatia actuala"),s.qZA(),s.kcU(),s.TgZ(54,"h4"),s.O4$(),s.TgZ(55,"svg",20),s._UZ(56,"path",21),s._UZ(57,"path",22),s.qZA(),s._uU(58,"Conducere defensiva"),s.qZA(),s.kcU(),s.TgZ(59,"button",23),s.NdJ("click",function(){return i.standard()}),s._uU(60,"10\u20ac"),s.qZA(),s.TgZ(61,"p",24),s._uU(62,"Pretul este lunar"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(63,"div",15),s.TgZ(64,"div",25),s.TgZ(65,"div",17),s.TgZ(66,"h2"),s._uU(67,"Pachet Premium"),s.qZA(),s.TgZ(68,"h4"),s.O4$(),s.TgZ(69,"svg",18),s._UZ(70,"path",19),s.qZA(),s._uU(71,"Sfaturi utile"),s.qZA(),s.kcU(),s.TgZ(72,"h4"),s.O4$(),s.TgZ(73,"svg",18),s._UZ(74,"path",19),s.qZA(),s._uU(75,"Accesare date in caz de accident"),s.qZA(),s.kcU(),s.TgZ(76,"h4"),s.O4$(),s.TgZ(77,"svg",18),s._UZ(78,"path",19),s.qZA(),s._uU(79,"Monitorizare masina 24/7"),s.qZA(),s.kcU(),s.TgZ(80,"h4"),s.O4$(),s.TgZ(81,"svg",18),s._UZ(82,"path",19),s.qZA(),s._uU(83,"Asistenta in caz de accident"),s.qZA(),s.kcU(),s.TgZ(84,"h4"),s.O4$(),s.TgZ(85,"svg",18),s._UZ(86,"path",19),s.qZA(),s._uU(87,"Apel automat la 112 cu locatia actuala"),s.qZA(),s.kcU(),s.TgZ(88,"h4"),s.O4$(),s.TgZ(89,"svg",18),s._UZ(90,"path",19),s.qZA(),s._uU(91,"Conducere defensiva"),s.qZA(),s.kcU(),s.TgZ(92,"button",26),s.NdJ("click",function(){return i.premium()}),s._uU(93,"25\u20ac"),s.qZA(),s.TgZ(94,"p",24),s._uU(95,"Pretul este lunar"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(96,"h1",27),s._uU(97),s.qZA(),s.YNc(98,CK,2,0,"h2",28),s.TgZ(99,"div",29),s.YNc(100,NK,17,1,"div",30),s.qZA(),s._UZ(101,"br"),s._UZ(102,"br"),s._UZ(103,"br"),s._UZ(104,"br"),s.TgZ(105,"div",29),s.TgZ(106,"table",31),s.TgZ(107,"thead",32),s.TgZ(108,"tr"),s.TgZ(109,"th",33),s._uU(110,"File name"),s.qZA(),s.TgZ(111,"th",33),s._uU(112,"File action"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(113,"tbody"),s.YNc(114,xK,2,1,"ng-container",34),s.qZA(),s.qZA(),s.qZA(),s._UZ(115,"br"),s._UZ(116,"br"),s._UZ(117,"br"),s._UZ(118,"app-downpage"),s.qZA()),2&e&&(s.xp6(17),s.Q6J("ngIf",(null==i.merge?null:i.merge.Masini)!=(null==i.merge?null:i.merge.Abonament)),s.xp6(80),s.Oqu(i.abonament),s.xp6(1),s.Q6J("ngIf",(null==i.merge?null:i.merge.Masini)==(null==i.merge?null:i.merge.Abonament)),s.xp6(2),s.Q6J("ngIf",i.verificare),s.xp6(14),s.Q6J("ngForOf",i.fisiera))},directives:[Sp,zn,jt,v_,no],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5fr}h1[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:25px}.meniu[_ngcontent-%COMP%]{margin:10px}.meniu2[_ngcontent-%COMP%]{margin:25px 5px 5px}body[_ngcontent-%COMP%]{background-color:#15151e;text-align:center;margin:auto;padding-top:50px;padding-bottom:100%}nav[_ngcontent-%COMP%]{margin-top:50px}.collapse1[_ngcontent-%COMP%]{text-align:left;margin-left:50px;margin-bottom:25px}.collapse2[_ngcontent-%COMP%]{text-align:left;margin-bottom:25px;margin-right:50px}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:left!important}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:10px;width:50%;margin-left:25%}.card-body[_ngcontent-%COMP%]{background-color:#002533!important;color:#fff!important}.spatiu10[_ngcontent-%COMP%]{margin-left:10px!important;margin-right:10px!important}.tot[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto}.navbar[_ngcontent-%COMP%]{width:90%;margin:auto;border-bottom:2px;border-bottom-color:#3f3f5a;border-bottom-style:solid;background:none!important}.navbar_1[_ngcontent-%COMP%]{width:50%;margin:auto}"]}),n})(),PK=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}back(){this.router.navigate(["app-home"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ki))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-instalare"]],decls:62,vars:0,consts:[[1,"tot"],[1,"instalare"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"background-color","transparent"],["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],[1,"btn","btn-outline-danger",3,"click"],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide","cutie","carousel-fade"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets\\27_IMG_0567.jpg","alt","...",1,"d-block","w-100","mare"],[1,"carousel-item"],["src","assets\\28_IMG_0570.jpg","alt","...",1,"d-block","w-100","mare"],["type","button","data-target","#carouselExampleIndicators","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleIndicators","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[2,"color","red"],[1,"poza"],["src","assets\\25_IMG_0550.jpg",1,"poza"],["src","assets\\22_IMG_0544.jpg",1,"poza"],["src","assets\\23_IMG_0545.jpg",1,"poza"],["src","assets\\24_IMG_0549.jpg",1,"poza"],["src","assets\\26_IMG_0557.jpg",1,"poza"],[2,"padding-bottom","100px"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"br"),s._UZ(3,"br"),s.TgZ(4,"nav",2),s._UZ(5,"img",3),s.TgZ(6,"button",4),s._UZ(7,"span",5),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"ul",7),s.TgZ(10,"li",8),s.TgZ(11,"button",9),s.NdJ("click",function(){return i.back()}),s._uU(12,"Home"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"h2"),s._uU(14,"Descriere:"),s.qZA(),s.TgZ(15,"h4"),s._uU(16,"Produsul vandut de noi este un sistem sub forma unui modul care poate fi conectat la computer-ul masinii."),s.qZA(),s.TgZ(17,"h4"),s._uU(18,"Acest produs nu are nevoie de alta sursa de energie."),s.qZA(),s.TgZ(19,"div",10),s.TgZ(20,"ol",11),s._UZ(21,"li",12),s._UZ(22,"li",13),s.qZA(),s.TgZ(23,"div",14),s.TgZ(24,"div",15),s._UZ(25,"img",16),s.qZA(),s.TgZ(26,"div",17),s._UZ(27,"img",18),s.qZA(),s.qZA(),s.TgZ(28,"button",19),s._UZ(29,"span",20),s.TgZ(30,"span",21),s._uU(31,"Previous"),s.qZA(),s.qZA(),s.TgZ(32,"button",22),s._UZ(33,"span",23),s.TgZ(34,"span",21),s._uU(35,"Next"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"h2"),s._uU(37,"Instalare:"),s.qZA(),s.TgZ(38,"h2",24),s._uU(39,"!!Daca intampinati dificultati, va sugeram sa contactati un mecanic!!"),s.qZA(),s.TgZ(40,"h4"),s._uU(41,"Modulul foloseste un conector standard, acesta fiind gasit in toate masinile."),s.qZA(),s.TgZ(42,"div",25),s._UZ(43,"img",26),s.qZA(),s.TgZ(44,"h3"),s._uU(45,"Locatia conectorului poate sa difere de la masina la masina, unele avand-ul sub volan deasupra pedalelor sau dupa o bucata de plastic. Acesta este gasit de obicei langa sigurantele interioare a masinii."),s.qZA(),s.TgZ(46,"div",25),s._UZ(47,"img",27),s.qZA(),s._UZ(48,"br"),s._UZ(49,"br"),s._UZ(50,"img",28),s._UZ(51,"br"),s._UZ(52,"br"),s._UZ(53,"img",29),s._UZ(54,"br"),s._UZ(55,"br"),s._UZ(56,"img",30),s._UZ(57,"br"),s._UZ(58,"br"),s.TgZ(59,"h3",31),s._uU(60,"Unele masini il pot avea in torpedou sau chiar in portbagaj"),s.qZA(),s._UZ(61,"app-downpage"),s.qZA(),s.qZA())},directives:[Sp,v_],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.meniu[_ngcontent-%COMP%]{margin:10px}.mare[_ngcontent-%COMP%]{width:100%;height:500px}.instalare[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);color:#fff}.tot[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto}.navbar[_ngcontent-%COMP%]{width:90%;margin:auto;border-bottom:2px;border-bottom-color:#3f3f5a;border-bottom-style:solid;background:none!important}.navbar_1[_ngcontent-%COMP%]{width:50%;margin:auto}.poza[_ngcontent-%COMP%]{max-width:600px;max-height:300px}@media only screen and (min-width : 320px){.poza[_ngcontent-%COMP%]{width:90%;height:200px;margin:auto}.cutie[_ngcontent-%COMP%]{width:90%;height:60%;margin:auto}}@media only screen and (min-width : 1200px){.poza[_ngcontent-%COMP%]{width:600px;height:300px;margin:auto}.cutie[_ngcontent-%COMP%]{width:900px;height:600px;margin:auto}}"]}),n})();function FK(n,t){1&n&&(s.TgZ(0,"div",28),s._uU(1," Cont incorect. Mail sau parola incorecte. "),s.qZA())}let LK=(()=>{class n{constructor(e,i,r,l){this.firebaseService=e,this.router=i,this.data=r,this.firebaseAuth=l,this.isSignedIn=!1,this.isLoggedIn=!1}ngOnInit(){this.isSignedIn=null!==localStorage.getItem("user")}onSingin(e,i){var r=this;return(0,Me.Z)(function*(){yield r.firebaseService.singin(e,i),console.log(e),console.log(i),r.firebaseService.isLoggedIn&&(r.isSignedIn=!0,r.router.navigate(["app-home"]))})()}adminSingin(e,i){var r=this;return(0,Me.Z)(function*(){yield r.firebaseService.singin(e,i),console.log(e),console.log(i),r.firebaseService.isLoggedIn&&(0,dn.D)(r.data.getData()).subscribe(u=>{var f;r.admins=u,console.log(r.admins),"1"==(null===(f=r.admins)||void 0===f?void 0:f.Admin)&&r.router.navigate(["app-admin"])})})()}handleLogout(){this.isSignedIn=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tl),s.Y36(ki),s.Y36(jl),s.Y36(dp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:60,vars:1,consts:[[1,"tot"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"background-color","transparent"],["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLink","/app-detail",1,"nav-link"],["routerLink","/app-sing-up",1,"nav-link"],[1,"nav-item","active"],["routerLink","/app-login",1,"nav-link"],[1,"action"],[1,"container"],[1,"row"],[1,"col-1"],[1,"col-10"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"form-floating","mb-3","input"],["type","text","id","exampleInputEmail1","placeholder","name@example.com",1,"form-control"],["mail",""],["for","exampleInputEmail1"],["type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["password",""],["for","exampleInputPassword1"],["type","submit",1,"btn","btn-primary",3,"click"],[2,"color","white"],["routerLink","/app-sing-up",1,"first"],["role","alert",1,"alert","alert-danger"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s._UZ(1,"br"),s._UZ(2,"br"),s.TgZ(3,"nav",1),s._UZ(4,"img",2),s.TgZ(5,"button",3),s._UZ(6,"span",4),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"ul",6),s.TgZ(9,"li",7),s.TgZ(10,"a",8),s._uU(11,"Home "),s.qZA(),s.qZA(),s.TgZ(12,"li",7),s.TgZ(13,"a",9),s._uU(14,"Creaza cont"),s.qZA(),s.qZA(),s.TgZ(15,"li",10),s.TgZ(16,"a",11),s._uU(17,"Logare"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div"),s.TgZ(19,"div",12),s._UZ(20,"br"),s._UZ(21,"br"),s._UZ(22,"br"),s._UZ(23,"br"),s._UZ(24,"br"),s.TgZ(25,"h1"),s._uU(26,"Log In:"),s.qZA(),s.TgZ(27,"div",13),s.TgZ(28,"div",14),s._UZ(29,"div",15),s.TgZ(30,"div",16),s.TgZ(31,"form"),s.YNc(32,FK,2,0,"div",17),s.TgZ(33,"div",18),s._UZ(34,"input",19,20),s.TgZ(36,"label",21),s._uU(37,"Email address:"),s.qZA(),s.qZA(),s.TgZ(38,"div",18),s._UZ(39,"input",22,23),s.TgZ(41,"label",24),s._uU(42,"Password:"),s.qZA(),s.qZA(),s.TgZ(43,"button",25),s.NdJ("click",function(){s.CHM(r);const u=s.MAs(35),f=s.MAs(40);return i.onSingin(u.value,f.value)}),s._uU(44,"Conectare"),s.qZA(),s.TgZ(45,"button",25),s.NdJ("click",function(){s.CHM(r);const u=s.MAs(35),f=s.MAs(40);return i.adminSingin(u.value,f.value)}),s._uU(46,"adminConectare"),s.qZA(),s._UZ(47,"br"),s._UZ(48,"br"),s._UZ(49,"br"),s._UZ(50,"br"),s.TgZ(51,"h3",26),s._uU(52,"Nu ai cont?"),s.qZA(),s.TgZ(53,"a",27),s._uU(54,"Inscrie-te"),s.qZA(),s.qZA(),s.qZA(),s._UZ(55,"div",15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(56,"br"),s._UZ(57,"br"),s._UZ(58,"br"),s._UZ(59,"app-downpage"),s.qZA()}2&e&&(s.xp6(32),s.Q6J("ngIf",i.firebaseService.loginerror))},directives:[Sp,Yu,s1,XE,f_,zn,v_],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}h1[_ngcontent-%COMP%]{color:#fff;margin-top:25px;margin-bottom:25px}.meniu[_ngcontent-%COMP%]{margin:10px}body[_ngcontent-%COMP%]{background-color:#15151e;text-align:center;margin:auto;padding-top:50px;padding-bottom:100%}.tot[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto}.navbar[_ngcontent-%COMP%]{width:90%;margin:auto;border-bottom:2px;border-bottom-color:#3f3f5a;border-bottom-style:solid;background:none!important}.navbar_1[_ngcontent-%COMP%]{width:50%;margin:auto}@media only screen and (min-width : 480px){.input[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width : 1200px){.input[_ngcontent-%COMP%]{width:50%;margin:auto}}"]}),n})(),VK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-members"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"members works!"),s.qZA())},styles:[""]}),n})(),RH=(()=>{class n{constructor(e){this.fireservices=e}create_user(e){return this.fireservices.collection("Users").add(Object.assign({},e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(el))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UK=[{path:"",component:MH},{path:"app-sing-up",component:(()=>{class n{constructor(e,i,r,l){this.firebaseService=e,this.usersservice=i,this.firestore=r,this.router=l,this.isSignedIn=!1}ngOnInit(){this.isSignedIn=null!==localStorage.getItem("user")}onSignup(e,i){var r=this;return(0,Me.Z)(function*(){r.error="Contul exista deja.",yield r.firebaseService.singup(e,i),console.log(e),console.log(i),r.firebaseService.isLoggedIn&&(r.isSignedIn=!0,r.router.navigate(["app-home"]))})()}onSingin(e,i){var r=this;return(0,Me.Z)(function*(){yield r.firebaseService.singup(e,i),console.log(e),console.log(i),r.firebaseService.isLoggedIn&&(r.isSignedIn=!0)})()}handleLogout(){this.isSignedIn=!1}resetForm(e){null!=e&&e.resetForm(),this.usersservice.formData={id:"",Email:"",Nume:"",Prenume:"",Varsta:"",Adresa:"",Judet:"",Oras:"",Abonament:"0",Masini:"0",Admin:"0"}}onSubmit(e){let i=Object.assign({},e.value);delete i.id,null==e.value.id?this.firestore.collection("employees").add(i):this.firestore.doc("employees/"+e.value.id).update(i),this.resetForm(e)}CreateRecord(){let e=new NH;e.Nume=this.Nume,e.Prenume=this.Prenume,this.usersservice.create_user(e).then(i=>{this.Nume="",this.Prenume="",console.log(i)}).catch(i=>{console.log(i)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tl),s.Y36(RH),s.Y36(el),s.Y36(ki))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sing-up"]],decls:58,vars:1,consts:[[1,"tot"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"background-color","transparent"],["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLink","/app-detail",1,"nav-link"],[1,"nav-item","active"],["routerLink","/app-sing-up",1,"nav-link"],["routerLink","/app-login",1,"nav-link"],[1,"container"],[1,"row"],[1,"col-1"],[1,"col-10"],[1,"form-floating","mb-3","input"],["type","text","id","emailSingup","placeholder","name@example.com",1,"form-control"],["emailSingup",""],["for","exampleInputEmail1"],["type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["passwordSingup",""],["for","exampleInputPassword1"],["type","submit",1,"btn","btn-primary",3,"click"],[2,"color","red"],[2,"color","white"],["routerLink","",1,"first"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s._UZ(1,"br"),s._UZ(2,"br"),s.TgZ(3,"nav",1),s._UZ(4,"img",2),s.TgZ(5,"button",3),s._UZ(6,"span",4),s.qZA(),s.TgZ(7,"div",5),s.TgZ(8,"ul",6),s.TgZ(9,"li",7),s.TgZ(10,"a",8),s._uU(11,"Home "),s.qZA(),s.qZA(),s.TgZ(12,"li",9),s.TgZ(13,"a",10),s._uU(14,"Creaza cont"),s.qZA(),s.qZA(),s.TgZ(15,"li",7),s.TgZ(16,"a",11),s._uU(17,"Logare"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(18,"br"),s._UZ(19,"br"),s._UZ(20,"br"),s._UZ(21,"br"),s.TgZ(22,"h1"),s._uU(23,"Creaza cont:"),s.qZA(),s.TgZ(24,"div",12),s.TgZ(25,"div",13),s._UZ(26,"div",14),s.TgZ(27,"div",15),s.TgZ(28,"form"),s.TgZ(29,"div",16),s._UZ(30,"input",17,18),s.TgZ(32,"label",19),s._uU(33,"Email address:"),s.qZA(),s.qZA(),s.TgZ(34,"div",16),s._UZ(35,"input",20,21),s.TgZ(37,"label",22),s._uU(38,"Password:"),s.qZA(),s.qZA(),s.TgZ(39,"button",23),s.NdJ("click",function(){s.CHM(r);const u=s.MAs(31),f=s.MAs(36);return i.onSignup(u.value,f.value)}),s._uU(40,"Creaza"),s.qZA(),s._UZ(41,"br"),s._UZ(42,"br"),s.TgZ(43,"h2",24),s._uU(44),s.qZA(),s._UZ(45,"br"),s._UZ(46,"br"),s.TgZ(47,"h3",25),s._uU(48,"Ai un cont?"),s.qZA(),s.TgZ(49,"a",26),s._uU(50,"Conecteaza-te"),s.qZA(),s.qZA(),s.qZA(),s._UZ(51,"div",14),s.qZA(),s.qZA(),s._UZ(52,"br"),s._UZ(53,"br"),s._UZ(54,"br"),s._UZ(55,"br"),s._UZ(56,"br"),s._UZ(57,"app-downpage"),s.qZA()}2&e&&(s.xp6(44),s.Oqu(i.error))},directives:[Sp,Yu,s1,XE,f_,v_],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}h1[_ngcontent-%COMP%]{color:#fff;padding-top:50px;padding-bottom:25px}.meniu[_ngcontent-%COMP%]{margin:10px}body[_ngcontent-%COMP%]{background-color:#15151e;text-align:center;margin:auto;padding-top:50px;padding-bottom:100%}.tot[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto}.navbar[_ngcontent-%COMP%]{width:90%;margin:auto;border-bottom:2px;border-bottom-color:#3f3f5a;border-bottom-style:solid;background:none!important}.navbar_1[_ngcontent-%COMP%]{width:50%;margin:auto}@media only screen and (min-width : 480px){.input[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width : 1200px){.input[_ngcontent-%COMP%]{width:50%;margin:auto}}"]}),n})()},{path:"app-member",component:VK},{path:"app-home",component:OK},{path:"app-bank",component:yK},{path:"app-uppage",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-uppage"]],decls:2,vars:0,consts:[["id","logo","src","assets/SUCD1.png","width","150px","height","50px","margin","10px"]],template:function(e,i){1&e&&(s._UZ(0,"img",0),s._UZ(1,"br"))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5fr}h1[_ngcontent-%COMP%]{padding-left:50px;padding-top:50px;padding-bottom:25px;margin-bottom:50px}#logo[_ngcontent-%COMP%]{margin-bottom:50px}body[_ngcontent-%COMP%]{background-color:#15151e;text-align:center;margin:auto;padding-top:50px;padding-bottom:100%}nav[_ngcontent-%COMP%]{margin-top:50px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;background-color:#e8e8e8;color:#3d3d3d;border-radius:4px;font-size:1.2rem;padding:1rem;margin-right:1rem;margin-bottom:1rem;margin-top:1rem}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#42545c}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#000}"]}),n})()},{path:"app-login",component:LK},{path:"app-detail",component:MH},{path:"app-instalare",component:PK},{path:"app-downpage",component:v_},{path:"app-admin",component:_K},{path:"app-admin-data",component:d3}];let BK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[F0.forRoot(UK)],F0]}),n})(),$K=(()=>{class n{constructor(){this.title="SUCD"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC","crossorigin","anonymous"]],template:function(e,i){1&e&&(s._UZ(0,"link",0),s.TgZ(1,"body"),s._UZ(2,"router-outlet"),s.qZA())},directives:[Yh],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5fr}h1[_ngcontent-%COMP%]{padding-left:50px;padding-top:50px;padding-bottom:25px}body[_ngcontent-%COMP%]{background-color:#15151e;background-image:linear-gradient(to bottom right,#15151E,#3f3f5a);text-align:center;margin:auto}nav[_ngcontent-%COMP%]{margin-top:50px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;background-color:#e8e8e8;color:#3d3d3d;border-radius:4px;font-size:1.2rem;padding:1rem;margin-right:1rem;margin-bottom:1rem;margin-top:1rem}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#42545c}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#000}"]}),n})();class jK{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new ZK(t,this.predicate))}}class ZK extends ji.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const kH="@firebase/database";let AF="";function OH(n){AF=n}class GK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class qK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const PH=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new GK(t)}}catch(t){}return new qK},b_=PH("localStorage"),MF=PH("sessionStorage"),Ib=new fo.Yd("@firebase/database"),FH=function(){let n=1;return function(){return n++}}(),LH=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},g1=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=g1.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let w_=null,VH=!0;const UH=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ib.logLevel=fo.in.VERBOSE,w_=Ib.log.bind(Ib),t&&MF.set("logging_enabled",!0)):"function"==typeof n?w_=n:(w_=null,MF.remove("logging_enabled"))},gs=function(...n){if(!0===VH&&(VH=!1,null===w_&&!0===MF.get("logging_enabled")&&UH(!0)),w_){const t=g1.apply(null,n);w_(t)}},m1=function(n){return function(...t){gs(n,...t)}},NF=function(...n){const t="FIREBASE INTERNAL ERROR: "+g1(...n);Ib.error(t)},gu=function(...n){const t=`FIREBASE FATAL ERROR: ${g1(...n)}`;throw Ib.error(t),new Error(t)},So=function(...n){const t="FIREBASE WARNING: "+g1(...n);Ib.warn(t)},GM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},eh="[MIN_NAME]",mu="[MAX_NAME]",C_=function(n,t){if(n===t)return 0;if(n===eh||t===mu)return-1;if(t===eh||n===mu)return 1;{const e=qM(n),i=qM(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},YK=function(n,t){return n===t?0:n<t?-1:1},_1=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},RF=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=RF(n[t[i]]);return e+="}",e},BH=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ms(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const $H=function(n){(0,F.hu)(!GM(n),"Invalid JSON number");const i=1023;let r,l,u,f,g;0===n?(l=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=f+i,u=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(l=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(g=52;g;g-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(g=11;g;g-=1)y.push(l%2?1:0),l=Math.floor(l/2);y.push(r?1:0),y.reverse();const E=y.join("");let T="";for(g=0;g<64;g+=8){let I=parseInt(E.substr(g,8),2).toString(16);1===I.length&&(I="0"+I),T+=I}return T.toLowerCase()},XK=new RegExp("^-?(0*)\\d{1,10}$"),HH=-2147483648,kF=2147483647,qM=function(n){if(XK.test(n)){const t=Number(n);if(t>=HH&&t<=kF)return t}return null},Ab=function(n){try{n()}catch(t){setTimeout(()=>{throw So("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},y1=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class t9{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){So(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class n9{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(gs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',So(t)}}let v1=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const zH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,YH="websocket",KH="long_polling";class OF{constructor(t,e,i,r,l=!1,u="",f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=b_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&b_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function QH(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===YH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==KH)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ms(e,(l,u)=>{r.push(l+"="+u)}),i+r.join("&")}class s9{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const PF={},FF={};function LF(n){const t=n.toString();return PF[t]||(PF[t]=new s9),PF[t]}class a9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ab(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mb{constructor(t,e,i,r,l,u,f){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=m1(t),this.stats_=LF(e),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),QH(e,KH,g))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new a9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VF((...l)=>{const[u,f,g,y,E]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=f,this.password=g;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&zH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mb.forceAllow_=!0}static forceDisallow(){Mb.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Mb.forceAllow_&&(Mb.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),r=BH(i,1840);for(let l=0;l<r.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class VF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=FH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=VF.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){gs("frame writing exception"),f.stack&&gs(f.stack),gs(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||gs("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{gs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let b1=null;"undefined"!=typeof MozWebSocket?b1=MozWebSocket:"undefined"!=typeof WebSocket&&(b1=WebSocket);let w1=(()=>{class n{constructor(e,i,r,l,u,f,g){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=m1(this.connId),this.stats_=LF(i),this.connURL=n.connectionURL_(i,f,g,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l){const u={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&zH.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),l&&(u.ac=l),QH(e,YH,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,b_.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const l={headers:{"User-Agent":`Firebase/5/${AF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,f=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;f&&(l.proxy={origin:f}),this.mySock=new b1(this.connURL,[],l)}else this.mySock=new b1(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==b1&&!n.forceDisallow_}static previouslyFailed(){return b_.isInMemoryStorage||!0===b_.get("previous_websocket_failure")}markConnectionHealthy(){b_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=BH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class UF{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Mb,w1]}initTransports_(t){const e=w1&&w1.isAvailable();let i=e&&!w1.previouslyFailed();if(t.webSocketOnly&&(e||So("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[w1];else{const r=this.transports_=[];for(const l of UF.ALL_TRANSPORTS)l&&l.isAvailable()&&r.push(l)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class uj{constructor(t,e,i,r,l,u,f,g,y,E){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=m1("c:"+this.id+":"),this.transportManager_=new UF(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=y1(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=_1("t",t),i=_1("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=_1("t",t),i=_1("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=_1("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?NF("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&So("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),y1(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):y1(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(b_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class dj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class hj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let l=0;l<r.length;l++)if(r[l].callback===e&&(!i||i===r[l].context))return void r.splice(l,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class WM extends hj{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new WM}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ei{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function jn(){return new ei("")}function wn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ip(n){return n.pieces_.length-n.pieceNum_}function pi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ei(n.pieces_,t)}function $F(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function C1(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function gj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ei(t,0)}function Yi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ei)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ei(e,0)}function Cn(n){return n.pieceNum_>=n.pieces_.length}function Io(n,t){const e=wn(n),i=wn(t);if(null===e)return t;if(e===i)return Io(pi(n),pi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function M9(n,t){const e=C1(n,0),i=C1(t,0);for(let r=0;r<e.length&&r<i.length;r++){const l=C_(e[r],i[r]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function HF(n,t){if(Ip(n)!==Ip(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function rl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Ip(n)>Ip(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class N9{constructor(t,e){this.errorPrefix_=e,this.parts_=C1(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);mj(this)}}function mj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+E_(n))}function E_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jF extends hj{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jF}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const E1=1e3;let KM,D_=(()=>{class n extends dj{constructor(e,i,r,l,u,f,g,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=m1("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=E1,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&WM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_((0,F.Pz)(u)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new F.BH,r={p:e._path.toString(),q:e._queryObject},l={action:"g",request:r,onComplete:f=>{const g=f.d;"ok"===f.s?(this.onDataUpdate_(r.p,g,!1,null),i.resolve(g)):i.reject(g)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const f=this.outstandingGets_[u];void 0===f||l!==f||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const g={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,g=>{const y=g.d,E=g.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",g),"ok"!==E&&this.removeListen_(r,l),e.onComplete&&e.onComplete(E,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const r=(0,F.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();So(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e};l&&(u.q=r,u.t=l),this.sendRequest("n",u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,u){this.initConnection_();const f={p:i,d:r};void 0!==u&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):NF("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=E1,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=E1,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=E1),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Me.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let g=!1,y=null;const E=function(){y?y.close():(g=!0,l())};e.realtime_={close:E,sendRequest:function(R){(0,F.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(R)}};const I=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,U]=yield Promise.all([e.authTokenProvider_.getToken(I),e.appCheckTokenProvider_.getToken(I)]);g?gs("getToken() completed but was canceled"):(gs("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=U&&U.token,y=new uj(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,l,te=>{So(te+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(R){e.log_("Failed to get token: "+R),g||(e.repoInfo_.nodeAdmin&&So(R),E())}}})()}interrupt(e){gs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=E1,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(u=>RF(u)).join("$"):"default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new ei(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){gs("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){gs("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+AF.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=WM.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Dn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Dn(t,e)}}class YM{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Dn(eh,t),r=new Dn(eh,e);return 0!==this.compare(i,r)}minPost(){return Dn.MIN}}class vj extends YM{static get __EMPTY_NODE(){return KM}static set __EMPTY_NODE(t){KM=t}compare(t,e){return C_(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Dn.MIN}maxPost(){return new Dn(mu,KM)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Dn(t,KM)}toString(){return".key"}}const _u=new vj;class QM{constructor(t,e,i,r,l=null){this.isReverse_=r,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?i(t.key,e):1,r&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let GF,ql=(()=>{class n{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=l?l:Ho.EMPTY_NODE,this.right=null!=u?u:Ho.EMPTY_NODE}copy(e,i,r,l,u){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=l?l:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):0===u?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ho.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ho.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ho{constructor(t,e=Ho.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ho(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ql.BLACK,null,null))}remove(t){return new Ho(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ql.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new QM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new QM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new QM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new QM(this.root_,null,this.comparator_,!0,t)}}function U9(n,t){return C_(n.name,t.name)}function ZF(n,t){return C_(n,t)}Ho.EMPTY_NODE=new class{copy(t,e,i,r,l){return this}insert(t,e,i){return new ql(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bj=function(n){return"number"==typeof n?"number:"+$H(n):"string:"+n},wj=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===GF||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===GF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Cj,Ej,Dj,Nb=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),wj(this.priorityNode_)}static set __childrenNodeConstructor(e){Cj=e}static get __childrenNodeConstructor(){return Cj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Cn(e)?this:".priority"===wn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=wn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Ip(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(pi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bj(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?$H(this.value_):this.value_,this.lazyHash_=LH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(l>=0,"Unknown leaf type: "+i),(0,F.hu)(u>=0,"Unknown leaf type: "+r),l===u?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Si=new class extends YM{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),l=i.compareTo(r);return 0===l?C_(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Dn.MIN}maxPost(){return new Dn(mu,new Nb("[PRIORITY-POST]",Dj))}makePost(t,e){const i=Ej(t);return new Dn(e,new Nb("[PRIORITY-POST]",i))}toString(){return".priority"}},Z9=Math.log(2);class G9{constructor(t){this.count=parseInt(Math.log(t+1)/Z9,10),this.current_=this.count-1;const r=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const JM=function(n,t,e,i){n.sort(t);const r=function(g,y){const E=y-g;let T,I;if(0===E)return null;if(1===E)return T=n[g],I=e?e(T):T,new ql(I,T.node,ql.BLACK,null,null);{const R=parseInt(E/2,10)+g,U=r(g,R),te=r(R+1,y);return T=n[R],I=e?e(T):T,new ql(I,T.node,ql.BLACK,U,te)}},f=function(g){let y=null,E=null,T=n.length;const I=function(U,te){const fe=T-U,We=T;T-=U;const Je=r(fe+1,We),mt=n[fe],at=e?e(mt):mt;R(new ql(at,mt.node,te,null,Je))},R=function(U){y?(y.left=U,y=U):(E=U,y=U)};for(let U=0;U<g.count;++U){const te=g.nextBitIsOne(),fe=Math.pow(2,g.count-(U+1));te?I(fe,ql.BLACK):(I(fe,ql.BLACK),I(fe,ql.RED))}return E}(new G9(n.length));return new Ho(i||t,f)};let qF;const Rb={};class th{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Rb&&Si,"ChildrenNode.ts has not been loaded"),qF=qF||new th({".priority":Rb},{".priority":Si}),qF}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ho?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==_u,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const l=e.getIterator(Dn.Wrap);let f,u=l.getNext();for(;u;)r=r||t.isDefinedOn(u.node),i.push(u),u=l.getNext();f=r?JM(i,t.getCompare()):Rb;const g=t.toString(),y=Object.assign({},this.indexSet_);y[g]=t;const E=Object.assign({},this.indexes_);return E[g]=f,new th(E,y)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(r,l)=>{const u=(0,F.DV)(this.indexSet_,l);if((0,F.hu)(u,"Missing index implementation for "+l),r===Rb){if(u.isDefinedOn(t.node)){const f=[],g=e.getIterator(Dn.Wrap);let y=g.getNext();for(;y;)y.name!==t.name&&f.push(y),y=g.getNext();return f.push(t),JM(f,u.getCompare())}return Rb}{const f=e.get(t.name);let g=r;return f&&(g=g.remove(new Dn(t.name,f))),g.insert(t,t.node)}});return new th(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,r=>{if(r===Rb)return r;{const l=e.get(t.name);return l?r.remove(new Dn(t.name,l)):r}});return new th(i,this.indexSet_)}}let D1,ln=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wj(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return D1||(D1=new n(new Ho(ZF),null,th.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||D1}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?D1:i}}getChild(e){const i=wn(e);return null===i?this:this.getImmediateChild(i).getChild(pi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Dn(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=l.isEmpty()?D1:this.priorityNode_;return new n(l,f,u)}}updateChild(e,i){const r=wn(e);if(null===r)return i;{(0,F.hu)(".priority"!==wn(e)||1===Ip(e),".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(pi(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,u=!0;if(this.forEachChild(Si,(f,g)=>{i[f]=g.val(e),r++,u&&n.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*r){const f=[];for(const g in i)f[g]=i[g];return f}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+bj(this.getPriority().val())+":"),this.forEachChild(Si,(i,r)=>{const l=r.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":LH(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new Dn(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Dn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Dn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Dn.Wrap);let u=l.peek();for(;null!=u&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Dn.Wrap);let u=l.peek();for(;null!=u&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===T1?-1:0}withIndex(e){if(e===_u||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_u||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Si),l=i.getIterator(Si);let u=r.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=l.getNext()}return null===u&&null===f}return!1}return!1}}resolveIndex_(e){return e===_u?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const T1=new class extends ln{constructor(){super(new Ho(ZF),ln.EMPTY_NODE,th.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ln.EMPTY_NODE}isEmpty(){return!1}};function sr(n,t=null){if(null===n)return ln.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Nb(n,sr(t));if(n instanceof Array){let e=ln.EMPTY_NODE;return ms(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const l=sr(r);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(sr(t))}{const e=[];let i=!1;if(ms(n,(u,f)=>{if("."!==u.substring(0,1)){const g=sr(f);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),e.push(new Dn(u,g)))}}),0===e.length)return ln.EMPTY_NODE;const l=JM(e,U9,u=>u.name,ZF);if(i){const u=JM(e,Si.getCompare());return new ln(l,sr(t),new th({".priority":u},{".priority":Si}))}return new ln(l,sr(t),th.Default)}}Object.defineProperties(Dn,{MIN:{value:new Dn(eh,ln.EMPTY_NODE)},MAX:{value:new Dn(mu,T1)}}),vj.__EMPTY_NODE=ln.EMPTY_NODE,Nb.__childrenNodeConstructor=ln,function(n){GF=n}(T1),function(n){Dj=n}(T1),function(n){Ej=n}(sr);class zF extends YM{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Cn(t)&&".priority"!==wn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),l=i.compareTo(r);return 0===l?C_(t.name,e.name):l}makePost(t,e){const i=sr(t),r=ln.EMPTY_NODE.updateChild(this.indexPath_,i);return new Dn(e,r)}maxPost(){const t=ln.EMPTY_NODE.updateChild(this.indexPath_,T1);return new Dn(mu,t)}toString(){return C1(this.indexPath_,0).join("/")}}const WF=new class extends YM{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?C_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Dn.MIN}maxPost(){return Dn.MAX}makePost(t,e){const i=sr(t);return new Dn(e,i)}toString(){return".value"}},kb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Y9=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const l=new Array(8);for(r=7;r>=0;r--)l[r]=kb.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let u=l.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=kb.charAt(t[r]);return(0,F.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),Ij=function(n){if(n===""+kF)return"-";const t=qM(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let u=0;u<e.length;u++)e[u]=n.charAt(u);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return mu;const l=kb.charAt(kb.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},Aj=function(n){if(n===""+HH)return eh;const t=qM(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+kF:(delete e[e.length-1],e.join("")):(e[e.length-1]=kb.charAt(kb.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Mj(n){return{type:"value",snapshotNode:n}}function xb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function S1(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function I1(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class KF{constructor(t){this.index_=t}updateChild(t,e,i,r,l,u){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(S1(e,f)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(xb(e,i)):u.trackChildChange(I1(e,i,f))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Si,(r,l)=>{e.hasChild(r)||i.trackChildChange(S1(r,l))}),e.isLeafNode()||e.forEachChild(Si,(r,l)=>{if(t.hasChild(r)){const u=t.getImmediateChild(r);u.equals(l)||i.trackChildChange(I1(r,l,u))}else i.trackChildChange(xb(r,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ln.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class A1{constructor(t){this.indexedFilter_=new KF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=A1.getStartPost_(t),this.endPost_=A1.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,l,u){return this.matches(new Dn(e,i))||(i=ln.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,l,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ln.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(ln.EMPTY_NODE);const l=this;return e.forEachChild(Si,(u,f)=>{l.matches(new Dn(u,f))||(r=r.updateImmediateChild(u,ln.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Q9{constructor(t){this.rangedFilter_=new A1(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,l,u){return this.rangedFilter_.matches(new Dn(e,i))||(i=ln.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,l,u):this.fullLimitUpdateChild_(t,e,i,l,u)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=ln.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;r=ln.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();let g;if(g=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!g)break;r=r.updateImmediateChild(f.name,f.node),u++}}else{let l,u,f,g;if(r=e.withIndex(this.index_),r=r.updatePriority(ln.EMPTY_NODE),this.reverse_){g=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();f=(I,R)=>T(R,I)}else g=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let y=0,E=!1;for(;g.hasNext();){const T=g.getNext();!E&&f(l,T)<=0&&(E=!0),E&&y<this.limit_&&f(T,u)<=0?y++:r=r.updateImmediateChild(T.name,ln.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,l){let u;if(this.reverse_){const T=this.index_.getCompare();u=(I,R)=>T(R,I)}else u=this.index_.getCompare();const f=t;(0,F.hu)(f.numChildren()===this.limit_,"");const g=new Dn(e,i),y=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(f.hasChild(e)){const T=f.getImmediateChild(e);let I=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=I&&(I.name===e||f.hasChild(I.name));)I=r.getChildAfterChild(this.index_,I,this.reverse_);const R=null==I?1:u(I,g);if(E&&!i.isEmpty()&&R>=0)return null!=l&&l.trackChildChange(I1(e,i,T)),f.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(S1(e,T));const te=f.updateImmediateChild(e,ln.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(null!=l&&l.trackChildChange(xb(I.name,I.node)),te.updateImmediateChild(I.name,I.node)):te}}return i.isEmpty()?t:E&&u(y,g)>=0?(null!=l&&(l.trackChildChange(S1(y.name,y.node)),l.trackChildChange(xb(e,i))),f.updateImmediateChild(e,i).updateImmediateChild(y.name,ln.EMPTY_NODE)):t}}class XM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Si}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Si}copy(){const t=new XM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function QF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function JF(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function eN(n,t){const e=n.copy();return e.index_=t,e}function Nj(n){const t={};if(n.isDefault())return t;let e;return n.index_===Si?e="$priority":n.index_===WF?e="$value":n.index_===_u?e="$key":((0,F.hu)(n.index_ instanceof zF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Rj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Si&&(t.i=n.index_.toString()),t}class tN extends dj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=m1("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const u=tN.getListenId_(t,i),f={};this.listens_[u]=f;const g=Nj(t._queryParams);this.restRequest_(l+".json",g,(y,E)=>{let T=E;if(404===y&&(T=null,y=null),null===y&&this.onDataUpdate_(l,T,!1,i),(0,F.DV)(this.listens_,u)===f){let I;I=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(I,null)}})}unlisten(t,e){const i=tN.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Nj(t._queryParams),i=t._path.toString(),r=new F.BH;return this.restRequest_(i+".json",e,(l,u)=>{let f=u;404===l&&(f=null,l=null),null===l?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,l])=>{r&&r.accessToken&&(e.auth=r.accessToken),l&&l.token&&(e.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let g=null;if(f.status>=200&&f.status<300){try{g=(0,F.cI)(f.responseText)}catch(y){So("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,g)}else 401!==f.status&&404!==f.status&&So("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}class iQ{constructor(){this.rootNode_=ln.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function nN(){return{value:null,children:new Map}}function Ob(n,t,e){if(Cn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=wn(t);n.children.has(i)||n.children.set(i,nN()),Ob(n.children.get(i),t=pi(t),e)}}function XF(n,t){if(Cn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Si,(i,r)=>{Ob(n,new ei(i),r)}),XF(n,t)}}if(n.children.size>0){const e=wn(t);return t=pi(t),n.children.has(e)&&XF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function eL(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{eL(r,new ei(t.toString()+"/"+i),e)})}class sQ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ms(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class lQ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new sQ(t);const i=1e4+2e4*Math.random();y1(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ms(t,(r,l)=>{l>0&&(0,F.r3)(this.statsToReport_,r)&&(e[r]=l,i=!0)}),i&&this.server_.reportStats(e),y1(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var sl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(sl||(sl={})),sl))();function iL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class iN{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=sl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Cn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ei(t));return new iN(jn(),e,this.revert)}}return(0,F.hu)(wn(this.path)===t,"operationForChild called for unrelated child."),new iN(pi(this.path),this.affectedTree,this.revert)}}class M1{constructor(t,e){this.source=t,this.path=e,this.type=sl.LISTEN_COMPLETE}operationForChild(t){return Cn(this.path)?new M1(this.source,jn()):new M1(this.source,pi(this.path))}}class T_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=sl.OVERWRITE}operationForChild(t){return Cn(this.path)?new T_(this.source,jn(),this.snap.getImmediateChild(t)):new T_(this.source,pi(this.path),this.snap)}}class Pb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=sl.MERGE}operationForChild(t){if(Cn(this.path)){const e=this.children.subtree(new ei(t));return e.isEmpty()?null:e.value?new T_(this.source,jn(),e.value):new Pb(this.source,jn(),e)}return(0,F.hu)(wn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Pb(this.source,pi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ap{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Cn(t))return this.isFullyInitialized()&&!this.filtered_;const e=wn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class cQ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function N1(n,t,e,i,r,l){const u=i.filter(f=>f.type===e);u.sort((f,g)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Dn(t.childName,t.snapshotNode),r=new Dn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,f,g)),u.forEach(f=>{const g=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,l);r.forEach(y=>{y.respondsTo(f.type)&&t.push(y.createEvent(g,n.query_))})})}function rN(n,t){return{eventCache:n,serverCache:t}}function R1(n,t,e,i){return rN(new Ap(t,e,i),n.serverCache)}function xj(n,t,e,i){return rN(n.eventCache,new Ap(t,e,i))}function sN(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function S_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rL;class Ii{constructor(t,e=(()=>(rL||(rL=new Ho(YK)),rL))()){this.value=t,this.children=e}static fromObject(t){let e=new Ii(null);return ms(t,(i,r)=>{e=e.set(new ei(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:jn(),value:this.value};if(Cn(t))return null;{const i=wn(t),r=this.children.get(i);if(null!==r){const l=r.findRootMostMatchingPathAndValue(pi(t),e);return null!=l?{path:Yi(new ei(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Cn(t))return this;{const e=wn(t),i=this.children.get(e);return null!==i?i.subtree(pi(t)):new Ii(null)}}set(t,e){if(Cn(t))return new Ii(e,this.children);{const i=wn(t),l=(this.children.get(i)||new Ii(null)).set(pi(t),e),u=this.children.insert(i,l);return new Ii(this.value,u)}}remove(t){if(Cn(t))return this.children.isEmpty()?new Ii(null):new Ii(null,this.children);{const e=wn(t),i=this.children.get(e);if(i){const r=i.remove(pi(t));let l;return l=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&l.isEmpty()?new Ii(null):new Ii(this.value,l)}return this}}get(t){if(Cn(t))return this.value;{const e=wn(t),i=this.children.get(e);return i?i.get(pi(t)):null}}setTree(t,e){if(Cn(t))return e;{const i=wn(t),l=(this.children.get(i)||new Ii(null)).setTree(pi(t),e);let u;return u=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new Ii(this.value,u)}}fold(t){return this.fold_(jn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,l)=>{i[r]=l.fold_(Yi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,jn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Cn(t))return null;{const l=wn(t),u=this.children.get(l);return u?u.findOnPath_(pi(t),Yi(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,jn(),e)}foreachOnPath_(t,e,i){if(Cn(t))return this;{this.value&&i(e,this.value);const r=wn(t),l=this.children.get(r);return l?l.foreachOnPath_(pi(t),Yi(e,r),i):new Ii(null)}}foreach(t){this.foreach_(jn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Yi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class zl{constructor(t){this.writeTree_=t}static empty(){return new zl(new Ii(null))}}function k1(n,t,e){if(Cn(t))return new zl(new Ii(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let l=i.value;const u=Io(r,t);return l=l.updateChild(u,e),new zl(n.writeTree_.set(r,l))}{const r=new Ii(e),l=n.writeTree_.setTree(t,r);return new zl(l)}}}function sL(n,t,e){let i=n;return ms(e,(r,l)=>{i=k1(i,Yi(t,r),l)}),i}function Oj(n,t){if(Cn(t))return zl.empty();{const e=n.writeTree_.setTree(t,new Ii(null));return new zl(e)}}function oL(n,t){return null!=I_(n,t)}function I_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Io(e.path,t)):null}function Pj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Si,(i,r)=>{t.push(new Dn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Dn(i,r.value))}),t}function Mp(n,t){if(Cn(t))return n;{const e=I_(n,t);return new zl(null!=e?new Ii(e):n.writeTree_.subtree(t))}}function aL(n){return n.writeTree_.isEmpty()}function Fb(n,t){return Fj(jn(),n.writeTree_,t)}function Fj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,l)=>{".priority"===r?((0,F.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=Fj(Yi(n,r),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Yi(n,".priority"),i)),e}}function oN(n,t){return $j(t,n)}function yQ(n,t){if(n.snap)return rl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&rl(Yi(n.path,e),t))return!0;return!1}function bQ(n){return n.visible}function Lj(n,t,e){let i=zl.empty();for(let r=0;r<n.length;++r){const l=n[r];if(t(l)){const u=l.path;let f;if(l.snap)rl(e,u)?(f=Io(e,u),i=k1(i,f,l.snap)):rl(u,e)&&(f=Io(u,e),i=k1(i,jn(),l.snap.getChild(f)));else{if(!l.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(rl(e,u))f=Io(e,u),i=sL(i,f,l.children);else if(rl(u,e))if(f=Io(u,e),Cn(f))i=sL(i,jn(),l.children);else{const g=(0,F.DV)(l.children,wn(f));if(g){const y=g.getChild(pi(f));i=k1(i,jn(),y)}}}}}return i}function Vj(n,t,e,i,r){if(i||r){const l=Mp(n.visibleWrites,t);return!r&&aL(l)?e:r||null!=e||oL(l,jn())?Fb(Lj(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(rl(y.path,t)||rl(t,y.path))},t),e||ln.EMPTY_NODE):null}{const l=I_(n.visibleWrites,t);if(null!=l)return l;{const u=Mp(n.visibleWrites,t);return aL(u)?e:null!=e||oL(u,jn())?Fb(u,e||ln.EMPTY_NODE):null}}}function aN(n,t,e,i){return Vj(n.writeTree,n.treePath,t,e,i)}function lL(n,t){return function(n,t,e){let i=ln.EMPTY_NODE;const r=I_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Si,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(e){const l=Mp(n.visibleWrites,t);return e.forEachChild(Si,(u,f)=>{const g=Fb(Mp(l,new ei(u)),f);i=i.updateImmediateChild(u,g)}),Pj(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return Pj(Mp(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function Uj(n,t,e,i){return function(n,t,e,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const l=Yi(t,e);if(oL(n.visibleWrites,l))return null;{const u=Mp(n.visibleWrites,l);return aL(u)?r.getChild(e):Fb(u,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function lN(n,t){return function(n,t){return I_(n.visibleWrites,t)}(n.writeTree,Yi(n.treePath,t))}function cL(n,t,e){return function(n,t,e,i){const r=Yi(t,e),l=I_(n.visibleWrites,r);return null!=l?l:i.isCompleteForChild(e)?Fb(Mp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Bj(n,t){return $j(Yi(n.treePath,t),n.writeTree)}function $j(n,t){return{treePath:n,writeTree:t}}class AQ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const l=r.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,I1(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,S1(i,r.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,xb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,I1(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Hj=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class uL{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ap(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cL(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:S_(this.viewCache_),l=function(n,t,e,i,r,l){return function(n,t,e,i,r,l,u){let f;const g=Mp(n.visibleWrites,t),y=I_(g,jn());if(null!=y)f=y;else{if(null==e)return[];f=Fb(g,e)}if(f=f.withIndex(u),f.isEmpty()||f.isLeafNode())return[];{const E=[],T=u.getCompare(),I=l?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let R=I.getNext();for(;R&&E.length<r;)0!==T(R,i)&&E.push(R),R=I.getNext();return E}}(n.writeTree,n.treePath,t,e,i,r,l)}(this.writes_,r,e,1,i,t);return 0===l.length?null:l[0]}}function jj(n,t,e,i,r,l){const u=t.eventCache;if(null!=lN(i,e))return t;{let f,g;if(Cn(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=S_(t),T=lL(i,y instanceof ln?y:ln.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),T,l)}else{const y=aN(i,S_(t));f=n.filter.updateFullNode(t.eventCache.getNode(),y,l)}else{const y=wn(e);if(".priority"===y){(0,F.hu)(1===Ip(e),"Can't have a priority with additional path components");const E=u.getNode();g=t.serverCache.getNode();const T=Uj(i,e,E,g);f=null!=T?n.filter.updatePriority(E,T):u.getNode()}else{const E=pi(e);let T;if(u.isCompleteForChild(y)){g=t.serverCache.getNode();const I=Uj(i,e,u.getNode(),g);T=null!=I?u.getNode().getImmediateChild(y).updateChild(E,I):u.getNode().getImmediateChild(y)}else T=cL(i,y,t.serverCache);f=null!=T?n.filter.updateChild(u.getNode(),y,T,E,r,l):u.getNode()}}return R1(t,f,u.isFullyInitialized()||Cn(e),n.filter.filtersNodes())}}function cN(n,t,e,i,r,l,u,f){const g=t.serverCache;let y;const E=u?n.filter:n.filter.getIndexedFilter();if(Cn(e))y=E.updateFullNode(g.getNode(),i,null);else if(E.filtersNodes()&&!g.isFiltered()){const R=g.getNode().updateChild(e,i);y=E.updateFullNode(g.getNode(),R,null)}else{const R=wn(e);if(!g.isCompleteForPath(e)&&Ip(e)>1)return t;const U=pi(e),fe=g.getNode().getImmediateChild(R).updateChild(U,i);y=".priority"===R?E.updatePriority(g.getNode(),fe):E.updateChild(g.getNode(),R,fe,U,Hj,null)}const T=xj(t,y,g.isFullyInitialized()||Cn(e),E.filtersNodes());return jj(n,T,e,r,new uL(r,T,l),f)}function dL(n,t,e,i,r,l,u){const f=t.eventCache;let g,y;const E=new uL(r,t,l);if(Cn(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,u),g=R1(t,y,!0,n.filter.filtersNodes());else{const T=wn(e);if(".priority"===T)y=n.filter.updatePriority(t.eventCache.getNode(),i),g=R1(t,y,f.isFullyInitialized(),f.isFiltered());else{const I=pi(e),R=f.getNode().getImmediateChild(T);let U;if(Cn(I))U=i;else{const te=E.getCompleteChild(T);U=null!=te?".priority"===$F(I)&&te.getChild(gj(I)).isEmpty()?te:te.updateChild(I,i):ln.EMPTY_NODE}g=R.equals(U)?t:R1(t,n.filter.updateChild(f.getNode(),T,U,I,E,u),f.isFullyInitialized(),n.filter.filtersNodes())}}return g}function Zj(n,t){return n.eventCache.isCompleteForChild(t)}function Gj(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function hL(n,t,e,i,r,l,u,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,g=t;y=Cn(e)?i:new Ii(null).setTree(e,i);const E=t.serverCache.getNode();return y.children.inorderTraversal((T,I)=>{if(E.hasChild(T)){const U=Gj(0,t.serverCache.getNode().getImmediateChild(T),I);g=cN(n,g,new ei(T),U,r,l,u,f)}}),y.children.inorderTraversal((T,I)=>{const R=!t.serverCache.isCompleteForChild(T)&&void 0===I.value;if(!E.hasChild(T)&&!R){const te=Gj(0,t.serverCache.getNode().getImmediateChild(T),I);g=cN(n,g,new ei(T),te,r,l,u,f)}}),g}class VQ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new KF(i.getIndex()),l=function(n){return n.loadsAllData()?new KF(n.getIndex()):n.hasLimit()?new Q9(n):new A1(n)}(i);this.processor_=function(n){return{filter:n}}(l);const u=e.serverCache,f=e.eventCache,g=r.updateFullNode(ln.EMPTY_NODE,u.getNode(),null),y=l.updateFullNode(ln.EMPTY_NODE,f.getNode(),null),E=new Ap(g,u.isFullyInitialized(),r.filtersNodes()),T=new Ap(y,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=rN(T,E),this.eventGenerator_=new cQ(this.query_)}get query(){return this.query_}}function $Q(n,t){const e=S_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Cn(t)&&!e.getImmediateChild(wn(t)).isEmpty())?e.getChild(t):null}function qj(n){return 0===n.eventRegistrations_.length}function zj(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(e,r);u&&i.push(u)})}if(t){let r=[];for(let l=0;l<n.eventRegistrations_.length;++l){const u=n.eventRegistrations_[l];if(u.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(l+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Wj(n,t,e,i){t.type===sl.MERGE&&null!==t.source.queryId&&((0,F.hu)(S_(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(sN(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,l=function(n,t,e,i,r){const l=new AQ;let u,f;if(e.type===sl.OVERWRITE){const y=e;y.source.fromUser?u=dL(n,t,y.path,y.snap,i,r,l):((0,F.hu)(y.source.fromServer,"Unknown source."),f=y.source.tagged||t.serverCache.isFiltered()&&!Cn(y.path),u=cN(n,t,y.path,y.snap,i,r,f,l))}else if(e.type===sl.MERGE){const y=e;y.source.fromUser?u=function(n,t,e,i,r,l,u){let f=t;return i.foreach((g,y)=>{const E=Yi(e,g);Zj(t,wn(E))&&(f=dL(n,f,E,y,r,l,u))}),i.foreach((g,y)=>{const E=Yi(e,g);Zj(t,wn(E))||(f=dL(n,f,E,y,r,l,u))}),f}(n,t,y.path,y.children,i,r,l):((0,F.hu)(y.source.fromServer,"Unknown source."),f=y.source.tagged||t.serverCache.isFiltered(),u=hL(n,t,y.path,y.children,i,r,f,l))}else if(e.type===sl.ACK_USER_WRITE){const y=e;u=y.revert?function(n,t,e,i,r,l){let u;if(null!=lN(i,e))return t;{const f=new uL(i,t,r),g=t.eventCache.getNode();let y;if(Cn(e)||".priority"===wn(e)){let E;if(t.serverCache.isFullyInitialized())E=aN(i,S_(t));else{const T=t.serverCache.getNode();(0,F.hu)(T instanceof ln,"serverChildren would be complete if leaf node"),E=lL(i,T)}E=E,y=n.filter.updateFullNode(g,E,l)}else{const E=wn(e);let T=cL(i,E,t.serverCache);null==T&&t.serverCache.isCompleteForChild(E)&&(T=g.getImmediateChild(E)),y=null!=T?n.filter.updateChild(g,E,T,pi(e),f,l):t.eventCache.getNode().hasChild(E)?n.filter.updateChild(g,E,ln.EMPTY_NODE,pi(e),f,l):g,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=aN(i,S_(t)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,l)))}return u=t.serverCache.isFullyInitialized()||null!=lN(i,jn()),R1(t,y,u,n.filter.filtersNodes())}}(n,t,y.path,i,r,l):function(n,t,e,i,r,l,u){if(null!=lN(r,e))return t;const f=t.serverCache.isFiltered(),g=t.serverCache;if(null!=i.value){if(Cn(e)&&g.isFullyInitialized()||g.isCompleteForPath(e))return cN(n,t,e,g.getNode().getChild(e),r,l,f,u);if(Cn(e)){let y=new Ii(null);return g.getNode().forEachChild(_u,(E,T)=>{y=y.set(new ei(E),T)}),hL(n,t,e,y,r,l,f,u)}return t}{let y=new Ii(null);return i.foreach((E,T)=>{const I=Yi(e,E);g.isCompleteForPath(I)&&(y=y.set(E,g.getNode().getChild(I)))}),hL(n,t,e,y,r,l,f,u)}}(n,t,y.path,y.affectedTree,i,r,l)}else{if(e.type!==sl.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);u=function(n,t,e,i,r){const l=t.serverCache;return jj(n,xj(t,l.getNode(),l.isFullyInitialized()||Cn(e),l.isFiltered()),e,i,Hj,r)}(n,t,e.path,i,l)}const g=l.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=sN(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(Mj(sN(t)))}}(t,u,g),{viewCache:u,changes:g}}(n.processor_,r,t,e,i);return function(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,F.hu)(l.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,Yj(n,l.changes,l.viewCache.eventCache.getNode(),null)}function Yj(n,t,e,i){return function(n,t,e,i){const r=[],l=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),N1(n,r,"child_removed",t,i,e),N1(n,r,"child_added",t,i,e),N1(n,r,"child_moved",l,i,e),N1(n,r,"child_changed",t,i,e),N1(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let uN,hN;class Kj{constructor(){this.views=new Map}}function fL(n,t,e,i){const r=t.source.queryId;if(null!==r){const l=n.views.get(r);return(0,F.hu)(null!=l,"SyncTree gave us an op for an invalid query."),Wj(l,t,e,i)}{let l=[];for(const u of n.views.values())l=l.concat(Wj(u,t,e,i));return l}}function Qj(n,t,e,i,r){const u=n.views.get(t._queryIdentifier);if(!u){let f=aN(e,r?i:null),g=!1;f?g=!0:i instanceof ln?(f=lL(e,i),g=!1):(f=ln.EMPTY_NODE,g=!1);const y=rN(new Ap(f,g,!1),new Ap(i,r,!1));return new VQ(t,y)}return u}function Jj(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Np(n,t){let e=null;for(const i of n.views.values())e=e||$Q(i,t);return e}function Xj(n,t){return t._queryParams.loadsAllData()?dN(n):n.views.get(t._queryIdentifier)}function e6(n,t){return null!=Xj(n,t)}function Rp(n){return null!=dN(n)}function dN(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let QQ=1;class t6{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ii(null),this.pendingWriteTree_={visibleWrites:zl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pL(n,t,e,i,r){return function(n,t,e,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=k1(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Lb(n,new T_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function kp(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,l=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=e&&yQ(f,i.path)?r=!1:rl(i.path,f.path)&&(l=!0)),u--}return!!r&&(l?(function(n){n.visibleWrites=Lj(n.allWrites,bQ,jn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Oj(n.visibleWrites,i.path):ms(i.children,g=>{n.visibleWrites=Oj(n.visibleWrites,Yi(i.path,g))}),!0))}(n.pendingWriteTree_,t)){let l=new Ii(null);return null!=i.snap?l=l.set(jn(),!0):ms(i.children,u=>{l=l.set(new ei(u),!0)}),Lb(n,new iN(i.path,l,e))}return[]}function x1(n,t,e){return Lb(n,new T_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function gL(n,t,e,i){const r=t._path,l=n.syncPointTree_.get(r);let u=[];if(l&&("default"===t._queryIdentifier||e6(l,t))){const f=function(n,t,e,i){const r=t._queryIdentifier,l=[];let u=[];const f=Rp(n);if("default"===r)for(const[g,y]of n.views.entries())u=u.concat(zj(y,e,i)),qj(y)&&(n.views.delete(g),y.query._queryParams.loadsAllData()||l.push(y.query));else{const g=n.views.get(r);g&&(u=u.concat(zj(g,e,i)),qj(g)&&(n.views.delete(r),g.query._queryParams.loadsAllData()||l.push(g.query)))}return f&&!Rp(n)&&l.push(new((0,F.hu)(uN,"Reference.ts has not been loaded"),uN)(t._repo,t._path)),{removed:l,events:u}}(l,t,e,i);(function(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const g=f.removed;u=f.events;const y=-1!==g.findIndex(T=>T._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(r,(T,I)=>Rp(I));if(y&&!E){const T=n.syncPointTree_.subtree(r);if(!T.isEmpty()){const I=function(n){return n.fold((t,e,i)=>{if(e&&Rp(e))return[dN(e)];{let r=[];return e&&(r=Jj(e)),ms(i,(l,u)=>{r=r.concat(u)}),r}})}(T);for(let R=0;R<I.length;++R){const U=I[R],te=U.query,fe=s6(n,U);n.listenProvider_.startListening(O1(te),pN(n,te),fe.hashFn,fe.onComplete)}}}if(!E&&g.length>0&&!i)if(y){const T=null;n.listenProvider_.stopListening(O1(t),T)}else g.forEach(T=>{const I=n.queryToTagMap.get(gN(T));n.listenProvider_.stopListening(O1(T),I)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=gN(i),l=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(l)}}}(n,g)}return u}function n6(n,t,e){const i=t._path;let r=null,l=!1;n.syncPointTree_.foreachOnPath(i,(T,I)=>{const R=Io(T,i);r=r||Np(I,R),l=l||Rp(I)});let f,u=n.syncPointTree_.get(i);u?(l=l||Rp(u),r=r||Np(u,jn())):(u=new Kj,n.syncPointTree_=n.syncPointTree_.set(i,u)),null!=r?f=!0:(f=!1,r=ln.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((I,R)=>{const U=Np(R,jn());U&&(r=r.updateImmediateChild(I,U))}));const g=e6(u,t);if(!g&&!t._queryParams.loadsAllData()){const T=gN(t);(0,F.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const I=QQ++;n.queryToTagMap.set(T,I),n.tagToQueryMap.set(I,T)}let E=function(n,t,e,i,r,l){const u=Qj(n,t,i,r,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function(n,t){n.eventRegistrations_.push(t)}(u,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Si,(l,u)=>{i.push(xb(l,u))}),e.isFullyInitialized()&&i.push(Mj(e.getNode())),Yj(n,i,e.getNode(),t)}(u,e)}(u,t,e,oN(n.pendingWriteTree_,i),r,f);if(!g&&!l){const T=Xj(u,t);E=E.concat(function(n,t,e){const i=t._path,r=pN(n,t),l=s6(n,e),u=n.listenProvider_.startListening(O1(t),r,l.hashFn,l.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!Rp(f.value),"If we're adding a query, it shouldn't be shadowed");else{const g=f.fold((y,E,T)=>{if(!Cn(y)&&E&&Rp(E))return[dN(E).query];{let I=[];return E&&(I=I.concat(Jj(E).map(R=>R.query))),ms(T,(R,U)=>{I=I.concat(U)}),I}});for(let y=0;y<g.length;++y){const E=g[y];n.listenProvider_.stopListening(O1(E),pN(n,E))}}return u}(n,t,T))}return E}function fN(n,t,e){const r=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(u,f)=>{const y=Np(f,Io(u,t));if(y)return y});return Vj(r,t,l,e,!0)}function Lb(n,t){return i6(t,n.syncPointTree_,null,oN(n.pendingWriteTree_,jn()))}function i6(n,t,e,i){if(Cn(n.path))return r6(n,t,e,i);{const r=t.get(jn());null==e&&null!=r&&(e=Np(r,jn()));let l=[];const u=wn(n.path),f=n.operationForChild(u),g=t.children.get(u);if(g&&f){const y=e?e.getImmediateChild(u):null,E=Bj(i,u);l=l.concat(i6(f,g,y,E))}return r&&(l=l.concat(fL(r,n,i,e))),l}}function r6(n,t,e,i){const r=t.get(jn());null==e&&null!=r&&(e=Np(r,jn()));let l=[];return t.children.inorderTraversal((u,f)=>{const g=e?e.getImmediateChild(u):null,y=Bj(i,u),E=n.operationForChild(u);E&&(l=l.concat(r6(E,f,g,y)))}),r&&(l=l.concat(fL(r,n,i,e))),l}function s6(n,t){const e=t.query,i=pN(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||ln.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=mL(n,e);if(i){const r=_L(i),l=r.path,u=r.queryId,f=Io(l,t);return yL(n,l,new M1(iL(u),f))}return[]}(n,e._path,i):function(n,t){return Lb(n,new M1({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return gL(n,e,null,l)}}}}function pN(n,t){const e=gN(t);return n.queryToTagMap.get(e)}function gN(n){return n._path.toString()+"$"+n._queryIdentifier}function mL(n,t){return n.tagToQueryMap.get(t)}function _L(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ei(n.substr(0,t))}}function yL(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),fL(i,e,oN(n.pendingWriteTree_,t),null)}function O1(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,F.hu)(hN,"Reference.ts has not been loaded"),hN)(n._repo,n._path):n}class vL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new vL(e)}node(){return this.node_}}class bL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Yi(this.path_,t);return new bL(this.syncTree_,e)}node(){return fN(this.syncTree_,this.path_)}}const o6=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?uJ(n[".sv"],t,e):"object"==typeof n[".sv"]?dJ(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},uJ=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,F.hu)(!1,"Unexpected server value: "+n)}},dJ=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,F.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},a6=function(n,t,e,i){return CL(t,new bL(e,n),i)},wL=function(n,t,e){return CL(n,new vL(t),e)};function CL(n,t,e){const i=n.getPriority().val(),r=o6(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const u=n,f=o6(u.getValue(),t,e);return f!==u.getValue()||r!==u.getPriority().val()?new Nb(f,sr(r)):n}{const u=n;return l=u,r!==u.getPriority().val()&&(l=l.updatePriority(new Nb(r))),u.forEachChild(Si,(f,g)=>{const y=CL(g,t.getImmediateChild(f),e);y!==g&&(l=l.updateImmediateChild(f,y))}),l}}class EL{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function mN(n,t){let e=t instanceof ei?t:new ei(t),i=n,r=wn(e);for(;null!==r;){const l=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new EL(r,i,l),e=pi(e),r=wn(e)}return i}function A_(n){return n.node.value}function DL(n,t){n.node.value=t,TL(n)}function l6(n){return n.node.childCount>0}function _N(n,t){ms(n.node.children,(e,i)=>{t(new EL(e,n,i))})}function c6(n,t,e,i){e&&!i&&t(n),_N(n,r=>{c6(r,t,!0,i)}),e&&i&&t(n)}function P1(n){return new ei(null===n.parent?n.name:P1(n.parent)+"/"+n.name)}function TL(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===A_(n)&&!l6(n)}(e),r=(0,F.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,TL(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,TL(n))}(n.parent,n.name,n)}const gJ=/[\[\].#$\/\u0000-\u001F\u007F]/,mJ=/[\[\].#$\u0000-\u001F\u007F]/,SL=10485760,yN=function(n){return"string"==typeof n&&0!==n.length&&!gJ.test(n)},u6=function(n){return"string"==typeof n&&0!==n.length&&!mJ.test(n)},F1=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!GM(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},yu=function(n,t,e,i){i&&void 0===t||L1((0,F.gK)(n,"value"),t,e)},L1=function(n,t,e){const i=e instanceof ei?new N9(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+E_(i));if("function"==typeof t)throw new Error(n+"contains a function "+E_(i)+" with contents = "+t.toString());if(GM(t))throw new Error(n+"contains "+t.toString()+" "+E_(i));if("string"==typeof t&&t.length>SL/3&&(0,F.ug)(t)>SL)throw new Error(n+"contains a string greater than "+SL+" utf8 bytes "+E_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,l=!1;if(ms(t,(u,f)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(l=!0,!yN(u)))throw new Error(n+" contains an invalid key ("+u+") "+E_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),mj(n)})(i,u),L1(n,f,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&l)throw new Error(n+' contains ".value" child '+E_(i)+" in addition to actual children.")}},d6=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const l=[];ms(t,(u,f)=>{const g=new ei(u);if(L1(r,f,Yi(e,g)),".priority"===$F(g)&&!F1(f))throw new Error(r+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(g)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=C1(i);for(let u=0;u<l.length;u++)if((".priority"!==l[u]||u!==l.length-1)&&!yN(l[u]))throw new Error(n+"contains an invalid key ("+l[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(M9);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&rl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,l)},IL=function(n,t,e){if(!e||void 0!==t){if(GM(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!F1(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},V1=function(n,t,e,i){if(!(i&&void 0===e||yN(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},U1=function(n,t,e,i){if(!(i&&void 0===e||u6(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ol=function(n,t){if(".info"===wn(t))throw new Error(n+" failed = Can't modify data under /.info/")},h6=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!yN(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),u6(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bJ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vN(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],l=r.getPath();null!==e&&!HF(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(r)}e&&n.eventLists_.push(e)}function AL(n,t,e){vN(n,e),f6(n,i=>HF(i,t))}function al(n,t,e){vN(n,e),f6(n,i=>rl(i,t)||rl(t,i))}function f6(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(wJ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function wJ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();w_&&gs("event: "+e.toString()),Ab(i)}}}const p6="repo_interrupt";class EJ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nN(),this.transactionQueueTree_=new EL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function g6(n){const e=n.infoData_.getNode(new ei(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function B1(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:g6(n)})}function m6(n,t,e,i,r){n.dataUpdateCount++;const l=new ei(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(r)if(i){const g=(0,F.UI)(e,y=>sr(y));u=function(n,t,e,i){const r=mL(n,i);if(r){const l=_L(r),u=l.path,f=l.queryId,g=Io(u,t),y=Ii.fromObject(e);return yL(n,u,new Pb(iL(f),g,y))}return[]}(n.serverSyncTree_,l,g,r)}else{const g=sr(e);u=function(n,t,e,i){const r=mL(n,i);if(null!=r){const l=_L(r),u=l.path,f=l.queryId,g=Io(u,t);return yL(n,u,new T_(iL(f),g,e))}return[]}(n.serverSyncTree_,l,g,r)}else if(i){const g=(0,F.UI)(e,y=>sr(y));u=function(n,t,e){const i=Ii.fromObject(e);return Lb(n,new Pb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,g)}else{const g=sr(e);u=x1(n.serverSyncTree_,l,g)}let f=l;u.length>0&&(f=Ub(n,l)),al(n.eventQueue_,f,u)}function _6(n,t){ML(n,"connected",t),!1===t&&function(n){Vb(n,"onDisconnectEvents");const t=B1(n),e=nN();eL(n.onDisconnect_,jn(),(r,l)=>{const u=a6(r,l,n.serverSyncTree_,t);Ob(e,r,u)});let i=[];eL(e,jn(),(r,l)=>{i=i.concat(x1(n.serverSyncTree_,r,l));const u=xL(n,r);Ub(n,u)}),n.onDisconnect_=nN(),al(n.eventQueue_,jn(),i)}(n)}function ML(n,t,e){const i=new ei("/.info/"+t),r=sr(e);n.infoData_.updateSnapshot(i,r);const l=x1(n.infoSyncTree_,i,r);al(n.eventQueue_,i,l)}function bN(n){return n.nextWriteId_++}function NL(n,t,e,i,r){Vb(n,"set",{path:t.toString(),value:e,priority:i});const l=B1(n),u=sr(e,i),f=fN(n.serverSyncTree_,t),g=wL(u,f,l),y=bN(n),E=pL(n.serverSyncTree_,t,g,y,!0);vN(n.eventQueue_,E),n.server_.put(t.toString(),u.val(!0),(I,R)=>{const U="ok"===I;U||So("set at "+t+" failed: "+I);const te=kp(n.serverSyncTree_,y,!U);al(n.eventQueue_,t,te),xp(0,r,I,R)});const T=xL(n,t);Ub(n,T),al(n.eventQueue_,T,[])}function MJ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&XF(n.onDisconnect_,t),xp(0,e,i,r)})}function y6(n,t,e,i){const r=sr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(l,u)=>{"ok"===l&&Ob(n.onDisconnect_,t,r),xp(0,i,l,u)})}function RL(n,t,e){let i;i=".info"===wn(t._path)?gL(n.infoSyncTree_,t,e):gL(n.serverSyncTree_,t,e),AL(n.eventQueue_,t._path,i)}function v6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(p6)}function Vb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),gs(e,...t)}function xp(n,t,e,i){t&&Ab(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let l=r;i&&(l+=": "+i);const u=new Error(l);u.code=r,t(u)}})}function kL(n,t,e){return fN(n.serverSyncTree_,t,e)||ln.EMPTY_NODE}function wN(n,t=n.transactionQueueTree_){if(t||CN(n,t),A_(t)){const e=w6(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(y=>y.currentWriteId),r=kL(n,t,i);let l=r;const u=r.hash();for(let y=0;y<e.length;y++){const E=e[y];(0,F.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=Io(t,E.path);l=l.updateChild(T,E.currentOutputSnapshotRaw)}const f=l.val(!0),g=t;n.server_.put(g.toString(),f,y=>{Vb(n,"transaction put response",{path:g.toString(),status:y});let E=[];if("ok"===y){const T=[];for(let I=0;I<e.length;I++)e[I].status=2,E=E.concat(kp(n.serverSyncTree_,e[I].currentWriteId)),e[I].onComplete&&T.push(()=>e[I].onComplete(null,!0,e[I].currentOutputSnapshotResolved)),e[I].unwatcher();CN(n,mN(n.transactionQueueTree_,t)),wN(n,n.transactionQueueTree_),al(n.eventQueue_,t,E);for(let I=0;I<T.length;I++)Ab(T[I])}else{if("datastale"===y)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{So("transaction at "+g.toString()+" failed: "+y);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=y}Ub(n,t)}},u)}(n,P1(t),e)}else l6(t)&&_N(t,e=>{wN(n,e)})}function Ub(n,t){const e=b6(n,t),i=P1(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const u=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const g=t[f],y=Io(e,g.path);let T,E=!1;if((0,F.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)E=!0,T=g.abortReason,r=r.concat(kp(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=25)E=!0,T="maxretry",r=r.concat(kp(n.serverSyncTree_,g.currentWriteId,!0));else{const I=kL(n,g.path,u);g.currentInputSnapshot=I;const R=t[f].update(I.val());if(void 0!==R){L1("transaction failed: Data returned ",R,g.path);let U=sr(R);"object"==typeof R&&null!=R&&(0,F.r3)(R,".priority")||(U=U.updatePriority(I.getPriority()));const fe=g.currentWriteId,We=B1(n),Je=wL(U,I,We);g.currentOutputSnapshotRaw=U,g.currentOutputSnapshotResolved=Je,g.currentWriteId=bN(n),u.splice(u.indexOf(fe),1),r=r.concat(pL(n.serverSyncTree_,g.path,Je,g.currentWriteId,g.applyLocally)),r=r.concat(kp(n.serverSyncTree_,fe,!0))}else E=!0,T="nodata",r=r.concat(kp(n.serverSyncTree_,g.currentWriteId,!0))}al(n.eventQueue_,e,r),r=[],E&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&i.push("nodata"===T?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(T),!1,null)))}CN(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)Ab(i[f]);wN(n,n.transactionQueueTree_)}(n,w6(n,e),i),i}function b6(n,t){let e,i=n.transactionQueueTree_;for(e=wn(t);null!==e&&void 0===A_(i);)i=mN(i,e),e=wn(t=pi(t));return i}function w6(n,t){const e=[];return C6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function C6(n,t,e){const i=A_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);_N(t,r=>{C6(n,r,e)})}function CN(n,t){const e=A_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,DL(t,e.length>0?e:void 0)}_N(t,i=>{CN(n,i)})}function xL(n,t){const e=P1(b6(n,t)),i=mN(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{OL(n,r)}),OL(n,i),c6(i,r=>{OL(n,r)}),e}function OL(n,t){const e=A_(t);if(e){const i=[];let r=[],l=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,F.hu)(l===u-1,"All SENT items should be at beginning of queue."),l=u,e[u].status=3,e[u].abortReason="set"):((0,F.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),r=r.concat(kp(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===l?DL(t,void 0):e.length=l+1,al(n.eventQueue_,P1(t),r);for(let u=0;u<i.length;u++)Ab(i[u])}}const PL=function(n,t){const e=UJ(n),i=e.namespace;return"firebase.com"===e.domain&&gu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&gu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&So("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new OF(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new ei(e.pathString)}},UJ=function(n){let t="",e="",i="",r="",l="",u=!0,f="https",g=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(f=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(E,T)),E<T&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(l){}t+="/"+r}return t}(n.substring(E,T)));const I=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):So(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));y=t.indexOf(":"),y>=0?(u="https"===f||"wss"===f,g=parseInt(t.substring(y+1),10)):y=t.length;const R=t.slice(0,y);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const U=t.indexOf(".");i=t.substring(0,U).toLowerCase(),e=t.substring(U+1),l=i}"ns"in I&&(l=I.ns)}return{host:t,port:g,domain:e,subdomain:i,secure:u,scheme:f,pathString:r,namespace:l}};class E6{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class D6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class T6{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class S6{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return MJ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ol("OnDisconnect.remove",this._path);const t=new F.BH;return y6(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ol("OnDisconnect.set",this._path),yu("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return y6(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ol("OnDisconnect.setWithPriority",this._path),yu("OnDisconnect.setWithPriority",t,this._path,!1),IL("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function(n,t,e,i,r){const l=sr(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(u,f)=>{"ok"===u&&Ob(n.onDisconnect_,t,l),xp(0,r,u,f)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ol("OnDisconnect.update",this._path),d6("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function(n,t,e,i){if((0,F.xb)(e))return gs("onDisconnect().update() called with empty data.  Don't do anything."),void xp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,l)=>{"ok"===r&&ms(e,(u,f)=>{const g=sr(f);Ob(n.onDisconnect_,Yi(t,u),g)}),xp(0,i,r,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class jo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Cn(this._path)?null:$F(this._path)}get ref(){return new ll(this._repo,this._path)}get _queryIdentifier(){const t=Rj(this._queryParams),e=RF(t);return"{}"===e?"default":e}get _queryObject(){return Rj(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof jo))return!1;const e=this._repo===t._repo,i=HF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function EN(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Op(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===_u){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==eh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==mu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Si){if(null!=t&&!F1(t)||null!=e&&!F1(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof zF||n.getIndex()===WF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function DN(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ll extends jo{constructor(t,e){super(t,e,new XM,!1)}get parent(){const t=gj(this._path);return null===t?null:new ll(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class M_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ei(t),i=N_(this.ref,t);return new M_(this._node.getChild(e),i,Si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new M_(r,N_(this.ref,i),Si)))}hasChild(t){const e=new ei(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function I6(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?N_(n._root,t):n._root}function A6(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=PL(t,n._repo.repoInfo_.nodeAdmin);h6("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&gu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),I6(n,e.path.toString())}function N_(n,t){return null===wn((n=(0,F.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),U1("child","path",e,!1)):U1("child","path",t,!1),new ll(n._repo,Yi(n._path,t));var e}function FL(n,t){n=(0,F.m9)(n),ol("set",n._path),yu("set",t,n._path,!1);const e=new F.BH;return NL(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ZJ(n,t){d6("update",t,n._path,!1);const e=new F.BH;return function(n,t,e,i){Vb(n,"update",{path:t.toString(),value:e});let r=!0;const l=B1(n),u={};if(ms(e,(f,g)=>{r=!1,u[f]=a6(Yi(t,f),sr(g),n.serverSyncTree_,l)}),r)gs("update() called with empty data.  Don't do anything."),xp(0,i,"ok",void 0);else{const f=bN(n),g=function(n,t,e,i){!function(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=sL(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Ii.fromObject(e);return Lb(n,new Pb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,u,f);vN(n.eventQueue_,g),n.server_.merge(t.toString(),e,(y,E)=>{const T="ok"===y;T||So("update at "+t+" failed: "+y);const I=kp(n.serverSyncTree_,f,!T),R=I.length>0?Ub(n,t):t;al(n.eventQueue_,R,I),xp(0,i,y,E)}),ms(e,y=>{const E=xL(n,Yi(t,y));Ub(n,E)}),al(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function GJ(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,E)=>{const T=Io(y,e);i=i||Np(E,T)});let r=n.syncPointTree_.get(e);r?i=i||Np(r,jn()):(r=new Kj,n.syncPointTree_=n.syncPointTree_.set(e,r));const l=null!=i,u=l?new Ap(i,!0,!1):null;return function(n){return sN(n.viewCache_)}(Qj(r,t,oN(n.pendingWriteTree_,t._path),l?u.getNode():ln.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=sr(i).withIndex(t._queryParams.getIndex()),l=x1(n.serverSyncTree_,t._path,r);return AL(n.eventQueue_,t._path,l),Promise.resolve(r)},i=>(Vb(n,"get for query "+(0,F.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,F.m9)(n))._repo,n).then(t=>new M_(t,new ll(n._repo,n._path),n._queryParams.getIndex()))}class TN{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new E6("value",this,new M_(t.snapshotNode,new ll(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new D6(this,t,e):null}matches(t){return t instanceof TN&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class SN{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new D6(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=N_(new ll(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new E6(t.type,this,new M_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof SN&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $1(n,t,e,i,r){let l;if("object"==typeof i&&(l=void 0,r=i),"function"==typeof i&&(l=i),r&&r.onlyOnce){const g=e,y=(E,T)=>{RL(n._repo,n,f),g(E,T)};y.userCallback=e.userCallback,y.context=e.context,e=y}const u=new T6(e,l||void 0),f="value"===t?new TN(u):new SN(t,u);return function(n,t,e){let i;i=".info"===wn(t._path)?n6(n.infoSyncTree_,t,e):n6(n.serverSyncTree_,t,e),AL(n.eventQueue_,t._path,i)}(n._repo,n,f),()=>RL(n._repo,n,f)}function LL(n,t,e,i){return $1(n,"value",t,e,i)}function M6(n,t,e,i){return $1(n,"child_added",t,e,i)}function N6(n,t,e,i){return $1(n,"child_changed",t,e,i)}function R6(n,t,e,i){return $1(n,"child_moved",t,e,i)}function k6(n,t,e,i){return $1(n,"child_removed",t,e,i)}function x6(n,t,e){let i=null;const r=e?new T6(e):null;"value"===t?i=new TN(r):t&&(i=new SN(t,r)),RL(n._repo,n,i)}class Wl{}class O6 extends Wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yu("endAt",this._value,t._path,!0);const e=JF(t._queryParams,this._value,this._key);if(DN(e),Op(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jo(t._repo,t._path,e,t._orderByCalled)}}class zJ extends Wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yu("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,r;return n.index_===_u?("string"==typeof t&&(t=Aj(t)),r=JF(n,t,e)):(i=null==e?eh:Aj(e),r=JF(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(DN(e),Op(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jo(t._repo,t._path,e,t._orderByCalled)}}class P6 extends Wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yu("startAt",this._value,t._path,!0);const e=QF(t._queryParams,this._value,this._key);if(DN(e),Op(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jo(t._repo,t._path,e,t._orderByCalled)}}class KJ extends Wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yu("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===_u)"string"==typeof t&&(t=Ij(t)),i=QF(n,t,e);else{let r;r=null==e?mu:Ij(e),i=QF(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(DN(e),Op(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new jo(t._repo,t._path,e,t._orderByCalled)}}class JJ extends Wl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new jo(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class eX extends Wl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new jo(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class nX extends Wl{constructor(t){super(),this._path=t}_apply(t){EN(t,"orderByChild");const e=new ei(this._path);if(Cn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new zF(e),r=eN(t._queryParams,i);return Op(r),new jo(t._repo,t._path,r,!0)}}class rX extends Wl{_apply(t){EN(t,"orderByKey");const e=eN(t._queryParams,_u);return Op(e),new jo(t._repo,t._path,e,!0)}}class oX extends Wl{_apply(t){EN(t,"orderByPriority");const e=eN(t._queryParams,Si);return Op(e),new jo(t._repo,t._path,e,!0)}}class lX extends Wl{_apply(t){EN(t,"orderByValue");const e=eN(t._queryParams,WF);return Op(e),new jo(t._repo,t._path,e,!0)}}class uX extends Wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(yu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new O6(this._value,this._key)._apply(new P6(this._value,this._key)._apply(t))}}function Yl(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,F.hu)(!uN,"__referenceConstructor has already been defined"),uN=n})(ll),function(n){(0,F.hu)(!hN,"__referenceConstructor has already been defined"),hN=n}(ll);const VL={};function L6(n,t,e,i,r){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||gu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gs("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,y,u=PL(l,r),f=u.repoInfo;"undefined"!=typeof process&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(g=!0,l=`http://${y}?ns=${f.namespace}`,u=PL(l,r),f=u.repoInfo):g=!u.repoInfo.secure;const E=r&&g?new v1(v1.OWNER):new n9(n.name,n.options,t);h6("Invalid Firebase Database URL",u),Cn(u.path)||gu("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function(n,t,e,i){let r=VL[t.name];r||(r={},VL[t.name]=r);let l=r[n.toURLString()];return l&&gu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new EJ(n,false,e,i),r[n.toURLString()]=l,l}(f,n,E,new t9(n.name,e));return new _X(T,n)}class _X{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=LF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new tN(n.repoInfo_,(i,r,l,u)=>{m6(n,i,r,l,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_6(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new D_(n.repoInfo_,t,(i,r,l,u)=>{m6(n,i,r,l,u)},i=>{_6(n,i)},i=>{!function(n,t){ms(t,(e,i)=>{ML(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return FF[e]||(FF[e]=t()),FF[e]}(n.repoInfo_,()=>new lQ(n.stats_,n.server_)),n.infoData_=new iQ,n.infoSyncTree_=new t6({startListening:(i,r,l,u)=>{let f=[];const g=n.infoData_.getNode(i._path);return g.isEmpty()||(f=x1(n.infoSyncTree_,i._path,g),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),ML(n,"connected",!1),n.serverSyncTree_=new t6({startListening:(i,r,l,u)=>(n.server_.listen(i,l,r,(f,g)=>{const y=u(f,g);al(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ll(this._repo,jn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=VL[t];(!e||e[n.key]!==n)&&gu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),v6(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gu("Cannot call "+t+" on a deleted database.")}}function yX(n=(0,xi.getApp)(),t){return(0,xi._getProvider)(n,"database").getImmediate({identifier:t})}function CX(n,t){UH(n,t)}class IX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}D_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},D_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},OH(xi.SDK_VERSION),(0,xi._registerComponent)(new xo.wA("database",(t,{instanceIdentifier:e})=>L6(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,xi.registerVersion)(kH,"0.12.4",void 0),(0,xi.registerVersion)(kH,"0.12.4","esm2017");const RX=new fo.Yd("@firebase/database-compat"),V6=function(n){RX.warn("FIREBASE WARNING: "+n)};class OX{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),l=>i(l)),r}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let l=0;l<t.length;++l)r[""+l]=t[l];t=r,V6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class PX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Pp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),U1("DataSnapshot.child","path",t,!1),new Pp(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),U1("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Pp(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Da(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class xs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var l;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const u=xs.getCancelAndContextArgs_("Query.on",i,r),f=(y,E)=>{e.call(u.context,new Pp(this.database,y),E)};f.userCallback=e,f.context=u.context;const g=null===(l=u.cancel)||void 0===l?void 0:l.bind(u.context);switch(t){case"value":return LL(this._delegate,f,g),e;case"child_added":return M6(this._delegate,f,g),e;case"child_removed":return k6(this._delegate,f,g),e;case"child_changed":return N6(this._delegate,f,g),e;case"child_moved":return R6(this._delegate,f,g),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,x6(this._delegate,t,r)}else x6(this._delegate,t)}get(){return GJ(this._delegate).then(t=>new Pp(this.database,t))}once(t,e,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const l=xs.getCancelAndContextArgs_("Query.once",i,r),u=new F.BH,f=(y,E)=>{const T=new Pp(this.database,y);e&&e.call(l.context,T,E),u.resolve(T)};f.userCallback=e,f.context=l.context;const g=y=>{l.cancel&&l.cancel.call(l.context,y),u.reject(y)};switch(t){case"value":LL(this._delegate,f,g,{onlyOnce:!0});break;case"child_added":M6(this._delegate,f,g,{onlyOnce:!0});break;case"child_removed":k6(this._delegate,f,g,{onlyOnce:!0});break;case"child_changed":N6(this._delegate,f,g,{onlyOnce:!0});break;case"child_moved":R6(this._delegate,f,g,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new xs(this.database,Yl(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new JJ(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new xs(this.database,Yl(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eX(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new xs(this.database,Yl(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return U1("orderByChild","path",n,!1),new nX(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new xs(this.database,Yl(this._delegate,new rX))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new xs(this.database,Yl(this._delegate,new oX))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new xs(this.database,Yl(this._delegate,new lX))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new xs(this.database,Yl(this._delegate,function(n=null,t){return V1("startAt","key",t,!0),new P6(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new xs(this.database,Yl(this._delegate,function(n,t){return V1("startAfter","key",t,!0),new KJ(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new xs(this.database,Yl(this._delegate,function(n,t){return V1("endAt","key",t,!0),new O6(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new xs(this.database,Yl(this._delegate,function(n,t){return V1("endBefore","key",t,!0),new zJ(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new xs(this.database,Yl(this._delegate,function(n,t){return V1("equalTo","key",t,!0),new uX(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof xs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,F.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Da(this.database,new ll(this._delegate._repo,this._delegate._path))}}class Da extends xs{constructor(t,e){super(t,new jo(e._repo,e._path,new XM,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Da(this.database,N_(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Da(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Da(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=FL(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let l=0;l<t.length;++l)r[""+l]=t[l];t=r,V6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ol("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=ZJ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(ol("setWithPriority",n._path),yu("setWithPriority",t,n._path,!1),IL("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return NL(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),l=>i(l)),r}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return ol("remove",n._path),FL(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=(0,F.m9)(n),ol("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new F.BH,f=LL(n,()=>{});return function(n,t,e,i,r,l){Vb(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:FH(),applyLocally:l,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=kL(n,t,void 0);u.currentInputSnapshot=f;const g=u.update(f.val());if(void 0===g)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{L1("transaction failed: Data returned ",g,u.path),u.status=0;const y=mN(n.transactionQueueTree_,t),E=A_(y)||[];let T;E.push(u),DL(y,E),"object"==typeof g&&null!==g&&(0,F.r3)(g,".priority")?(T=(0,F.DV)(g,".priority"),(0,F.hu)(F1(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(fN(n.serverSyncTree_,t)||ln.EMPTY_NODE).getPriority().val();const I=B1(n),R=sr(g,T),U=wL(R,f,I);u.currentOutputSnapshotRaw=R,u.currentOutputSnapshotResolved=U,u.currentWriteId=bN(n);const te=pL(n.serverSyncTree_,t,U,u.currentWriteId,u.applyLocally);al(n.eventQueue_,t,te),wN(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(g,y,E)=>{let T=null;g?l.reject(g):(T=new M_(E,new ll(n._repo,n._path),Si),l.resolve(new IX(y,T)))},f,r),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new PX(l.committed,new Pp(this.database,l.snapshot)));return e&&r.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),r}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,F.m9)(n),ol("setPriority",n._path),IL("setPriority",t,!1);const e=new F.BH;return NL(n._repo,Yi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,F.m9)(n),ol("push",n._path),yu("push",t,n._path,!0);const e=g6(n._repo),i=Y9(e),r=N_(n,i),l=N_(n,i);let u;return u=null!=t?FL(l,t).then(()=>l):Promise.resolve(l),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,t),r=i.then(u=>new Da(this.database,u));e&&r.then(()=>e(null),u=>e(u));const l=new Da(this.database,i);return l.then=r.then.bind(r),l.catch=r.catch.bind(r,void 0),l}onDisconnect(){return ol("Reference.onDisconnect",this._delegate._path),new OX(new S6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class H1{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let l;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&gu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new v1(v1.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);l=new v1(u)}!function(n,t,e,i){n.repoInfo_=new OF(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Da){const e=A6(this._delegate,t.toString());return new Da(this,e)}{const e=I6(this._delegate,t);return new Da(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=A6(this._delegate,t);return new Da(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),v6(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(p6)}(n._repo)}(this._delegate)}}H1.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var LX=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:l=!1}){OH(e);const u=new xo.zt("auth-internal",new xo.H0("database-standalone"));return u.setComponent(new xo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new H1(L6(n,u,void 0,t,l),n),namespace:r}}});const VX=H1.ServerValue;function U6(n){return null==n}function B6(n){return"function"==typeof n.set}function $6(n,t){return B6(t)?t:n.ref(t)}function H6(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(B6(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function j1(n,t,e="on",i=Kh.z){return new Pn.y(r=>{let l=null;return l=n[e](t,(u,f)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:f})}),"once"===e&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,wt.U)(r=>{const{snapshot:l,prevKey:u}=r;let f=null;return l.exists()&&(f=l.key),{type:t,payload:l,prevKey:u,key:f}}),(0,m3.B)())}function j6(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ZX(n,t){const{payload:e,prevKey:i,key:r}=t,l=j6(n,r),u=function(n,t){if(U6(t))return 0;{const e=j6(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let f=null;t.payload.forEach(g=>{const y={payload:g,type:"value",prevKey:f,key:g.key};return f=g.key,n=[...n,y],!1})}return n;case"child_added":if(l>-1){const f=n[l-1];(f&&f.key||null)!==i&&(n=n.filter(g=>g.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(f=>f.payload.key!==e.key);case"child_changed":return n.map(f=>f.payload.key===r?t:f);case"child_moved":if(l>-1){const f=n.splice(l,1)[0];return(n=n.slice()).splice(u,0,f),n}return n;default:return n}}function Z6(n){return(U6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function G6(n,t,e){return function(n,t,e){return j1(n,"value","once",e).pipe(si(i=>{const r=[(0,ct.of)(i)];return t.forEach(l=>r.push(j1(n,l,"on",e))),(0,au.T)(...r).pipe(xa(ZX,[]))}),oa())}(n,t=Z6(t),e)}function q6(n,t,e){const i=(t=Z6(t)).map(r=>j1(n,r,"on",e));return(0,au.T)(...i)}function z6(n,t){return function(i,r){return H6(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function WX(n){return function(e){return e?H6(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function W6(n,t){return function(){return j1(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new xo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new H1(r,i)},"PUBLIC").setServiceProps({Reference:Da,Query:xs,Database:H1,DataSnapshot:Pp,enableLogging:CX,INTERNAL:LX,ServerValue:VX}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.4")}(la.Z);const QX=new s.OlP("angularfire2.realtimeDatabaseURL"),JX=new s.OlP("angularfire2.database.use-emulator");let XX=(()=>{class n{constructor(e,i,r,l,u,f,g,y,E,T,I,R,U,te,fe){this.schedulers=f;const We=g,Je=(0,yr.on)(e,u,i);y&&tb(Je,u,E,I,R,U,T,te),this.database=(0,yr.cc)(`${Je.name}.database.${r}`,"AngularFireDatabase",Je.name,()=>{const mt=u.runOutsideAngular(()=>Je.database(r||void 0));return We&&mt.useEmulator(...We),mt},[We])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>$6(this.database,e));let l=r;return i&&(l=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:z6(i,"update"),set:z6(i,"set"),push:r=>i.push(r),remove:WX(i),snapshotChanges:r=>G6(n,r,e).pipe(gt.iC),stateChanges:r=>q6(n,r,e).pipe(gt.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return j1(n,"value","on",t).pipe((0,wt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(CM(t),(0,wt.U)(([r,l])=>{const u=r.lastKeyToLoad,f=l.map(g=>g.key);return{actions:l,lastKeyToLoad:u,loadedKeys:f}}),function(n){return t=>t.lift(new jK(n))}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,wt.U)(r=>r.actions))}(n,q6(n,t).pipe(xa((r,l)=>[...r,l],[])),e)}(n,r,e).pipe(gt.iC),valueChanges:(r,l)=>G6(n,r,e).pipe((0,wt.U)(f=>f.map(g=>l&&l.idField?Object.assign(Object.assign({},g.payload.val()),{[l.idField]:g.key}):g.payload.val())),gt.iC)}}(l,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>W6(n,t.schedulers.outsideAngular)().pipe(gt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>W6(n,t.schedulers.outsideAngular)().pipe(gt.iC,(0,wt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>$6(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yr.Dh),s.LFG(yr.xv,8),s.LFG(QX,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(gt.HU),s.LFG(JX,8),s.LFG(dp,8),s.LFG(cp,8),s.LFG(up,8),s.LFG(Xv,8),s.LFG(eb,8),s.LFG(ME,8),s.LFG(NE,8),s.LFG(wa,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eee=(()=>{class n{constructor(){Ym.Z.registerVersion("angularfire",gt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XX]}),n})(),pee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[eP]]}),n})(),Ree=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pee,pu],pu]}),n})();const sZ_firebase={projectId:"sucd-database",appId:"1:1034313338206:web:473760fc9916c82f6013cf",databaseURL:"https://sucd-database-default-rtdb.firebaseio.com",storageBucket:"sucd-database.appspot.com",locationId:"us-central",apiKey:"AIzaSyDL3wmCFclCGqHcklMh_XImLBwYqXoVEZY",authDomain:"sucd-database.firebaseapp.com",messagingSenderId:"1034313338206",measurementId:"G-C7K6JN4KH3"};var oZ=x(7039);function xee(n){return new Pn.y(function(t){return{unsubscribe:(0,oZ.t)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class FN{constructor(t){return t}}class LN{constructor(){return(0,gt.vb)("auth")}}const YL=new s.OlP("angularfire2.auth-instances");function Fee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new FN(i)}}const Lee={provide:LN,deps:[[new s.FiY,YL]]},Vee={provide:FN,useFactory:function(n,t){const e=(0,gt.JM)("auth",n,t);return e&&new FN(e)},deps:[[new s.FiY,YL],_a]};let Uee=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",gt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Vee,Lee]}),n})();function Bee(n,...t){return{ngModule:Uee,providers:[{provide:YL,useFactory:Fee(n),multi:!0,deps:[s.R0b,s.zs3,gt.HU,op,[new s.FiY,wa],...t]}]}}const $ee=(0,gt.u3)(xee,!0),Hee=(0,gt.u3)(oZ.n,!0);class KL{constructor(t){return t}}const lZ="database",QL=new s.OlP("angularfire2.database-instances");function Gee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new KL(i)}}const qee={provide:class{constructor(){return(0,gt.vb)(lZ)}},deps:[[new s.FiY,QL]]},zee={provide:KL,useFactory:function(n,t){const e=(0,gt.JM)(lZ,n,t);return e&&new KL(e)},deps:[[new s.FiY,QL],_a]};let Wee=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",gt.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[zee,qee]}),n})();function Yee(n,...t){return{ngModule:Wee,providers:[{provide:QL,useFactory:Gee(n),multi:!0,deps:[s.R0b,s.zs3,gt.HU,op,[new s.FiY,LN],[new s.FiY,wa],...t]}]}}const Kee=(0,gt.u3)(yX,!0);class JL{constructor(t){return t}}const cZ="firestore",XL=new s.OlP("angularfire2.firestore-instances");function Xee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new JL(i)}}const ete={provide:class{constructor(){return(0,gt.vb)(cZ)}},deps:[[new s.FiY,XL]]},tte={provide:JL,useFactory:function(n,t){const e=(0,gt.JM)(cZ,n,t);return e&&new JL(e)},deps:[[new s.FiY,XL],_a]};let nte=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",gt.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[tte,ete]}),n})();function ite(n,...t){return{ngModule:nte,providers:[{provide:XL,useFactory:Xee(n),multi:!0,deps:[s.R0b,s.zs3,gt.HU,op,[new s.FiY,LN],[new s.FiY,wa],...t]}]}}const rte=(0,gt.u3)(PI,!0);class e2{constructor(t){return t}}const uZ="storage",t2=new s.OlP("angularfire2.storage-instances");function ate(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new e2(i)}}const lte={provide:class{constructor(){return(0,gt.vb)(uZ)}},deps:[[new s.FiY,t2]]},cte={provide:e2,useFactory:function(n,t){const e=(0,gt.JM)(uZ,n,t);return e&&new e2(e)},deps:[[new s.FiY,t2],_a]};let ute=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",gt.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cte,lte]}),n})();function dte(n,...t){return{ngModule:ute,providers:[{provide:t2,useFactory:ate(n),multi:!0,deps:[s.R0b,s.zs3,gt.HU,op,[new s.FiY,LN],[new s.FiY,wa],...t]}]}}const hte=(0,gt.u3)(XV,!0);class pte{constructor(t,e,i,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=i,this.subjectSelector=r}call(t,e){return e.subscribe(new gte(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class gte extends ji.L{constructor(t,e,i,r,l){super(t),this.keySelector=e,this.elementSelector=i,this.durationSelector=r,this.subjectSelector=l,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(i){return void this.error(i)}this._group(t,e)}_group(t,e){let i=this.groups;i||(i=this.groups=new Map);let l,r=i.get(e);if(this.elementSelector)try{l=this.elementSelector(t)}catch(u){this.error(u)}else l=t;if(!r){r=this.subjectSelector?this.subjectSelector():new Tt.xQ,i.set(e,r);const u=new dZ(e,r,this);if(this.destination.next(u),this.durationSelector){let f;try{f=this.durationSelector(new dZ(e,r))}catch(g){return void this.error(g)}this.add(f.subscribe(new mte(e,r,this)))}}r.closed||r.next(l)}_error(t){const e=this.groups;e&&(e.forEach((i,r)=>{i.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((e,i)=>{e.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class mte extends ji.L{constructor(t,e,i){super(e),this.key=t,this.group=e,this.parent=i}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class dZ extends Pn.y{constructor(t,e,i){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=i}_subscribe(t){const e=new ko.w,{refCountSubscription:i,groupSubject:r}=this;return i&&!i.closed&&e.add(new _te(i)),e.add(r.subscribe(t)),e}}class _te extends ko.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;!t.closed&&!this.closed&&(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var yte=x(4762),hZ=x(6279);class q1{constructor(t){return t}}const pZ=gt.nk.async,bte=(0,gt.u3)(hZ.Kz,!0),wte=(0,gt.u3)(hZ.Iv,!0);let gZ=(()=>{class n{constructor(e,i,r){let l;this.disposables=[],(0,Bo.KN)("angularfire",gt.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(u=>{l=u})),pZ().then(()=>{const u=r.get(q1);u?this.disposables=[$ee(e).subscribe(f=>{wte(u,null==f?void 0:f.uid),l()})]:l()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(FN),s.LFG(s.R0b),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const mZ="firebase_screen_id",n2="outlet",z1="screen_class",_Z="screen_name";let xte=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const r2={},Ote=n=>{const t=[n[z1],n[n2]].join("#");if(r2.hasOwnProperty(t))return r2[t];{const e=xte++;return r2[t]=e,e}};let Fte=(()=>{class n{constructor(e,i,r,l,u,f){(0,Bo.KN)("angularfire",gt.q4.full,"screen-tracking"),pZ().then(()=>{const g=f.get(q1);!e||!g||l.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe(Nn(r=>r instanceof wc)).pipe(si(r=>{var l;const f=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,R=>R.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===l?void 0:l.toString())||"",g=n.routerState.root.children.map(R=>R).find(R=>R.outlet===r.snapshot.outlet);if(!g)return(0,ct.of)(null);let y=g;for(;y.firstChild;)y=y.firstChild;const E=y.pathFromRoot.map(R=>{var U;return null===(U=R.routeConfig)||void 0===U?void 0:U.path}).filter(R=>R).join("/")||"/",T={[_Z]:E,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:E,[n2]:r.snapshot.outlet};t&&(T.page_title=t.getTitle());let I=g.component;if(I){if(I===Ar){let R=r.snapshot;for(;R.firstChild;)R=R.firstChild;I=R.component}}else I=r.snapshot.component;if("string"==typeof I)return(0,ct.of)(Object.assign(Object.assign({},T),{[z1]:I}));if(I){const R=e.resolveComponentFactory(I);return(0,ct.of)(Object.assign(Object.assign({},T),{[z1]:R.selector}))}return(0,ct.of)(null)}),Nn(r=>!!r),(0,wt.U)(r=>Object.assign({firebase_screen_class:r[z1],[mZ]:Ote(r)},r)),function(n,t,e,i){return r=>r.lift(new pte(n,void 0,void 0,void 0))}(r=>r[n2]),(0,wi.zg)(r=>r.pipe(oa((l,u)=>JSON.stringify(l)===JSON.stringify(u)),No(void 0),Zt(),(0,wt.U)(([l,u])=>l?Object.assign({firebase_previous_class:l[z1],firebase_previous_screen:l[_Z],firebase_previous_id:l[mZ]},u):u)))))(e,i,r).pipe(si(y=>(0,yte.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),bte(g,"screen_view",y)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ki,8),s.LFG(Gp,8),s.LFG(s._Vd),s.LFG(s.R0b),s.LFG(gZ,8),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Bte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[$K]}),n.\u0275inj=s.cJS({providers:[RH,tl,Fte,gZ],imports:[[$_,g$,BK,eee,uu,cz,m$,t8,f8,Ree,yr.hO.initializeApp({apiKey:"AIzaSyDL3wmCFclCGqHcklMh_XImLBwYqXoVEZY",authDomain:"sucd-database.firebaseapp.com",projectId:"sucd-database",storageBucket:"sucd-database.appspot.com",messagingSenderId:"1034313338206",appId:"1:1034313338206:web:473760fc9916c82f6013cf",measurementId:"G-C7K6JN4KH3"}),gK,aV(()=>dV(sZ_firebase)),Bee(()=>Hee()),Yee(()=>Kee()),ite(()=>rte()),dte(()=>hte())]]}),n})();(0,s.G48)(),xu().bootstrapModule(Bte).catch(n=>console.error(n))},4762:(dt,xe,x)=>{"use strict";function ue(ge,Ee){var _e={};for(var be in ge)Object.prototype.hasOwnProperty.call(ge,be)&&Ee.indexOf(be)<0&&(_e[be]=ge[be]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(be=Object.getOwnPropertySymbols(ge);He<be.length;He++)Ee.indexOf(be[He])<0&&Object.prototype.propertyIsEnumerable.call(ge,be[He])&&(_e[be[He]]=ge[be[He]])}return _e}function X(ge,Ee,_e,be){return new(_e||(_e=Promise))(function(we,Mt){function cn(_t){try{St(be.next(_t))}catch(Ot){Mt(Ot)}}function kn(_t){try{St(be.throw(_t))}catch(Ot){Mt(Ot)}}function St(_t){_t.done?we(_t.value):function(we){return we instanceof _e?we:new _e(function(Mt){Mt(we)})}(_t.value).then(cn,kn)}St((be=be.apply(ge,Ee||[])).next())})}x.d(xe,{_T:()=>ue,mG:()=>X})},3394:(dt,xe,x)=>{"use strict";x.d(xe,{Z:()=>Le});var s=x(3854),H=x(3910),O=x(8026),ue=x(5422);class me{constructor(ye,ae){this._delegate=ye,this.firebase=ae,(0,O._addComponent)(ye,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ye,ae=O._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ye);return!$e.isInitialized()&&"EXPLICIT"===(null===(ke=$e.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:ae})}_removeServiceInstance(ye,ae=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ae)}_addComponent(ye){(0,O._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,O._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function K(){const Ae=function(Ae){const ye={},ae={__esModule:!0,initializeApp:function(ve,Xt={}){const ge=O.initializeApp(ve,Xt);if((0,s.r3)(ye,ge.name))return ye[ge.name];const Ee=new Ae(ge,ae);return ye[ge.name]=Ee,Ee},app:$e,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(ve){const Xt=ve.name,ge=Xt.replace("-compat","");if(O._registerComponent(ve)&&"PUBLIC"===ve.type){const Ee=(_e=$e())=>{if("function"!=typeof _e[ge])throw ie.create("invalid-app-argument",{appName:Xt});return _e[ge]()};void 0!==ve.serviceProps&&(0,s.ZB)(Ee,ve.serviceProps),ae[ge]=Ee,Ae.prototype[ge]=function(..._e){return this._getService.bind(this,Xt).apply(this,ve.multipleInstances?_e:[])}}return"PUBLIC"===ve.type?ae[ge]:null},removeApp:function(ve){delete ye[ve]},useAsService:function(ve,Xt){return"serverAuth"===Xt?null:Xt},modularAPIs:O}};function $e(ve){if(!(0,s.r3)(ye,ve=ve||O._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ve});return ye[ve]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function(){return Object.keys(ye).map(ve=>ye[ve])}}),$e.App=Ae,ae}(me);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(ae){(0,s.ZB)(Ae,ae)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ae}(),j=new ue.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=P;(0,O.registerVersion)("@firebase/app-compat","0.1.8",undefined)},8026:(dt,xe,x)=>{"use strict";x.r(xe),x.d(xe,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>kn,_addComponent:()=>xn,_addOrOverwriteComponent:()=>or,_apps:()=>_t,_clearComponents:()=>un,_components:()=>Ot,_getProvider:()=>Nt,_registerComponent:()=>ii,_removeServiceInstance:()=>en,deleteApp:()=>Ni,getApp:()=>Mi,getApps:()=>Zn,initializeApp:()=>Ji,onLog:()=>Vt,registerVersion:()=>ut,setLogLevel:()=>ai});var s=x(8239),H=x(3910),O=x(5422),ue=x(3854);class me{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(Yt=>{if(function(yt){const Et=yt.getComponent();return"VERSION"===(null==Et?void 0:Et.type)}(Yt)){const Bt=Yt.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(Yt=>Yt).join(" ")}}const ie="@firebase/app",X="0.7.7",K=new O.Yd("@firebase/app"),kn="[DEFAULT]",St={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Ot=new Map;function xn(yt,Et){try{yt.container.addComponent(Et)}catch(Yt){K.debug(`Component ${Et.name} failed to register with FirebaseApp ${yt.name}`,Yt)}}function or(yt,Et){yt.container.addOrOverwriteComponent(Et)}function ii(yt){const Et=yt.name;if(Ot.has(Et))return K.debug(`There were multiple attempts to register component ${Et}.`),!1;Ot.set(Et,yt);for(const Yt of _t.values())xn(Yt,yt);return!0}function Nt(yt,Et){return yt.container.getProvider(Et)}function en(yt,Et,Yt=kn){Nt(yt,Et).clearInstance(Yt)}function un(){Ot.clear()}const Ai=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gi{constructor(Et,Yt,Bt){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},Yt),this._name=Yt.name,this._automaticDataCollectionEnabled=Yt.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const oi="9.4.0";function Ji(yt,Et={}){"object"!=typeof Et&&(Et={name:Et});const Yt=Object.assign({name:kn,automaticDataCollectionEnabled:!1},Et),Bt=Yt.name;if("string"!=typeof Bt||!Bt)throw Ai.create("bad-app-name",{appName:String(Bt)});const qn=_t.get(Bt);if(qn){if((0,ue.vZ)(yt,qn.options)&&(0,ue.vZ)(Yt,qn.config))return qn;throw Ai.create("duplicate-app",{appName:Bt})}const sn=new H.H0(Bt);for(const nt of Ot.values())sn.addComponent(nt);const Ye=new gi(yt,Yt,sn);return _t.set(Bt,Ye),Ye}function Mi(yt=kn){const Et=_t.get(yt);if(!Et)throw Ai.create("no-app",{appName:yt});return Et}function Zn(){return Array.from(_t.values())}function Ni(yt){return ar.apply(this,arguments)}function ar(){return(ar=(0,s.Z)(function*(yt){const Et=yt.name;_t.has(Et)&&(_t.delete(Et),yield Promise.all(yt.container.getProviders().map(Yt=>Yt.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function ut(yt,Et,Yt){var Bt;let qn=null!==(Bt=St[yt])&&void 0!==Bt?Bt:yt;Yt&&(qn+=`-${Yt}`);const sn=qn.match(/\s|\//),Ye=Et.match(/\s|\//);if(sn||Ye){const nt=[`Unable to register library "${qn}" with version "${Et}":`];return sn&&nt.push(`library name "${qn}" contains illegal characters (whitespace or "/")`),sn&&Ye&&nt.push("and"),Ye&&nt.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void K.warn(nt.join(" "))}ii(new H.wA(`${qn}-version`,()=>({library:qn,version:Et}),"VERSION"))}function Vt(yt,Et){if(null!==yt&&"function"!=typeof yt)throw Ai.create("invalid-log-argument");(0,O.Am)(yt,Et)}function ai(yt){(0,O.Ub)(yt)}ii(new H.wA("platform-logger",Et=>new me(Et),"PRIVATE")),ut(ie,X,""),ut(ie,X,"esm2017"),ut("fire-js","")},3910:(dt,xe,x)=>{"use strict";x.d(xe,{wA:()=>O,H0:()=>X,zt:()=>me});var s=x(8239),H=x(3854);class O{constructor(P,j,q){this.name=P,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ue="[DEFAULT]";class me{constructor(P,j){this.name=P,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const j=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(j)){const q=new H.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:j});ce&&q.resolve(ce)}catch(ce){}}return this.instancesDeferred.get(j).promise}getImmediate(P){var j;const q=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),ce=null!==(j=null==P?void 0:P.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Se){if(ce)return null;throw Se}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(j){}for(const[j,q]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(j);try{const Se=this.getOrInitializeService({instanceIdentifier:ce});q.resolve(Se)}catch(Se){}}}}clearInstance(P=ue){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,s.Z)(function*(){const j=Array.from(P.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ue){return this.instances.has(P)}getOptions(P=ue){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:j={}}=P,q=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[Se,Le]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Se)&&Le.resolve(ce);return ce}onInit(P,j){var q;const ce=this.normalizeInstanceIdentifier(j),Se=null!==(q=this.onInitCallbacks.get(ce))&&void 0!==q?q:new Set;Se.add(P),this.onInitCallbacks.set(ce,Se);const Le=this.instances.get(ce);return Le&&P(Le,ce),()=>{Se.delete(P)}}invokeOnInitCallbacks(P,j){const q=this.onInitCallbacks.get(j);if(q)for(const ce of q)try{ce(P,j)}catch(Se){}}getOrInitializeService({instanceIdentifier:P,options:j={}}){let q=this.instances.get(P);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(K=P,K===ue?void 0:K),options:j}),this.instances.set(P,q),this.instancesOptions.set(P,j),this.invokeOnInitCallbacks(q,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,q)}catch(ce){}var K;return q||null}normalizeInstanceIdentifier(P=ue){return this.component?this.component.multipleInstances?P:ue:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const j=this.getProvider(P.name);if(j.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);j.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const j=new me(P,this);return this.providers.set(P,j),j}getProviders(){return Array.from(this.providers.values())}}},3328:(dt,xe,x)=>{"use strict";var s=x(8239),H=x(8026),O=x(3910),ue=x(3854),me=x(6676);const oe="@firebase/installations",K="w:0.5.4",P="FIS_v2",Ae=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(se){return se instanceof ue.ZR&&se.code.includes("request-failed")}function ae({projectId:se}){return`https://firebaseinstallations.googleapis.com/v1/projects/${se}/installations`}function ke(se){return{token:se.token,requestStatus:2,expiresIn:Xt(se.expiresIn),creationTime:Date.now()}}function $e(se,Ne){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(se,Ne){const ht=(yield Ne.json()).error;return Ae.create("request-failed",{requestName:se,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function Lt({apiKey:se}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":se})}function xt(se,{refreshToken:Ne}){const Fe=Lt(se);return Fe.append("Authorization",function(se){return`${P} ${se}`}(Ne)),Fe}function Jt(se){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(se){const Ne=yield se();return Ne.status>=500&&Ne.status<600?se():Ne})).apply(this,arguments)}function Xt(se){return Number(se.replace("s","000"))}function Ee(se,Ne){return _e.apply(this,arguments)}function _e(){return(_e=(0,s.Z)(function*(se,{fid:Ne}){const Fe=ae(se),rt={method:"POST",headers:Lt(se),body:JSON.stringify({fid:Ne,authVersion:P,appId:se.appId,sdkVersion:K})},Jn=yield Jt(()=>fetch(Fe,rt));if(Jn.ok){const Un=yield Jn.json();return{fid:Un.fid||Ne,registrationStatus:2,refreshToken:Un.refreshToken,authToken:ke(Un.authToken)}}throw yield $e("Create Installation",Jn)})).apply(this,arguments)}function be(se){return new Promise(Ne=>{setTimeout(Ne,se)})}const we=/^[cdef][\w-]{21}$/;function cn(){try{const se=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(se),se[0]=112+se[0]%16;const Fe=function(se){return function(se){return btoa(String.fromCharCode(...se)).replace(/\+/g,"-").replace(/\//g,"_")}(se).substr(0,22)}(se);return we.test(Fe)?Fe:""}catch(se){return""}}function St(se){return`${se.appName}!${se.appId}`}const _t=new Map;function Ot(se,Ne){const Fe=St(se);ii(Fe,Ne),function(se,Ne){const Fe=(!en&&"BroadcastChannel"in self&&(en=new BroadcastChannel("[Firebase] FID Change"),en.onmessage=se=>{ii(se.data.key,se.data.fid)}),en);Fe&&Fe.postMessage({key:se,fid:Ne}),0===_t.size&&en&&(en.close(),en=null)}(Fe,Ne)}function ii(se,Ne){const Fe=_t.get(se);if(Fe)for(const ht of Fe)ht(Ne)}let en=null;const oi="firebase-installations-store";let Ji=null;function Mi(){return Ji||(Ji=(0,me.openDb)("firebase-installations-database",1,se=>{switch(se.oldVersion){case 0:se.createObjectStore(oi)}})),Ji}function Zn(se,Ne){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(se,Ne){const Fe=St(se),On=(yield Mi()).transaction(oi,"readwrite"),rt=On.objectStore(oi),Jn=yield rt.get(Fe);return yield rt.put(Ne,Fe),yield On.complete,(!Jn||Jn.fid!==Ne.fid)&&Ot(se,Ne.fid),Ne})).apply(this,arguments)}function ar(se){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*(se){const Ne=St(se),ht=(yield Mi()).transaction(oi,"readwrite");yield ht.objectStore(oi).delete(Ne),yield ht.complete})).apply(this,arguments)}function Vt(se,Ne){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(se,Ne){const Fe=St(se),On=(yield Mi()).transaction(oi,"readwrite"),rt=On.objectStore(oi),Jn=yield rt.get(Fe),Un=Ne(Jn);return void 0===Un?yield rt.delete(Fe):yield rt.put(Un,Fe),yield On.complete,Un&&(!Jn||Jn.fid!==Un.fid)&&Ot(se,Un.fid),Un})).apply(this,arguments)}function Gn(se){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(se){let Ne;const Fe=yield Vt(se,ht=>{const On=Et(ht),rt=Yt(se,On);return Ne=rt.registrationPromise,rt.installationEntry});return""===Fe.fid?{installationEntry:yield Ne}:{installationEntry:Fe,registrationPromise:Ne}})).apply(this,arguments)}function Et(se){return mi(se||{fid:cn(),registrationStatus:0})}function Yt(se,Ne){if(0===Ne.registrationStatus){if(!navigator.onLine)return{installationEntry:Ne,registrationPromise:Promise.reject(Ae.create("app-offline"))};const Fe={fid:Ne.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Fe,registrationPromise:function(se,Ne){return qn.apply(this,arguments)}(se,Fe)}}return 1===Ne.registrationStatus?{installationEntry:Ne,registrationPromise:sn(se)}:{installationEntry:Ne}}function qn(){return(qn=(0,s.Z)(function*(se,Ne){try{return Zn(se,yield Ee(se,Ne))}catch(Fe){throw ye(Fe)&&409===Fe.customData.serverCode?yield ar(se):yield Zn(se,{fid:Ne.fid,registrationStatus:0}),Fe}})).apply(this,arguments)}function sn(se){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(se){let Ne=yield nt(se);for(;1===Ne.registrationStatus;)yield be(100),Ne=yield nt(se);if(0===Ne.registrationStatus){const{installationEntry:Fe,registrationPromise:ht}=yield Gn(se);return ht||Fe}return Ne})).apply(this,arguments)}function nt(se){return Vt(se,Ne=>{if(!Ne)throw Ae.create("installation-not-found");return mi(Ne)})}function mi(se){return function(se){return 1===se.registrationStatus&&se.registrationTime+1e4<Date.now()}(se)?{fid:se.fid,registrationStatus:0}:se}function Vi(se,Ne){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*({appConfig:se,platformLoggerProvider:Ne},Fe){const ht=fn(se,Fe),On=xt(se,Fe),rt=Ne.getImmediate({optional:!0});rt&&On.append("x-firebase-client",rt.getPlatformInfoString());const Un={method:"POST",headers:On,body:JSON.stringify({installation:{sdkVersion:K}})},eo=yield Jt(()=>fetch(ht,Un));if(eo.ok)return ke(yield eo.json());throw yield $e("Generate Auth Token",eo)})).apply(this,arguments)}function fn(se,{fid:Ne}){return`${ae(se)}/${Ne}/authTokens:generate`}function Sr(se){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(se,Ne=!1){let Fe;const ht=yield Vt(se.appConfig,rt=>{if(!le(rt))throw Ae.create("not-registered");const Jn=rt.authToken;if(!Ne&&De(Jn))return rt;if(1===Jn.requestStatus)return Fe=W(se,Ne),rt;{if(!navigator.onLine)throw Ae.create("app-offline");const Un=Xe(rt);return Fe=de(se,Un),Un}});return Fe?yield Fe:ht.authToken})).apply(this,arguments)}function W(se,Ne){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*(se,Ne){let Fe=yield Oe(se.appConfig);for(;1===Fe.authToken.requestStatus;)yield be(100),Fe=yield Oe(se.appConfig);const ht=Fe.authToken;return 0===ht.requestStatus?Sr(se,Ne):ht})).apply(this,arguments)}function Oe(se){return Vt(se,Ne=>{if(!le(Ne))throw Ae.create("not-registered");return function(se){return 1===se.requestStatus&&se.requestTime+1e4<Date.now()}(Ne.authToken)?Object.assign(Object.assign({},Ne),{authToken:{requestStatus:0}}):Ne})}function de(se,Ne){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(se,Ne){try{const Fe=yield Vi(se,Ne),ht=Object.assign(Object.assign({},Ne),{authToken:Fe});return yield Zn(se.appConfig,ht),Fe}catch(Fe){if(!ye(Fe)||401!==Fe.customData.serverCode&&404!==Fe.customData.serverCode){const ht=Object.assign(Object.assign({},Ne),{authToken:{requestStatus:0}});yield Zn(se.appConfig,ht)}else yield ar(se.appConfig);throw Fe}})).apply(this,arguments)}function le(se){return void 0!==se&&2===se.registrationStatus}function De(se){return 2===se.requestStatus&&!function(se){const Ne=Date.now();return Ne<se.creationTime||se.creationTime+se.expiresIn<Ne+36e5}(se)}function Xe(se){const Ne={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},se),{authToken:Ne})}function G(){return(G=(0,s.Z)(function*(se){const Ne=se,{installationEntry:Fe,registrationPromise:ht}=yield Gn(Ne.appConfig);return ht?ht.catch(console.error):Sr(Ne).catch(console.error),Fe.fid})).apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(se,Ne=!1){const Fe=se;return yield Ue(Fe.appConfig),(yield Sr(Fe,Ne)).token})).apply(this,arguments)}function Ue(se){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(se){const{registrationPromise:Ne}=yield Gn(se);Ne&&(yield Ne)})).apply(this,arguments)}function _i(se){return Ae.create("missing-app-config-values",{valueName:se})}const tt="installations";(0,H._registerComponent)(new O.wA(tt,se=>{const Ne=se.getProvider("app").getImmediate();return{app:Ne,appConfig:function(se){if(!se||!se.options)throw _i("App Configuration");if(!se.name)throw _i("App Name");const Ne=["projectId","apiKey","appId"];for(const Fe of Ne)if(!se.options[Fe])throw _i(Fe);return{appName:se.name,projectId:se.options.projectId,apiKey:se.options.apiKey,appId:se.options.appId}}(Ne),platformLoggerProvider:(0,H._getProvider)(Ne,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,H._registerComponent)(new O.wA("installations-internal",se=>{const Ne=se.getProvider("app").getImmediate(),Fe=(0,H._getProvider)(Ne,tt).getImmediate();return{getId:()=>function(se){return G.apply(this,arguments)}(Fe),getToken:On=>function(se){return Ie.apply(this,arguments)}(Fe,On)}},"PRIVATE")),(0,H.registerVersion)(oe,"0.5.4"),(0,H.registerVersion)(oe,"0.5.4","esm2017")},5422:(dt,xe,x)=>{"use strict";x.d(xe,{in:()=>H,Yd:()=>ie,Ub:()=>X,Am:()=>K});const s=[];var H=(()=>{return(P=H||(H={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",H;var P})();const O={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ue=H.INFO,me={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},oe=(P,j,...q)=>{if(j<P.logLevel)return;const ce=(new Date).toISOString(),Se=me[j];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Se](`[${ce}]  ${P.name}:`,...q)};class ie{constructor(j){this.name=j,this._logLevel=ue,this._logHandler=oe,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in H))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...j),this._logHandler(this,H.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...j),this._logHandler(this,H.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,H.INFO,...j),this._logHandler(this,H.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,H.WARN,...j),this._logHandler(this,H.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...j),this._logHandler(this,H.ERROR,...j)}}function X(P){s.forEach(j=>{j.setLogLevel(P)})}function K(P,j){for(const q of s){let ce=null;j&&j.level&&(ce=O[j.level]),q.userLogHandler=null===P?null:(Se,Le,...Ae)=>{const ye=Ae.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch(ke){return null}}).filter(ae=>ae).join(" ");Le>=(null!=ce?ce:Se.logLevel)&&P({level:H[Le].toLowerCase(),message:ye,args:Ae,type:Se.name})}}}},8239:(dt,xe,x)=>{"use strict";function s(O,ue,me,oe,ie,X,K){try{var P=O[X](K),j=P.value}catch(q){return void me(q)}P.done?ue(j):Promise.resolve(j).then(oe,ie)}function H(O){return function(){var ue=this,me=arguments;return new Promise(function(oe,ie){var X=O.apply(ue,me);function K(j){s(X,oe,ie,K,P,"next",j)}function P(j){s(X,oe,ie,K,P,"throw",j)}K(void 0)})}}x.d(xe,{Z:()=>H})}},dt=>{dt(dt.s=7900)}]);